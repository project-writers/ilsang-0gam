function Nv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function am(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var um={exports:{}},$l={},cm={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=Symbol.for("react.element"),Pv=Symbol.for("react.portal"),Av=Symbol.for("react.fragment"),Dv=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),jv=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),Fv=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),_v=Symbol.for("react.memo"),zv=Symbol.for("react.lazy"),xf=Symbol.iterator;function Bv(t){return t===null||typeof t!="object"?null:(t=xf&&t[xf]||t["@@iterator"],typeof t=="function"?t:null)}var dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fm=Object.assign,hm={};function Ls(t,e,n){this.props=t,this.context=e,this.refs=hm,this.updater=n||dm}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ls.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pm(){}pm.prototype=Ls.prototype;function Uc(t,e,n){this.props=t,this.context=e,this.refs=hm,this.updater=n||dm}var Hc=Uc.prototype=new pm;Hc.constructor=Uc;fm(Hc,Ls.prototype);Hc.isPureReactComponent=!0;var Sf=Array.isArray,mm=Object.prototype.hasOwnProperty,Wc={current:null},gm={key:!0,ref:!0,__self:!0,__source:!0};function ym(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mm.call(e,r)&&!gm.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Qi,type:t,key:i,ref:o,props:s,_owner:Wc.current}}function Vv(t,e){return{$$typeof:Qi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qi}function $v(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wf=/\/+/g;function Sa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$v(""+t.key):e.toString(36)}function Oo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qi:case Pv:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Sa(o,0):r,Sf(s)?(n="",t!=null&&(n=t.replace(wf,"$&/")+"/"),Oo(s,e,n,"",function(u){return u})):s!=null&&(qc(s)&&(s=Vv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sf(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Sa(i,l);o+=Oo(i,e,n,a,s)}else if(a=Bv(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Sa(i,l++),o+=Oo(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function io(t,e,n){if(t==null)return t;var r=[],s=0;return Oo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Uv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var it={current:null},To={transition:null},Hv={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:To,ReactCurrentOwner:Wc};Y.Children={map:io,forEach:function(t,e,n){io(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return io(t,function(){e++}),e},toArray:function(t){return io(t,function(e){return e})||[]},only:function(t){if(!qc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=Ls;Y.Fragment=Av;Y.Profiler=Rv;Y.PureComponent=Uc;Y.StrictMode=Dv;Y.Suspense=Lv;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hv;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fm({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)mm.call(e,a)&&!gm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Qi,type:t.type,key:s,ref:i,props:r,_owner:o}};Y.createContext=function(t){return t={$$typeof:Iv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jv,_context:t},t.Consumer=t};Y.createElement=ym;Y.createFactory=function(t){var e=ym.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Fv,render:t}};Y.isValidElement=qc;Y.lazy=function(t){return{$$typeof:zv,_payload:{_status:-1,_result:t},_init:Uv}};Y.memo=function(t,e){return{$$typeof:_v,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=To.transition;To.transition={};try{t()}finally{To.transition=e}};Y.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Y.useCallback=function(t,e){return it.current.useCallback(t,e)};Y.useContext=function(t){return it.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return it.current.useDeferredValue(t)};Y.useEffect=function(t,e){return it.current.useEffect(t,e)};Y.useId=function(){return it.current.useId()};Y.useImperativeHandle=function(t,e,n){return it.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return it.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return it.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return it.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return it.current.useReducer(t,e,n)};Y.useRef=function(t){return it.current.useRef(t)};Y.useState=function(t){return it.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return it.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return it.current.useTransition()};Y.version="18.2.0";cm.exports=Y;var P=cm.exports;const X=am(P),Wv=Nv({__proto__:null,default:X},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv=P,Kv=Symbol.for("react.element"),Qv=Symbol.for("react.fragment"),Jv=Object.prototype.hasOwnProperty,Gv=qv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yv={key:!0,ref:!0,__self:!0,__source:!0};function vm(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jv.call(e,r)&&!Yv.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Kv,type:t,key:i,ref:o,props:s,_owner:Gv.current}}$l.Fragment=Qv;$l.jsx=vm;$l.jsxs=vm;um.exports=$l;var w=um.exports,wu={},km={exports:{}},xt={},xm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,V){var U=R.length;R.push(V);e:for(;0<U;){var se=U-1>>>1,he=R[se];if(0<s(he,V))R[se]=V,R[U]=he,U=se;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var V=R[0],U=R.pop();if(U!==V){R[0]=U;e:for(var se=0,he=R.length,Br=he>>>1;se<Br;){var Qt=2*(se+1)-1,Hs=R[Qt],jt=Qt+1,Sn=R[jt];if(0>s(Hs,U))jt<he&&0>s(Sn,Hs)?(R[se]=Sn,R[jt]=U,se=jt):(R[se]=Hs,R[Qt]=U,se=Qt);else if(jt<he&&0>s(Sn,U))R[se]=Sn,R[jt]=U,se=jt;else break e}}return V}function s(R,V){var U=R.sortIndex-V.sortIndex;return U!==0?U:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,h=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=R)r(u),V.sortIndex=V.expirationTime,e(a,V);else break;V=n(u)}}function S(R){if(y=!1,v(R),!p)if(n(a)!==null)p=!0,oe(C);else{var V=n(u);V!==null&&Me(S,V.startTime-R)}}function C(R,V){p=!1,y&&(y=!1,g(O),O=-1),h=!0;var U=f;try{for(v(V),d=n(a);d!==null&&(!(d.expirationTime>V)||R&&!re());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var he=se(d.expirationTime<=V);V=t.unstable_now(),typeof he=="function"?d.callback=he:d===n(a)&&r(a),v(V)}else r(a);d=n(a)}if(d!==null)var Br=!0;else{var Qt=n(u);Qt!==null&&Me(S,Qt.startTime-V),Br=!1}return Br}finally{d=null,f=U,h=!1}}var E=!1,D=null,O=-1,q=5,_=-1;function re(){return!(t.unstable_now()-_<q)}function K(){if(D!==null){var R=t.unstable_now();_=R;var V=!0;try{V=D(!0,R)}finally{V?W():(E=!1,D=null)}}else E=!1}var W;if(typeof m=="function")W=function(){m(K)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,fe=Z.port2;Z.port1.onmessage=K,W=function(){fe.postMessage(null)}}else W=function(){x(K,0)};function oe(R){D=R,E||(E=!0,W())}function Me(R,V){O=x(function(){R(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,oe(C))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var U=f;f=V;try{return R()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=f;f=R;try{return V()}finally{f=U}},t.unstable_scheduleCallback=function(R,V,U){var se=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?se+U:se):U=se,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=U+he,R={id:c++,callback:V,priorityLevel:R,startTime:U,expirationTime:he,sortIndex:-1},U>se?(R.sortIndex=U,e(u,R),n(a)===null&&R===n(u)&&(y?(g(O),O=-1):y=!0,Me(S,U-se))):(R.sortIndex=he,e(a,R),p||h||(p=!0,oe(C))),R},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(R){var V=f;return function(){var U=f;f=V;try{return R.apply(this,arguments)}finally{f=U}}}})(Sm);xm.exports=Sm;var Xv=xm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=P,kt=Xv;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cm=new Set,Ci={};function Lr(t,e){ws(t,e),ws(t+"Capture",e)}function ws(t,e){for(Ci[t]=e,t=0;t<e.length;t++)Cm.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,Zv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cf={},bf={};function ek(t){return Cu.call(bf,t)?!0:Cu.call(Cf,t)?!1:Zv.test(t)?bf[t]=!0:(Cf[t]=!0,!1)}function tk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nk(t,e,n,r){if(e===null||typeof e>"u"||tk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kc=/[\-:]([a-z])/g;function Qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kc,Qc);Ue[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kc,Qc);Ue[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kc,Qc);Ue[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jc(t,e,n,r){var s=Ue.hasOwnProperty(e)?Ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nk(e,n,s,r)&&(n=null),r||s===null?ek(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xn=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),Gc=Symbol.for("react.strict_mode"),bu=Symbol.for("react.profiler"),bm=Symbol.for("react.provider"),Mm=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Em=Symbol.for("react.offscreen"),Mf=Symbol.iterator;function Ws(t){return t===null||typeof t!="object"?null:(t=Mf&&t[Mf]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,wa;function ni(t){if(wa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wa=e&&e[1]||""}return`
`+wa+t}var Ca=!1;function ba(t,e){if(!t||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ni(t):""}function rk(t){switch(t.tag){case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return t=ba(t.type,!1),t;case 11:return t=ba(t.type.render,!1),t;case 1:return t=ba(t.type,!0),t;default:return""}}function Ou(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jr:return"Fragment";case Qr:return"Portal";case bu:return"Profiler";case Gc:return"StrictMode";case Mu:return"Suspense";case Eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mm:return(t.displayName||"Context")+".Consumer";case bm:return(t._context.displayName||"Context")+".Provider";case Yc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xc:return e=t.displayName||null,e!==null?e:Ou(t.type)||"Memo";case En:e=t._payload,t=t._init;try{return Ou(t(e))}catch{}}return null}function sk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ou(e);case 8:return e===Gc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Om(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ik(t){var e=Om(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lo(t){t._valueTracker||(t._valueTracker=ik(t))}function Tm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Om(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tu(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ef(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nm(t,e){e=e.checked,e!=null&&Jc(t,"checked",e,!1)}function Nu(t,e){Nm(t,e);var n=Zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pu(t,e.type,Zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Of(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pu(t,e,n){(e!=="number"||qo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ri=Array.isArray;function cs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Au(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(ri(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zn(n)}}function Pm(t,e){var n=Zn(e.value),r=Zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Am(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Am(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ao,Dm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ok=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(t){ok.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ui[e]=ui[t]})});function Rm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ui.hasOwnProperty(t)&&ui[t]?(""+e).trim():e+"px"}function jm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var lk=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ru(t,e){if(e){if(lk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function ju(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function Zc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fu=null,ds=null,fs=null;function Pf(t){if(t=Yi(t)){if(typeof Fu!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Kl(e),Fu(t.stateNode,t.type,e))}}function Im(t){ds?fs?fs.push(t):fs=[t]:ds=t}function Fm(){if(ds){var t=ds,e=fs;if(fs=ds=null,Pf(t),e)for(t=0;t<e.length;t++)Pf(e[t])}}function Lm(t,e){return t(e)}function _m(){}var Ma=!1;function zm(t,e,n){if(Ma)return t(e,n);Ma=!0;try{return Lm(t,e,n)}finally{Ma=!1,(ds!==null||fs!==null)&&(_m(),Fm())}}function Mi(t,e){var n=t.stateNode;if(n===null)return null;var r=Kl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Lu=!1;if(gn)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Lu=!1}function ak(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ci=!1,Ko=null,Qo=!1,_u=null,uk={onError:function(t){ci=!0,Ko=t}};function ck(t,e,n,r,s,i,o,l,a){ci=!1,Ko=null,ak.apply(uk,arguments)}function dk(t,e,n,r,s,i,o,l,a){if(ck.apply(this,arguments),ci){if(ci){var u=Ko;ci=!1,Ko=null}else throw Error(N(198));Qo||(Qo=!0,_u=u)}}function _r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Af(t){if(_r(t)!==t)throw Error(N(188))}function fk(t){var e=t.alternate;if(!e){if(e=_r(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Af(s),t;if(i===r)return Af(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Vm(t){return t=fk(t),t!==null?$m(t):null}function $m(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$m(t);if(e!==null)return e;t=t.sibling}return null}var Um=kt.unstable_scheduleCallback,Df=kt.unstable_cancelCallback,hk=kt.unstable_shouldYield,pk=kt.unstable_requestPaint,Ce=kt.unstable_now,mk=kt.unstable_getCurrentPriorityLevel,ed=kt.unstable_ImmediatePriority,Hm=kt.unstable_UserBlockingPriority,Jo=kt.unstable_NormalPriority,gk=kt.unstable_LowPriority,Wm=kt.unstable_IdlePriority,Ul=null,rn=null;function yk(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ul,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:xk,vk=Math.log,kk=Math.LN2;function xk(t){return t>>>=0,t===0?32:31-(vk(t)/kk|0)|0}var uo=64,co=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Go(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=si(l):(i&=o,i!==0&&(r=si(i)))}else o=n&~s,o!==0?r=si(o):i!==0&&(r=si(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$t(e),s=1<<n,r|=t[n],e&=~s;return r}function Sk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$t(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Sk(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function zu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qm(){var t=uo;return uo<<=1,!(uo&4194240)&&(uo=64),t}function Ea(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ji(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$t(e),t[e]=n}function Ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function td(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$t(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ne=0;function Km(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qm,nd,Jm,Gm,Ym,Bu=!1,fo=[],Bn=null,Vn=null,$n=null,Ei=new Map,Oi=new Map,Pn=[],bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rf(t,e){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Ei.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(e.pointerId)}}function Ks(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yi(e),e!==null&&nd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Mk(t,e,n,r,s){switch(e){case"focusin":return Bn=Ks(Bn,t,e,n,r,s),!0;case"dragenter":return Vn=Ks(Vn,t,e,n,r,s),!0;case"mouseover":return $n=Ks($n,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ei.set(i,Ks(Ei.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oi.set(i,Ks(Oi.get(i)||null,t,e,n,r,s)),!0}return!1}function Xm(t){var e=pr(t.target);if(e!==null){var n=_r(e);if(n!==null){if(e=n.tag,e===13){if(e=Bm(n),e!==null){t.blockedOn=e,Ym(t.priority,function(){Jm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function No(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Iu=r,n.target.dispatchEvent(r),Iu=null}else return e=Yi(n),e!==null&&nd(e),t.blockedOn=n,!1;e.shift()}return!0}function jf(t,e,n){No(t)&&n.delete(e)}function Ek(){Bu=!1,Bn!==null&&No(Bn)&&(Bn=null),Vn!==null&&No(Vn)&&(Vn=null),$n!==null&&No($n)&&($n=null),Ei.forEach(jf),Oi.forEach(jf)}function Qs(t,e){t.blockedOn===e&&(t.blockedOn=null,Bu||(Bu=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,Ek)))}function Ti(t){function e(s){return Qs(s,t)}if(0<fo.length){Qs(fo[0],t);for(var n=1;n<fo.length;n++){var r=fo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bn!==null&&Qs(Bn,t),Vn!==null&&Qs(Vn,t),$n!==null&&Qs($n,t),Ei.forEach(e),Oi.forEach(e),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Xm(n),n.blockedOn===null&&Pn.shift()}var hs=xn.ReactCurrentBatchConfig,Yo=!0;function Ok(t,e,n,r){var s=ne,i=hs.transition;hs.transition=null;try{ne=1,rd(t,e,n,r)}finally{ne=s,hs.transition=i}}function Tk(t,e,n,r){var s=ne,i=hs.transition;hs.transition=null;try{ne=4,rd(t,e,n,r)}finally{ne=s,hs.transition=i}}function rd(t,e,n,r){if(Yo){var s=Vu(t,e,n,r);if(s===null)Fa(t,e,r,Xo,n),Rf(t,r);else if(Mk(s,t,e,n,r))r.stopPropagation();else if(Rf(t,r),e&4&&-1<bk.indexOf(t)){for(;s!==null;){var i=Yi(s);if(i!==null&&Qm(i),i=Vu(t,e,n,r),i===null&&Fa(t,e,r,Xo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fa(t,e,r,null,n)}}var Xo=null;function Vu(t,e,n,r){if(Xo=null,t=Zc(r),t=pr(t),t!==null)if(e=_r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xo=t,null}function Zm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case ed:return 1;case Hm:return 4;case Jo:case gk:return 16;case Wm:return 536870912;default:return 16}default:return 16}}var Rn=null,sd=null,Po=null;function eg(){if(Po)return Po;var t,e=sd,n=e.length,r,s="value"in Rn?Rn.value:Rn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Po=s.slice(t,1<r?1-r:void 0)}function Ao(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ho(){return!0}function If(){return!1}function St(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ho:If,this.isPropagationStopped=If,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),e}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=St(_s),Gi=ge({},_s,{view:0,detail:0}),Nk=St(Gi),Oa,Ta,Js,Hl=ge({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Js&&(Js&&t.type==="mousemove"?(Oa=t.screenX-Js.screenX,Ta=t.screenY-Js.screenY):Ta=Oa=0,Js=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Ff=St(Hl),Pk=ge({},Hl,{dataTransfer:0}),Ak=St(Pk),Dk=ge({},Gi,{relatedTarget:0}),Na=St(Dk),Rk=ge({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),jk=St(Rk),Ik=ge({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fk=St(Ik),Lk=ge({},_s,{data:0}),Lf=St(Lk),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bk[t])?!!e[t]:!1}function od(){return Vk}var $k=ge({},Gi,{key:function(t){if(t.key){var e=_k[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ao(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(t){return t.type==="keypress"?Ao(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ao(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uk=St($k),Hk=ge({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=St(Hk),Wk=ge({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),qk=St(Wk),Kk=ge({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qk=St(Kk),Jk=ge({},Hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=St(Jk),Yk=[9,13,27,32],ld=gn&&"CompositionEvent"in window,di=null;gn&&"documentMode"in document&&(di=document.documentMode);var Xk=gn&&"TextEvent"in window&&!di,tg=gn&&(!ld||di&&8<di&&11>=di),zf=String.fromCharCode(32),Bf=!1;function ng(t,e){switch(t){case"keyup":return Yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function Zk(t,e){switch(t){case"compositionend":return rg(e);case"keypress":return e.which!==32?null:(Bf=!0,zf);case"textInput":return t=e.data,t===zf&&Bf?null:t;default:return null}}function e1(t,e){if(Gr)return t==="compositionend"||!ld&&ng(t,e)?(t=eg(),Po=sd=Rn=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tg&&e.locale!=="ko"?null:e.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t1[t.type]:e==="textarea"}function sg(t,e,n,r){Im(r),e=Zo(e,"onChange"),0<e.length&&(n=new id("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fi=null,Ni=null;function n1(t){mg(t,0)}function Wl(t){var e=Zr(t);if(Tm(e))return t}function r1(t,e){if(t==="change")return e}var ig=!1;if(gn){var Pa;if(gn){var Aa="oninput"in document;if(!Aa){var $f=document.createElement("div");$f.setAttribute("oninput","return;"),Aa=typeof $f.oninput=="function"}Pa=Aa}else Pa=!1;ig=Pa&&(!document.documentMode||9<document.documentMode)}function Uf(){fi&&(fi.detachEvent("onpropertychange",og),Ni=fi=null)}function og(t){if(t.propertyName==="value"&&Wl(Ni)){var e=[];sg(e,Ni,t,Zc(t)),zm(n1,e)}}function s1(t,e,n){t==="focusin"?(Uf(),fi=e,Ni=n,fi.attachEvent("onpropertychange",og)):t==="focusout"&&Uf()}function i1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wl(Ni)}function o1(t,e){if(t==="click")return Wl(e)}function l1(t,e){if(t==="input"||t==="change")return Wl(e)}function a1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:a1;function Pi(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cu.call(e,s)||!Wt(t[s],e[s]))return!1}return!0}function Hf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wf(t,e){var n=Hf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hf(n)}}function lg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ag(){for(var t=window,e=qo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qo(t.document)}return e}function ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u1(t){var e=ag(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lg(n.ownerDocument.documentElement,n)){if(r!==null&&ad(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wf(n,i);var o=Wf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c1=gn&&"documentMode"in document&&11>=document.documentMode,Yr=null,$u=null,hi=null,Uu=!1;function qf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||Yr==null||Yr!==qo(r)||(r=Yr,"selectionStart"in r&&ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hi&&Pi(hi,r)||(hi=r,r=Zo($u,"onSelect"),0<r.length&&(e=new id("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yr)))}function po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xr={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},Da={},ug={};gn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function ql(t){if(Da[t])return Da[t];if(!Xr[t])return t;var e=Xr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ug)return Da[t]=e[n];return t}var cg=ql("animationend"),dg=ql("animationiteration"),fg=ql("animationstart"),hg=ql("transitionend"),pg=new Map,Kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){pg.set(t,e),Lr(e,[t])}for(var Ra=0;Ra<Kf.length;Ra++){var ja=Kf[Ra],d1=ja.toLowerCase(),f1=ja[0].toUpperCase()+ja.slice(1);nr(d1,"on"+f1)}nr(cg,"onAnimationEnd");nr(dg,"onAnimationIteration");nr(fg,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(hg,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function Qf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dk(r,e,void 0,t),t.currentTarget=null}function mg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Qf(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Qf(s,l,u),i=a}}}if(Qo)throw t=_u,Qo=!1,_u=null,t}function ae(t,e){var n=e[Qu];n===void 0&&(n=e[Qu]=new Set);var r=t+"__bubble";n.has(r)||(gg(e,t,2,!1),n.add(r))}function Ia(t,e,n){var r=0;e&&(r|=4),gg(n,t,r,e)}var mo="_reactListening"+Math.random().toString(36).slice(2);function Ai(t){if(!t[mo]){t[mo]=!0,Cm.forEach(function(n){n!=="selectionchange"&&(h1.has(n)||Ia(n,!1,t),Ia(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mo]||(e[mo]=!0,Ia("selectionchange",!1,e))}}function gg(t,e,n,r){switch(Zm(e)){case 1:var s=Ok;break;case 4:s=Tk;break;default:s=rd}n=s.bind(null,e,n,t),s=void 0,!Lu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fa(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=pr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}zm(function(){var u=i,c=Zc(n),d=[];e:{var f=pg.get(t);if(f!==void 0){var h=id,p=t;switch(t){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":h=Uk;break;case"focusin":p="focus",h=Na;break;case"focusout":p="blur",h=Na;break;case"beforeblur":case"afterblur":h=Na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=qk;break;case cg:case dg:case fg:h=jk;break;case hg:h=Qk;break;case"scroll":h=Nk;break;case"wheel":h=Gk;break;case"copy":case"cut":case"paste":h=Fk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_f}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,g!==null&&(S=Mi(m,g),S!=null&&y.push(Di(m,S,v)))),x)break;m=m.return}0<y.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Iu&&(p=n.relatedTarget||n.fromElement)&&(pr(p)||p[yn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?pr(p):null,p!==null&&(x=_r(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=Ff,S="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=_f,S="onPointerLeave",g="onPointerEnter",m="pointer"),x=h==null?f:Zr(h),v=p==null?f:Zr(p),f=new y(S,m+"leave",h,n,c),f.target=x,f.relatedTarget=v,S=null,pr(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=v,y.relatedTarget=x,S=y),x=S,h&&p)t:{for(y=h,g=p,m=0,v=y;v;v=$r(v))m++;for(v=0,S=g;S;S=$r(S))v++;for(;0<m-v;)y=$r(y),m--;for(;0<v-m;)g=$r(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=$r(y),g=$r(g)}y=null}else y=null;h!==null&&Jf(d,f,h,y,!1),p!==null&&x!==null&&Jf(d,x,p,y,!0)}}e:{if(f=u?Zr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=r1;else if(Vf(f))if(ig)C=l1;else{C=i1;var E=s1}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=o1);if(C&&(C=C(t,u))){sg(d,C,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Pu(f,"number",f.value)}switch(E=u?Zr(u):window,t){case"focusin":(Vf(E)||E.contentEditable==="true")&&(Yr=E,$u=u,hi=null);break;case"focusout":hi=$u=Yr=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,qf(d,n,c);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":qf(d,n,c)}var D;if(ld)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Gr?ng(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(tg&&n.locale!=="ko"&&(Gr||O!=="onCompositionStart"?O==="onCompositionEnd"&&Gr&&(D=eg()):(Rn=c,sd="value"in Rn?Rn.value:Rn.textContent,Gr=!0)),E=Zo(u,O),0<E.length&&(O=new Lf(O,t,null,n,c),d.push({event:O,listeners:E}),D?O.data=D:(D=rg(n),D!==null&&(O.data=D)))),(D=Xk?Zk(t,n):e1(t,n))&&(u=Zo(u,"onBeforeInput"),0<u.length&&(c=new Lf("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=D))}mg(d,e)})}function Di(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mi(t,n),i!=null&&r.unshift(Di(t,i,s)),i=Mi(t,e),i!=null&&r.push(Di(t,i,s))),t=t.return}return r}function $r(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Mi(n,i),a!=null&&o.unshift(Di(n,a,l))):s||(a=Mi(n,i),a!=null&&o.push(Di(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function Gf(t){return(typeof t=="string"?t:""+t).replace(p1,`
`).replace(m1,"")}function go(t,e,n){if(e=Gf(e),Gf(t)!==e&&n)throw Error(N(425))}function el(){}var Hu=null,Wu=null;function qu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,Yf=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yf<"u"?function(t){return Yf.resolve(null).then(t).catch(v1)}:Ku;function v1(t){setTimeout(function(){throw t})}function La(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ti(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ti(e)}function Un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Xt="__reactFiber$"+zs,Ri="__reactProps$"+zs,yn="__reactContainer$"+zs,Qu="__reactEvents$"+zs,k1="__reactListeners$"+zs,x1="__reactHandles$"+zs;function pr(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xf(t);t!==null;){if(n=t[Xt])return n;t=Xf(t)}return e}t=n,n=t.parentNode}return null}function Yi(t){return t=t[Xt]||t[yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Kl(t){return t[Ri]||null}var Ju=[],es=-1;function rr(t){return{current:t}}function ce(t){0>es||(t.current=Ju[es],Ju[es]=null,es--)}function le(t,e){es++,Ju[es]=t.current,t.current=e}var er={},Ye=rr(er),ut=rr(!1),Nr=er;function Cs(t,e){var n=t.type.contextTypes;if(!n)return er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ct(t){return t=t.childContextTypes,t!=null}function tl(){ce(ut),ce(Ye)}function Zf(t,e,n){if(Ye.current!==er)throw Error(N(168));le(Ye,e),le(ut,n)}function yg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,sk(t)||"Unknown",s));return ge({},n,r)}function nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,Nr=Ye.current,le(Ye,t),le(ut,ut.current),!0}function eh(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=yg(t,e,Nr),r.__reactInternalMemoizedMergedChildContext=t,ce(ut),ce(Ye),le(Ye,t)):ce(ut),le(ut,n)}var dn=null,Ql=!1,_a=!1;function vg(t){dn===null?dn=[t]:dn.push(t)}function S1(t){Ql=!0,vg(t)}function sr(){if(!_a&&dn!==null){_a=!0;var t=0,e=ne;try{var n=dn;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dn=null,Ql=!1}catch(s){throw dn!==null&&(dn=dn.slice(t+1)),Um(ed,sr),s}finally{ne=e,_a=!1}}return null}var ts=[],ns=0,rl=null,sl=0,bt=[],Mt=0,Pr=null,fn=1,hn="";function cr(t,e){ts[ns++]=sl,ts[ns++]=rl,rl=t,sl=e}function kg(t,e,n){bt[Mt++]=fn,bt[Mt++]=hn,bt[Mt++]=Pr,Pr=t;var r=fn;t=hn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-$t(e)+s|n<<s|r,hn=i+t}else fn=1<<i|n<<s|r,hn=t}function ud(t){t.return!==null&&(cr(t,1),kg(t,1,0))}function cd(t){for(;t===rl;)rl=ts[--ns],ts[ns]=null,sl=ts[--ns],ts[ns]=null;for(;t===Pr;)Pr=bt[--Mt],bt[Mt]=null,hn=bt[--Mt],bt[Mt]=null,fn=bt[--Mt],bt[Mt]=null}var vt=null,yt=null,de=!1,_t=null;function xg(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function th(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,yt=Un(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pr!==null?{id:fn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vt=t,yt=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yu(t){if(de){var e=yt;if(e){var n=e;if(!th(t,e)){if(Gu(t))throw Error(N(418));e=Un(n.nextSibling);var r=vt;e&&th(t,e)?xg(r,n):(t.flags=t.flags&-4097|2,de=!1,vt=t)}}else{if(Gu(t))throw Error(N(418));t.flags=t.flags&-4097|2,de=!1,vt=t}}}function nh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function yo(t){if(t!==vt)return!1;if(!de)return nh(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qu(t.type,t.memoizedProps)),e&&(e=yt)){if(Gu(t))throw Sg(),Error(N(418));for(;e;)xg(t,e),e=Un(e.nextSibling)}if(nh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yt=Un(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=vt?Un(t.stateNode.nextSibling):null;return!0}function Sg(){for(var t=yt;t;)t=Un(t.nextSibling)}function bs(){yt=vt=null,de=!1}function dd(t){_t===null?_t=[t]:_t.push(t)}var w1=xn.ReactCurrentBatchConfig;function Ft(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var il=rr(null),ol=null,rs=null,fd=null;function hd(){fd=rs=ol=null}function pd(t){var e=il.current;ce(il),t._currentValue=e}function Xu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ps(t,e){ol=t,fd=rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(fd!==t)if(t={context:t,memoizedValue:e,next:null},rs===null){if(ol===null)throw Error(N(308));rs=t,ol.dependencies={lanes:0,firstContext:t}}else rs=rs.next=t;return e}var mr=null;function md(t){mr===null?mr=[t]:mr.push(t)}function wg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,md(e)):(n.next=s.next,s.next=n),e.interleaved=n,vn(t,r)}function vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var On=!1;function gd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,vn(t,n)}return s=r.interleaved,s===null?(e.next=e,md(r)):(e.next=s.next,s.next=e),r.interleaved=e,vn(t,n)}function Do(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,td(t,n)}}function rh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ll(t,e,n,r){var s=t.updateQueue;On=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,h=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,y=l;switch(f=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=ge({},d,f);break e;case 2:On=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=d):c=c.next=h,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Dr|=o,t.lanes=o,t.memoizedState=d}}function sh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var bg=new wm.Component().refs;function Zu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jl={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),s=qn(t),i=pn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hn(t,i,s),e!==null&&(Ut(e,t,s,r),Do(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),s=qn(t),i=pn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hn(t,i,s),e!==null&&(Ut(e,t,s,r),Do(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=qn(t),s=pn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hn(t,s,r),e!==null&&(Ut(e,t,r,n),Do(e,t,r))}};function ih(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Pi(n,r)||!Pi(s,i):!0}function Mg(t,e,n){var r=!1,s=er,i=e.contextType;return typeof i=="object"&&i!==null?i=At(i):(s=ct(e)?Nr:Ye.current,r=e.contextTypes,i=(r=r!=null)?Cs(t,s):er),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function oh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jl.enqueueReplaceState(e,e.state,null)}function ec(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=bg,gd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=At(i):(i=ct(e)?Nr:Ye.current,s.context=Cs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jl.enqueueReplaceState(s,s.state,null),ll(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;l===bg&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lh(t){var e=t._init;return e(t._payload)}function Eg(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Kn(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,v,S){return m===null||m.tag!==6?(m=Wa(v,g.mode,S),m.return=g,m):(m=s(m,v),m.return=g,m)}function a(g,m,v,S){var C=v.type;return C===Jr?c(g,m,v.props.children,S,v.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===En&&lh(C)===m.type)?(S=s(m,v.props),S.ref=Gs(g,m,v),S.return=g,S):(S=_o(v.type,v.key,v.props,null,g.mode,S),S.ref=Gs(g,m,v),S.return=g,S)}function u(g,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=qa(v,g.mode,S),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function c(g,m,v,S,C){return m===null||m.tag!==7?(m=Cr(v,g.mode,S,C),m.return=g,m):(m=s(m,v),m.return=g,m)}function d(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wa(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case oo:return v=_o(m.type,m.key,m.props,null,g.mode,v),v.ref=Gs(g,null,m),v.return=g,v;case Qr:return m=qa(m,g.mode,v),m.return=g,m;case En:var S=m._init;return d(g,S(m._payload),v)}if(ri(m)||Ws(m))return m=Cr(m,g.mode,v,null),m.return=g,m;vo(g,m)}return null}function f(g,m,v,S){var C=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(g,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oo:return v.key===C?a(g,m,v,S):null;case Qr:return v.key===C?u(g,m,v,S):null;case En:return C=v._init,f(g,m,C(v._payload),S)}if(ri(v)||Ws(v))return C!==null?null:c(g,m,v,S,null);vo(g,v)}return null}function h(g,m,v,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(v)||null,l(m,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case oo:return g=g.get(S.key===null?v:S.key)||null,a(m,g,S,C);case Qr:return g=g.get(S.key===null?v:S.key)||null,u(m,g,S,C);case En:var E=S._init;return h(g,m,v,E(S._payload),C)}if(ri(S)||Ws(S))return g=g.get(v)||null,c(m,g,S,C,null);vo(m,S)}return null}function p(g,m,v,S){for(var C=null,E=null,D=m,O=m=0,q=null;D!==null&&O<v.length;O++){D.index>O?(q=D,D=null):q=D.sibling;var _=f(g,D,v[O],S);if(_===null){D===null&&(D=q);break}t&&D&&_.alternate===null&&e(g,D),m=i(_,m,O),E===null?C=_:E.sibling=_,E=_,D=q}if(O===v.length)return n(g,D),de&&cr(g,O),C;if(D===null){for(;O<v.length;O++)D=d(g,v[O],S),D!==null&&(m=i(D,m,O),E===null?C=D:E.sibling=D,E=D);return de&&cr(g,O),C}for(D=r(g,D);O<v.length;O++)q=h(D,g,O,v[O],S),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?O:q.key),m=i(q,m,O),E===null?C=q:E.sibling=q,E=q);return t&&D.forEach(function(re){return e(g,re)}),de&&cr(g,O),C}function y(g,m,v,S){var C=Ws(v);if(typeof C!="function")throw Error(N(150));if(v=C.call(v),v==null)throw Error(N(151));for(var E=C=null,D=m,O=m=0,q=null,_=v.next();D!==null&&!_.done;O++,_=v.next()){D.index>O?(q=D,D=null):q=D.sibling;var re=f(g,D,_.value,S);if(re===null){D===null&&(D=q);break}t&&D&&re.alternate===null&&e(g,D),m=i(re,m,O),E===null?C=re:E.sibling=re,E=re,D=q}if(_.done)return n(g,D),de&&cr(g,O),C;if(D===null){for(;!_.done;O++,_=v.next())_=d(g,_.value,S),_!==null&&(m=i(_,m,O),E===null?C=_:E.sibling=_,E=_);return de&&cr(g,O),C}for(D=r(g,D);!_.done;O++,_=v.next())_=h(D,g,O,_.value,S),_!==null&&(t&&_.alternate!==null&&D.delete(_.key===null?O:_.key),m=i(_,m,O),E===null?C=_:E.sibling=_,E=_);return t&&D.forEach(function(K){return e(g,K)}),de&&cr(g,O),C}function x(g,m,v,S){if(typeof v=="object"&&v!==null&&v.type===Jr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case oo:e:{for(var C=v.key,E=m;E!==null;){if(E.key===C){if(C=v.type,C===Jr){if(E.tag===7){n(g,E.sibling),m=s(E,v.props.children),m.return=g,g=m;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===En&&lh(C)===E.type){n(g,E.sibling),m=s(E,v.props),m.ref=Gs(g,E,v),m.return=g,g=m;break e}n(g,E);break}else e(g,E);E=E.sibling}v.type===Jr?(m=Cr(v.props.children,g.mode,S,v.key),m.return=g,g=m):(S=_o(v.type,v.key,v.props,null,g.mode,S),S.ref=Gs(g,m,v),S.return=g,g=S)}return o(g);case Qr:e:{for(E=v.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=qa(v,g.mode,S),m.return=g,g=m}return o(g);case En:return E=v._init,x(g,m,E(v._payload),S)}if(ri(v))return p(g,m,v,S);if(Ws(v))return y(g,m,v,S);vo(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,v),m.return=g,g=m):(n(g,m),m=Wa(v,g.mode,S),m.return=g,g=m),o(g)):n(g,m)}return x}var Ms=Eg(!0),Og=Eg(!1),Xi={},sn=rr(Xi),ji=rr(Xi),Ii=rr(Xi);function gr(t){if(t===Xi)throw Error(N(174));return t}function yd(t,e){switch(le(Ii,e),le(ji,t),le(sn,Xi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Du(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Du(e,t)}ce(sn),le(sn,e)}function Es(){ce(sn),ce(ji),ce(Ii)}function Tg(t){gr(Ii.current);var e=gr(sn.current),n=Du(e,t.type);e!==n&&(le(ji,t),le(sn,n))}function vd(t){ji.current===t&&(ce(sn),ce(ji))}var pe=rr(0);function al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var za=[];function kd(){for(var t=0;t<za.length;t++)za[t]._workInProgressVersionPrimary=null;za.length=0}var Ro=xn.ReactCurrentDispatcher,Ba=xn.ReactCurrentBatchConfig,Ar=0,me=null,Te=null,Re=null,ul=!1,pi=!1,Fi=0,C1=0;function He(){throw Error(N(321))}function xd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wt(t[n],e[n]))return!1;return!0}function Sd(t,e,n,r,s,i){if(Ar=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ro.current=t===null||t.memoizedState===null?O1:T1,t=n(r,s),pi){i=0;do{if(pi=!1,Fi=0,25<=i)throw Error(N(301));i+=1,Re=Te=null,e.updateQueue=null,Ro.current=N1,t=n(r,s)}while(pi)}if(Ro.current=cl,e=Te!==null&&Te.next!==null,Ar=0,Re=Te=me=null,ul=!1,e)throw Error(N(300));return t}function wd(){var t=Fi!==0;return Fi=0,t}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?me.memoizedState=Re=t:Re=Re.next=t,Re}function Dt(){if(Te===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Re===null?me.memoizedState:Re.next;if(e!==null)Re=e,Te=t;else{if(t===null)throw Error(N(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Re===null?me.memoizedState=Re=t:Re=Re.next=t}return Re}function Li(t,e){return typeof e=="function"?e(t):e}function Va(t){var e=Dt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Ar&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,me.lanes|=c,Dr|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Wt(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,Dr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $a(t){var e=Dt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wt(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ng(){}function Pg(t,e){var n=me,r=Dt(),s=e(),i=!Wt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,Cd(Rg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,_i(9,Dg.bind(null,n,r,s,e),void 0,null),je===null)throw Error(N(349));Ar&30||Ag(n,e,s)}return s}function Ag(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dg(t,e,n,r){e.value=n,e.getSnapshot=r,jg(e)&&Ig(t)}function Rg(t,e,n){return n(function(){jg(e)&&Ig(t)})}function jg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wt(t,n)}catch{return!0}}function Ig(t){var e=vn(t,1);e!==null&&Ut(e,t,1,-1)}function ah(t){var e=Gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},e.queue=t,t=t.dispatch=E1.bind(null,me,t),[e.memoizedState,t]}function _i(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fg(){return Dt().memoizedState}function jo(t,e,n,r){var s=Gt();me.flags|=t,s.memoizedState=_i(1|e,n,void 0,r===void 0?null:r)}function Gl(t,e,n,r){var s=Dt();r=r===void 0?null:r;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,r!==null&&xd(r,o.deps)){s.memoizedState=_i(e,n,i,r);return}}me.flags|=t,s.memoizedState=_i(1|e,n,i,r)}function uh(t,e){return jo(8390656,8,t,e)}function Cd(t,e){return Gl(2048,8,t,e)}function Lg(t,e){return Gl(4,2,t,e)}function _g(t,e){return Gl(4,4,t,e)}function zg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bg(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4,4,zg.bind(null,e,t),n)}function bd(){}function Vg(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $g(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ug(t,e,n){return Ar&21?(Wt(n,e)||(n=qm(),me.lanes|=n,Dr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function b1(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=Ba.transition;Ba.transition={};try{t(!1),e()}finally{ne=n,Ba.transition=r}}function Hg(){return Dt().memoizedState}function M1(t,e,n){var r=qn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wg(t))qg(e,n);else if(n=wg(t,e,n,r),n!==null){var s=tt();Ut(n,t,r,s),Kg(n,e,r)}}function E1(t,e,n){var r=qn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wg(t))qg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Wt(l,o)){var a=e.interleaved;a===null?(s.next=s,md(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=wg(t,e,s,r),n!==null&&(s=tt(),Ut(n,t,r,s),Kg(n,e,r))}}function Wg(t){var e=t.alternate;return t===me||e!==null&&e===me}function qg(t,e){pi=ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,td(t,n)}}var cl={readContext:At,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},O1={readContext:At,useCallback:function(t,e){return Gt().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:uh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jo(4194308,4,zg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jo(4194308,4,t,e)},useInsertionEffect:function(t,e){return jo(4,2,t,e)},useMemo:function(t,e){var n=Gt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M1.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Gt();return t={current:t},e.memoizedState=t},useState:ah,useDebugValue:bd,useDeferredValue:function(t){return Gt().memoizedState=t},useTransition:function(){var t=ah(!1),e=t[0];return t=b1.bind(null,t[1]),Gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=Gt();if(de){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),je===null)throw Error(N(349));Ar&30||Ag(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uh(Rg.bind(null,r,i,t),[t]),r.flags|=2048,_i(9,Dg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gt(),e=je.identifierPrefix;if(de){var n=hn,r=fn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T1={readContext:At,useCallback:Vg,useContext:At,useEffect:Cd,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:_g,useMemo:$g,useReducer:Va,useRef:Fg,useState:function(){return Va(Li)},useDebugValue:bd,useDeferredValue:function(t){var e=Dt();return Ug(e,Te.memoizedState,t)},useTransition:function(){var t=Va(Li)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:Ng,useSyncExternalStore:Pg,useId:Hg,unstable_isNewReconciler:!1},N1={readContext:At,useCallback:Vg,useContext:At,useEffect:Cd,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:_g,useMemo:$g,useReducer:$a,useRef:Fg,useState:function(){return $a(Li)},useDebugValue:bd,useDeferredValue:function(t){var e=Dt();return Te===null?e.memoizedState=t:Ug(e,Te.memoizedState,t)},useTransition:function(){var t=$a(Li)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:Ng,useSyncExternalStore:Pg,useId:Hg,unstable_isNewReconciler:!1};function Os(t,e){try{var n="",r=e;do n+=rk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ua(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P1=typeof WeakMap=="function"?WeakMap:Map;function Qg(t,e,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fl||(fl=!0,dc=r),tc(t,e)},n}function Jg(t,e,n){n=pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tc(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ch(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P1;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=H1.bind(null,t,e,n),e.then(t,t))}function dh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fh(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pn(-1,1),e.tag=2,Hn(n,e,1))),n.lanes|=1),t)}var A1=xn.ReactCurrentOwner,at=!1;function Ze(t,e,n,r){e.child=t===null?Og(e,null,n,r):Ms(e,t.child,n,r)}function hh(t,e,n,r,s){n=n.render;var i=e.ref;return ps(e,s),r=Sd(t,e,n,r,i,s),n=wd(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kn(t,e,s)):(de&&n&&ud(e),e.flags|=1,Ze(t,e,r,s),e.child)}function ph(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Dd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Gg(t,e,i,r,s)):(t=_o(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pi,n(o,r)&&t.ref===e.ref)return kn(t,e,s)}return e.flags|=1,t=Kn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Gg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Pi(i,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,kn(t,e,s)}return nc(t,e,n,r,s)}function Yg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(is,mt),mt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(is,mt),mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(is,mt),mt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,le(is,mt),mt|=r;return Ze(t,e,s,n),e.child}function Xg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nc(t,e,n,r,s){var i=ct(n)?Nr:Ye.current;return i=Cs(e,i),ps(e,s),n=Sd(t,e,n,r,i,s),r=wd(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kn(t,e,s)):(de&&r&&ud(e),e.flags|=1,Ze(t,e,n,s),e.child)}function mh(t,e,n,r,s){if(ct(n)){var i=!0;nl(e)}else i=!1;if(ps(e,s),e.stateNode===null)Io(t,e),Mg(e,n,r),ec(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=ct(n)?Nr:Ye.current,u=Cs(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&oh(e,o,r,u),On=!1;var f=e.memoizedState;o.state=f,ll(e,r,o,s),a=e.memoizedState,l!==r||f!==a||ut.current||On?(typeof c=="function"&&(Zu(e,n,c,r),a=e.memoizedState),(l=On||ih(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ft(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=At(a):(a=ct(n)?Nr:Ye.current,a=Cs(e,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&oh(e,o,r,a),On=!1,f=e.memoizedState,o.state=f,ll(e,r,o,s);var p=e.memoizedState;l!==d||f!==p||ut.current||On?(typeof h=="function"&&(Zu(e,n,h,r),p=e.memoizedState),(u=On||ih(e,n,u,r,f,p,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rc(t,e,n,r,i,s)}function rc(t,e,n,r,s,i){Xg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&eh(e,n,!1),kn(t,e,i);r=e.stateNode,A1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ms(e,t.child,null,i),e.child=Ms(e,null,l,i)):Ze(t,e,l,i),e.memoizedState=r.state,s&&eh(e,n,!0),e.child}function Zg(t){var e=t.stateNode;e.pendingContext?Zf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zf(t,e.context,!1),yd(t,e.containerInfo)}function gh(t,e,n,r,s){return bs(),dd(s),e.flags|=256,Ze(t,e,n,r),e.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function ic(t){return{baseLanes:t,cachePool:null,transitions:null}}function ey(t,e,n){var r=e.pendingProps,s=pe.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),le(pe,s&1),t===null)return Yu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zl(o,r,0,null),t=Cr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ic(n),e.memoizedState=sc,t):Md(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return D1(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Kn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kn(l,i):(i=Cr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ic(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=sc,r}return i=t.child,t=i.sibling,r=Kn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Md(t,e){return e=Zl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ko(t,e,n,r){return r!==null&&dd(r),Ms(e,t.child,null,n),t=Md(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D1(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ua(Error(N(422))),ko(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zl({mode:"visible",children:r.children},s,0,null),i=Cr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ms(e,t.child,null,o),e.child.memoizedState=ic(o),e.memoizedState=sc,i);if(!(e.mode&1))return ko(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(N(419)),r=Ua(i,r,void 0),ko(t,e,o,r)}if(l=(o&t.childLanes)!==0,at||l){if(r=je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vn(t,s),Ut(r,t,s,-1))}return Ad(),r=Ua(Error(N(421))),ko(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=W1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yt=Un(s.nextSibling),vt=e,de=!0,_t=null,t!==null&&(bt[Mt++]=fn,bt[Mt++]=hn,bt[Mt++]=Pr,fn=t.id,hn=t.overflow,Pr=e),e=Md(e,r.children),e.flags|=4096,e)}function yh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xu(t.return,e,n)}function Ha(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ty(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ze(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yh(t,n,e);else if(t.tag===19)yh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&al(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ha(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&al(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ha(e,!0,n,null,i);break;case"together":Ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Io(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function R1(t,e,n){switch(e.tag){case 3:Zg(e),bs();break;case 5:Tg(e);break;case 1:ct(e.type)&&nl(e);break;case 4:yd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;le(il,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?ey(t,e,n):(le(pe,pe.current&1),t=kn(t,e,n),t!==null?t.sibling:null);le(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ty(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,Yg(t,e,n)}return kn(t,e,n)}var ny,oc,ry,sy;ny=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oc=function(){};ry=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,gr(sn.current);var i=null;switch(n){case"input":s=Tu(t,s),r=Tu(t,r),i=[];break;case"select":s=ge({},s,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":s=Au(t,s),r=Au(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=el)}Ru(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ci.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ci.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};sy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ys(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j1(t,e,n){var r=e.pendingProps;switch(cd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return ct(e.type)&&tl(),We(e),null;case 3:return r=e.stateNode,Es(),ce(ut),ce(Ye),kd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_t!==null&&(pc(_t),_t=null))),oc(t,e),We(e),null;case 5:vd(e);var s=gr(Ii.current);if(n=e.type,t!==null&&e.stateNode!=null)ry(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return We(e),null}if(t=gr(sn.current),yo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xt]=e,r[Ri]=i,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<ii.length;s++)ae(ii[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Ef(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":Tf(r,i),ae("invalid",r)}Ru(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&go(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&go(r.textContent,l,t),s=["children",""+l]):Ci.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":lo(r),Of(r,i,!0);break;case"textarea":lo(r),Nf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=el)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Am(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xt]=e,t[Ri]=r,ny(t,e,!1,!1),e.stateNode=t;e:{switch(o=ju(n,r),n){case"dialog":ae("cancel",t),ae("close",t),s=r;break;case"iframe":case"object":case"embed":ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<ii.length;s++)ae(ii[s],t);s=r;break;case"source":ae("error",t),s=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=r;break;case"details":ae("toggle",t),s=r;break;case"input":Ef(t,r),s=Tu(t,r),ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ge({},r,{value:void 0}),ae("invalid",t);break;case"textarea":Tf(t,r),s=Au(t,r),ae("invalid",t);break;default:s=r}Ru(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?jm(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Dm(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&bi(t,a):typeof a=="number"&&bi(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ci.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ae("scroll",t):a!=null&&Jc(t,i,a,o))}switch(n){case"input":lo(t),Of(t,r,!1);break;case"textarea":lo(t),Nf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?cs(t,!!r.multiple,i,!1):r.defaultValue!=null&&cs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)sy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=gr(Ii.current),gr(sn.current),yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(i=r.nodeValue!==n)&&(t=vt,t!==null))switch(t.tag){case 3:go(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&go(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return We(e),null;case 13:if(ce(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&yt!==null&&e.mode&1&&!(e.flags&128))Sg(),bs(),e.flags|=98560,i=!1;else if(i=yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Xt]=e}else bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),i=!1}else _t!==null&&(pc(_t),_t=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Pe===0&&(Pe=3):Ad())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return Es(),oc(t,e),t===null&&Ai(e.stateNode.containerInfo),We(e),null;case 10:return pd(e.type._context),We(e),null;case 17:return ct(e.type)&&tl(),We(e),null;case 19:if(ce(pe),i=e.memoizedState,i===null)return We(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ys(i,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=al(t),o!==null){for(e.flags|=128,Ys(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(pe,pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ce()>Ts&&(e.flags|=128,r=!0,Ys(i,!1),e.lanes=4194304)}else{if(!r)if(t=al(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return We(e),null}else 2*Ce()-i.renderingStartTime>Ts&&n!==1073741824&&(e.flags|=128,r=!0,Ys(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ce(),e.sibling=null,n=pe.current,le(pe,r?n&1|2:n&1),e):(We(e),null);case 22:case 23:return Pd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mt&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function I1(t,e){switch(cd(e),e.tag){case 1:return ct(e.type)&&tl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),ce(ut),ce(Ye),kd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vd(e),null;case 13:if(ce(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(pe),null;case 4:return Es(),null;case 10:return pd(e.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var xo=!1,Qe=!1,F1=typeof WeakSet=="function"?WeakSet:Set,F=null;function ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function lc(t,e,n){try{n()}catch(r){ve(t,e,r)}}var vh=!1;function L1(t,e){if(Hu=Yo,t=ag(),ad(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++c===r&&(a=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wu={focusedElem:t,selectionRange:n},Yo=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ft(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){ve(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return p=vh,vh=!1,p}function mi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lc(e,n,i)}s=s.next}while(s!==r)}}function Yl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ac(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iy(t){var e=t.alternate;e!==null&&(t.alternate=null,iy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[Ri],delete e[Qu],delete e[k1],delete e[x1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oy(t){return t.tag===5||t.tag===3||t.tag===4}function kh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=el));else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}function cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cc(t,e,n),t=t.sibling;t!==null;)cc(t,e,n),t=t.sibling}var ze=null,Lt=!1;function wn(t,e,n){for(n=n.child;n!==null;)ly(t,e,n),n=n.sibling}function ly(t,e,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ul,n)}catch{}switch(n.tag){case 5:Qe||ss(n,e);case 6:var r=ze,s=Lt;ze=null,wn(t,e,n),ze=r,Lt=s,ze!==null&&(Lt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Lt?(t=ze,n=n.stateNode,t.nodeType===8?La(t.parentNode,n):t.nodeType===1&&La(t,n),Ti(t)):La(ze,n.stateNode));break;case 4:r=ze,s=Lt,ze=n.stateNode.containerInfo,Lt=!0,wn(t,e,n),ze=r,Lt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lc(n,e,o),s=s.next}while(s!==r)}wn(t,e,n);break;case 1:if(!Qe&&(ss(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ve(n,e,l)}wn(t,e,n);break;case 21:wn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,wn(t,e,n),Qe=r):wn(t,e,n);break;default:wn(t,e,n)}}function xh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F1),e.forEach(function(r){var s=q1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Lt=!1;break e;case 3:ze=l.stateNode.containerInfo,Lt=!0;break e;case 4:ze=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(ze===null)throw Error(N(160));ly(i,o,s),ze=null,Lt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ve(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ay(e,t),e=e.sibling}function ay(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),Jt(t),r&4){try{mi(3,t,t.return),Yl(3,t)}catch(y){ve(t,t.return,y)}try{mi(5,t,t.return)}catch(y){ve(t,t.return,y)}}break;case 1:It(e,t),Jt(t),r&512&&n!==null&&ss(n,n.return);break;case 5:if(It(e,t),Jt(t),r&512&&n!==null&&ss(n,n.return),t.flags&32){var s=t.stateNode;try{bi(s,"")}catch(y){ve(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Nm(s,i),ju(l,o);var u=ju(l,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?jm(s,d):c==="dangerouslySetInnerHTML"?Dm(s,d):c==="children"?bi(s,d):Jc(s,c,d,u)}switch(l){case"input":Nu(s,i);break;case"textarea":Pm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?cs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?cs(s,!!i.multiple,i.defaultValue,!0):cs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ri]=i}catch(y){ve(t,t.return,y)}}break;case 6:if(It(e,t),Jt(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ve(t,t.return,y)}}break;case 3:if(It(e,t),Jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ti(e.containerInfo)}catch(y){ve(t,t.return,y)}break;case 4:It(e,t),Jt(t);break;case 13:It(e,t),Jt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Td=Ce())),r&4&&xh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(u=Qe)||c,It(e,t),Qe=u):It(e,t),Jt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(d=F=c;F!==null;){switch(f=F,h=f.child,f.tag){case 0:case 11:case 14:case 15:mi(4,f,f.return);break;case 1:ss(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){ve(r,n,y)}}break;case 5:ss(f,f.return);break;case 22:if(f.memoizedState!==null){wh(d);continue}}h!==null?(h.return=f,F=h):wh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Rm("display",o))}catch(y){ve(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ve(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:It(e,t),Jt(t),r&4&&xh(t);break;case 21:break;default:It(e,t),Jt(t)}}function Jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oy(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bi(s,""),r.flags&=-33);var i=kh(t);cc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=kh(t);uc(t,l,o);break;default:throw Error(N(161))}}catch(a){ve(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _1(t,e,n){F=t,uy(t)}function uy(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xo;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Qe;l=xo;var u=Qe;if(xo=o,(Qe=a)&&!u)for(F=s;F!==null;)o=F,a=o.child,o.tag===22&&o.memoizedState!==null?Ch(s):a!==null?(a.return=o,F=a):Ch(s);for(;i!==null;)F=i,uy(i),i=i.sibling;F=s,xo=l,Qe=u}Sh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):Sh(t)}}function Sh(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||Yl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ft(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sh(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sh(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ti(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Qe||e.flags&512&&ac(e)}catch(f){ve(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function wh(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Ch(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yl(4,e)}catch(a){ve(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){ve(e,s,a)}}var i=e.return;try{ac(e)}catch(a){ve(e,i,a)}break;case 5:var o=e.return;try{ac(e)}catch(a){ve(e,o,a)}}}catch(a){ve(e,e.return,a)}if(e===t){F=null;break}var l=e.sibling;if(l!==null){l.return=e.return,F=l;break}F=e.return}}var z1=Math.ceil,dl=xn.ReactCurrentDispatcher,Ed=xn.ReactCurrentOwner,Nt=xn.ReactCurrentBatchConfig,ee=0,je=null,Ee=null,$e=0,mt=0,is=rr(0),Pe=0,zi=null,Dr=0,Xl=0,Od=0,gi=null,lt=null,Td=0,Ts=1/0,un=null,fl=!1,dc=null,Wn=null,So=!1,jn=null,hl=0,yi=0,fc=null,Fo=-1,Lo=0;function tt(){return ee&6?Ce():Fo!==-1?Fo:Fo=Ce()}function qn(t){return t.mode&1?ee&2&&$e!==0?$e&-$e:w1.transition!==null?(Lo===0&&(Lo=qm()),Lo):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Zm(t.type)),t):1}function Ut(t,e,n,r){if(50<yi)throw yi=0,fc=null,Error(N(185));Ji(t,n,r),(!(ee&2)||t!==je)&&(t===je&&(!(ee&2)&&(Xl|=n),Pe===4&&An(t,$e)),dt(t,r),n===1&&ee===0&&!(e.mode&1)&&(Ts=Ce()+500,Ql&&sr()))}function dt(t,e){var n=t.callbackNode;wk(t,e);var r=Go(t,t===je?$e:0);if(r===0)n!==null&&Df(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Df(n),e===1)t.tag===0?S1(bh.bind(null,t)):vg(bh.bind(null,t)),y1(function(){!(ee&6)&&sr()}),n=null;else{switch(Km(r)){case 1:n=ed;break;case 4:n=Hm;break;case 16:n=Jo;break;case 536870912:n=Wm;break;default:n=Jo}n=yy(n,cy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cy(t,e){if(Fo=-1,Lo=0,ee&6)throw Error(N(327));var n=t.callbackNode;if(ms()&&t.callbackNode!==n)return null;var r=Go(t,t===je?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pl(t,r);else{e=r;var s=ee;ee|=2;var i=fy();(je!==t||$e!==e)&&(un=null,Ts=Ce()+500,wr(t,e));do try{$1();break}catch(l){dy(t,l)}while(1);hd(),dl.current=i,ee=s,Ee!==null?e=0:(je=null,$e=0,e=Pe)}if(e!==0){if(e===2&&(s=zu(t),s!==0&&(r=s,e=hc(t,s))),e===1)throw n=zi,wr(t,0),An(t,r),dt(t,Ce()),n;if(e===6)An(t,r);else{if(s=t.current.alternate,!(r&30)&&!B1(s)&&(e=pl(t,r),e===2&&(i=zu(t),i!==0&&(r=i,e=hc(t,i))),e===1))throw n=zi,wr(t,0),An(t,r),dt(t,Ce()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:dr(t,lt,un);break;case 3:if(An(t,r),(r&130023424)===r&&(e=Td+500-Ce(),10<e)){if(Go(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ku(dr.bind(null,t,lt,un),e);break}dr(t,lt,un);break;case 4:if(An(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z1(r/1960))-r,10<r){t.timeoutHandle=Ku(dr.bind(null,t,lt,un),r);break}dr(t,lt,un);break;case 5:dr(t,lt,un);break;default:throw Error(N(329))}}}return dt(t,Ce()),t.callbackNode===n?cy.bind(null,t):null}function hc(t,e){var n=gi;return t.current.memoizedState.isDehydrated&&(wr(t,e).flags|=256),t=pl(t,e),t!==2&&(e=lt,lt=n,e!==null&&pc(e)),t}function pc(t){lt===null?lt=t:lt.push.apply(lt,t)}function B1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function An(t,e){for(e&=~Od,e&=~Xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$t(e),r=1<<n;t[n]=-1,e&=~r}}function bh(t){if(ee&6)throw Error(N(327));ms();var e=Go(t,0);if(!(e&1))return dt(t,Ce()),null;var n=pl(t,e);if(t.tag!==0&&n===2){var r=zu(t);r!==0&&(e=r,n=hc(t,r))}if(n===1)throw n=zi,wr(t,0),An(t,e),dt(t,Ce()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,lt,un),dt(t,Ce()),null}function Nd(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(Ts=Ce()+500,Ql&&sr())}}function Rr(t){jn!==null&&jn.tag===0&&!(ee&6)&&ms();var e=ee;ee|=1;var n=Nt.transition,r=ne;try{if(Nt.transition=null,ne=1,t)return t()}finally{ne=r,Nt.transition=n,ee=e,!(ee&6)&&sr()}}function Pd(){mt=is.current,ce(is)}function wr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g1(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(cd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tl();break;case 3:Es(),ce(ut),ce(Ye),kd();break;case 5:vd(r);break;case 4:Es();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:pd(r.type._context);break;case 22:case 23:Pd()}n=n.return}if(je=t,Ee=t=Kn(t.current,null),$e=mt=e,Pe=0,zi=null,Od=Xl=Dr=0,lt=gi=null,mr!==null){for(e=0;e<mr.length;e++)if(n=mr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mr=null}return t}function dy(t,e){do{var n=Ee;try{if(hd(),Ro.current=cl,ul){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ul=!1}if(Ar=0,Re=Te=me=null,pi=!1,Fi=0,Ed.current=null,n===null||n.return===null){Pe=1,zi=e,Ee=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=$e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=dh(o);if(h!==null){h.flags&=-257,fh(h,o,l,i,e),h.mode&1&&ch(i,u,e),e=h,a=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(a),e.updateQueue=y}else p.add(a);break e}else{if(!(e&1)){ch(i,u,e),Ad();break e}a=Error(N(426))}}else if(de&&l.mode&1){var x=dh(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fh(x,o,l,i,e),dd(Os(a,l));break e}}i=a=Os(a,l),Pe!==4&&(Pe=2),gi===null?gi=[i]:gi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Qg(i,a,e);rh(i,g);break e;case 1:l=a;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wn===null||!Wn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Jg(i,l,e);rh(i,S);break e}}i=i.return}while(i!==null)}py(n)}catch(C){e=C,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(1)}function fy(){var t=dl.current;return dl.current=cl,t===null?cl:t}function Ad(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),je===null||!(Dr&268435455)&&!(Xl&268435455)||An(je,$e)}function pl(t,e){var n=ee;ee|=2;var r=fy();(je!==t||$e!==e)&&(un=null,wr(t,e));do try{V1();break}catch(s){dy(t,s)}while(1);if(hd(),ee=n,dl.current=r,Ee!==null)throw Error(N(261));return je=null,$e=0,Pe}function V1(){for(;Ee!==null;)hy(Ee)}function $1(){for(;Ee!==null&&!hk();)hy(Ee)}function hy(t){var e=gy(t.alternate,t,mt);t.memoizedProps=t.pendingProps,e===null?py(t):Ee=e,Ed.current=null}function py(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=I1(n,e),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,Ee=null;return}}else if(n=j1(n,e,mt),n!==null){Ee=n;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Pe===0&&(Pe=5)}function dr(t,e,n){var r=ne,s=Nt.transition;try{Nt.transition=null,ne=1,U1(t,e,n,r)}finally{Nt.transition=s,ne=r}return null}function U1(t,e,n,r){do ms();while(jn!==null);if(ee&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ck(t,i),t===je&&(Ee=je=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,yy(Jo,function(){return ms(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nt.transition,Nt.transition=null;var o=ne;ne=1;var l=ee;ee|=4,Ed.current=null,L1(t,n),ay(n,t),u1(Wu),Yo=!!Hu,Wu=Hu=null,t.current=n,_1(n),pk(),ee=l,ne=o,Nt.transition=i}else t.current=n;if(So&&(So=!1,jn=t,hl=s),i=t.pendingLanes,i===0&&(Wn=null),yk(n.stateNode),dt(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fl)throw fl=!1,t=dc,dc=null,t;return hl&1&&t.tag!==0&&ms(),i=t.pendingLanes,i&1?t===fc?yi++:(yi=0,fc=t):yi=0,sr(),null}function ms(){if(jn!==null){var t=Km(hl),e=Nt.transition,n=ne;try{if(Nt.transition=null,ne=16>t?16:t,jn===null)var r=!1;else{if(t=jn,jn=null,hl=0,ee&6)throw Error(N(331));var s=ee;for(ee|=4,F=t.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:mi(8,c,i)}var d=c.child;if(d!==null)d.return=c,F=d;else for(;F!==null;){c=F;var f=c.sibling,h=c.return;if(iy(c),c===u){F=null;break}if(f!==null){f.return=h,F=f;break}F=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,F=g;break e}F=i.return}}var m=t.current;for(F=m;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=m;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yl(9,l)}}catch(C){ve(l,l.return,C)}if(l===o){F=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,F=S;break e}F=l.return}}if(ee=s,sr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ul,t)}catch{}r=!0}return r}finally{ne=n,Nt.transition=e}}return!1}function Mh(t,e,n){e=Os(n,e),e=Qg(t,e,1),t=Hn(t,e,1),e=tt(),t!==null&&(Ji(t,1,e),dt(t,e))}function ve(t,e,n){if(t.tag===3)Mh(t,t,n);else for(;e!==null;){if(e.tag===3){Mh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=Os(n,t),t=Jg(e,t,1),e=Hn(e,t,1),t=tt(),e!==null&&(Ji(e,1,t),dt(e,t));break}}e=e.return}}function H1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&($e&n)===n&&(Pe===4||Pe===3&&($e&130023424)===$e&&500>Ce()-Td?wr(t,0):Od|=n),dt(t,e)}function my(t,e){e===0&&(t.mode&1?(e=co,co<<=1,!(co&130023424)&&(co=4194304)):e=1);var n=tt();t=vn(t,e),t!==null&&(Ji(t,e,n),dt(t,n))}function W1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),my(t,n)}function q1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),my(t,n)}var gy;gy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ut.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,R1(t,e,n);at=!!(t.flags&131072)}else at=!1,de&&e.flags&1048576&&kg(e,sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Io(t,e),t=e.pendingProps;var s=Cs(e,Ye.current);ps(e,n),s=Sd(null,e,r,t,s,n);var i=wd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ct(r)?(i=!0,nl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gd(e),s.updater=Jl,e.stateNode=s,s._reactInternals=e,ec(e,r,t,n),e=rc(null,e,r,!0,i,n)):(e.tag=0,de&&i&&ud(e),Ze(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Io(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Q1(r),t=Ft(r,t),s){case 0:e=nc(null,e,r,t,n);break e;case 1:e=mh(null,e,r,t,n);break e;case 11:e=hh(null,e,r,t,n);break e;case 14:e=ph(null,e,r,Ft(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),nc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),mh(t,e,r,s,n);case 3:e:{if(Zg(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Cg(t,e),ll(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Os(Error(N(423)),e),e=gh(t,e,r,n,s);break e}else if(r!==s){s=Os(Error(N(424)),e),e=gh(t,e,r,n,s);break e}else for(yt=Un(e.stateNode.containerInfo.firstChild),vt=e,de=!0,_t=null,n=Og(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bs(),r===s){e=kn(t,e,n);break e}Ze(t,e,r,n)}e=e.child}return e;case 5:return Tg(e),t===null&&Yu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qu(r,s)?o=null:i!==null&&qu(r,i)&&(e.flags|=32),Xg(t,e),Ze(t,e,o,n),e.child;case 6:return t===null&&Yu(e),null;case 13:return ey(t,e,n);case 4:return yd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ms(e,null,r,n):Ze(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),hh(t,e,r,s,n);case 7:return Ze(t,e,e.pendingProps,n),e.child;case 8:return Ze(t,e,e.pendingProps.children,n),e.child;case 12:return Ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,le(il,r._currentValue),r._currentValue=o,i!==null)if(Wt(i.value,o)){if(i.children===s.children&&!ut.current){e=kn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=pn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Xu(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ps(e,n),s=At(s),r=r(s),e.flags|=1,Ze(t,e,r,n),e.child;case 14:return r=e.type,s=Ft(r,e.pendingProps),s=Ft(r.type,s),ph(t,e,r,s,n);case 15:return Gg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),Io(t,e),e.tag=1,ct(r)?(t=!0,nl(e)):t=!1,ps(e,n),Mg(e,r,s),ec(e,r,s,n),rc(null,e,r,!0,t,n);case 19:return ty(t,e,n);case 22:return Yg(t,e,n)}throw Error(N(156,e.tag))};function yy(t,e){return Um(t,e)}function K1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new K1(t,e,n,r)}function Dd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q1(t){if(typeof t=="function")return Dd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yc)return 11;if(t===Xc)return 14}return 2}function Kn(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Dd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jr:return Cr(n.children,s,i,e);case Gc:o=8,s|=8;break;case bu:return t=Ot(12,n,e,s|2),t.elementType=bu,t.lanes=i,t;case Mu:return t=Ot(13,n,e,s),t.elementType=Mu,t.lanes=i,t;case Eu:return t=Ot(19,n,e,s),t.elementType=Eu,t.lanes=i,t;case Em:return Zl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bm:o=10;break e;case Mm:o=9;break e;case Yc:o=11;break e;case Xc:o=14;break e;case En:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Ot(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Cr(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function Zl(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=Em,t.lanes=n,t.stateNode={isHidden:!1},t}function Wa(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function qa(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rd(t,e,n,r,s,i,o,l,a){return t=new J1(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ot(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(i),t}function G1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vy(t){if(!t)return er;t=t._reactInternals;e:{if(_r(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(ct(n))return yg(t,n,e)}return e}function ky(t,e,n,r,s,i,o,l,a){return t=Rd(n,r,!0,t,s,i,o,l,a),t.context=vy(null),n=t.current,r=tt(),s=qn(n),i=pn(r,s),i.callback=e??null,Hn(n,i,s),t.current.lanes=s,Ji(t,s,r),dt(t,r),t}function ea(t,e,n,r){var s=e.current,i=tt(),o=qn(s);return n=vy(n),e.context===null?e.context=n:e.pendingContext=n,e=pn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hn(s,e,o),t!==null&&(Ut(t,s,o,i),Do(t,s,o)),o}function ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jd(t,e){Eh(t,e),(t=t.alternate)&&Eh(t,e)}function Y1(){return null}var xy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Id(t){this._internalRoot=t}ta.prototype.render=Id.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));ea(t,e,null,null)};ta.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rr(function(){ea(null,t,null,null)}),e[yn]=null}};function ta(t){this._internalRoot=t}ta.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pn.length&&e!==0&&e<Pn[n].priority;n++);Pn.splice(n,0,t),n===0&&Xm(t)}};function Fd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Oh(){}function X1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ml(o);i.call(u)}}var o=ky(e,r,t,0,null,!1,!1,"",Oh);return t._reactRootContainer=o,t[yn]=o.current,Ai(t.nodeType===8?t.parentNode:t),Rr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ml(a);l.call(u)}}var a=Rd(t,0,!1,null,null,!1,!1,"",Oh);return t._reactRootContainer=a,t[yn]=a.current,Ai(t.nodeType===8?t.parentNode:t),Rr(function(){ea(e,a,n,r)}),a}function ra(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ml(o);l.call(a)}}ea(e,o,t,s)}else o=X1(n,e,t,s,r);return ml(o)}Qm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=si(e.pendingLanes);n!==0&&(td(e,n|1),dt(e,Ce()),!(ee&6)&&(Ts=Ce()+500,sr()))}break;case 13:Rr(function(){var r=vn(t,1);if(r!==null){var s=tt();Ut(r,t,1,s)}}),jd(t,1)}};nd=function(t){if(t.tag===13){var e=vn(t,134217728);if(e!==null){var n=tt();Ut(e,t,134217728,n)}jd(t,134217728)}};Jm=function(t){if(t.tag===13){var e=qn(t),n=vn(t,e);if(n!==null){var r=tt();Ut(n,t,e,r)}jd(t,e)}};Gm=function(){return ne};Ym=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Fu=function(t,e,n){switch(e){case"input":if(Nu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Kl(r);if(!s)throw Error(N(90));Tm(r),Nu(r,s)}}}break;case"textarea":Pm(t,n);break;case"select":e=n.value,e!=null&&cs(t,!!n.multiple,e,!1)}};Lm=Nd;_m=Rr;var Z1={usingClientEntryPoint:!1,Events:[Yi,Zr,Kl,Im,Fm,Nd]},Xs={findFiberByHostInstance:pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ex={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vm(t),t===null?null:t.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||Y1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Ul=wo.inject(ex),rn=wo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z1;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(e))throw Error(N(200));return G1(t,e,null,n)};xt.createRoot=function(t,e){if(!Fd(t))throw Error(N(299));var n=!1,r="",s=xy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Rd(t,1,!1,null,null,n,!1,r,s),t[yn]=e.current,Ai(t.nodeType===8?t.parentNode:t),new Id(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Vm(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return Rr(t)};xt.hydrate=function(t,e,n){if(!na(e))throw Error(N(200));return ra(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Fd(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ky(e,null,t,1,n??null,s,!1,i,o),t[yn]=e.current,Ai(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ta(e)};xt.render=function(t,e,n){if(!na(e))throw Error(N(200));return ra(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!na(t))throw Error(N(40));return t._reactRootContainer?(Rr(function(){ra(null,null,t,!1,function(){t._reactRootContainer=null,t[yn]=null})}),!0):!1};xt.unstable_batchedUpdates=Nd;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!na(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return ra(t,e,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(t){console.error(t)}}Sy(),km.exports=xt;var Ld=km.exports;const wy=am(Ld);var Th=Ld;wu.createRoot=Th.createRoot,wu.hydrateRoot=Th.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bi.apply(this,arguments)}var In;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(In||(In={}));const Nh="popstate";function tx(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return mc("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gl(s)}return rx(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _d(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nx(){return Math.random().toString(36).substr(2,8)}function Ph(t,e){return{usr:t.state,key:t.key,idx:e}}function mc(t,e,n,r){return n===void 0&&(n=null),Bi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bs(e):e,{state:n,key:e&&e.key||r||nx()})}function gl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rx(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=In.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Bi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=In.Pop;let x=c(),g=x==null?null:x-u;u=x,a&&a({action:l,location:y.location,delta:g})}function f(x,g){l=In.Push;let m=mc(y.location,x,g);n&&n(m,x),u=c()+1;let v=Ph(m,u),S=y.createHref(m);try{o.pushState(v,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(S)}i&&a&&a({action:l,location:y.location,delta:1})}function h(x,g){l=In.Replace;let m=mc(y.location,x,g);n&&n(m,x),u=c();let v=Ph(m,u),S=y.createHref(m);o.replaceState(v,"",S),i&&a&&a({action:l,location:y.location,delta:0})}function p(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:gl(x);return be(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return l},get location(){return t(s,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Nh,d),a=x,()=>{s.removeEventListener(Nh,d),a=null}},createHref(x){return e(s,x)},createURL:p,encodeLocation(x){let g=p(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(x){return o.go(x)}};return y}var Ah;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ah||(Ah={}));function sx(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Bs(e):e,s=zd(r.pathname||"/",n);if(s==null)return null;let i=Cy(t);ix(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=px(i[l],gx(s));return o}function Cy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(be(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Qn([r,a.relativePath]),c=n.concat(a);i.children&&i.children.length>0&&(be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cy(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:fx(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of by(i.path))s(i,o,a)}),e}function by(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=by(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function ix(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ox=/^:\w+$/,lx=3,ax=2,ux=1,cx=10,dx=-2,Dh=t=>t==="*";function fx(t,e){let n=t.split("/"),r=n.length;return n.some(Dh)&&(r+=dx),e&&(r+=ax),n.filter(s=>!Dh(s)).reduce((s,i)=>s+(ox.test(i)?lx:i===""?ux:cx),r)}function hx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function px(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=My({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let d=l.route;i.push({params:r,pathname:Qn([s,c.pathname]),pathnameBase:xx(Qn([s,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(s=Qn([s,c.pathnameBase]))}return i}function My(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=l[d]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=yx(l[d]||"",c),u},{}),pathname:i,pathnameBase:o,pattern:t}}function mx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_d(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gx(t){try{return decodeURI(t)}catch(e){return _d(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yx(t,e){try{return decodeURIComponent(t)}catch(n){return _d(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function zd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Bs(t):t;return{pathname:n?n.startsWith("/")?n:kx(n,e):e,search:Sx(r),hash:wx(s)}}function kx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ka(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ey(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Oy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Bs(t):(s=Bi({},t),be(!s.pathname||!s.pathname.includes("?"),Ka("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),Ka("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),Ka("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(r||o==null)l=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=vx(s,l),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Qn=t=>t.join("/").replace(/\/\/+/g,"/"),xx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ty=["post","put","patch","delete"];new Set(Ty);const bx=["get",...Ty];new Set(bx);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}const Bd=P.createContext(null),Mx=P.createContext(null),Vs=P.createContext(null),sa=P.createContext(null),ir=P.createContext({outlet:null,matches:[],isDataRoute:!1}),Ny=P.createContext(null);function Ex(t,e){let{relative:n}=e===void 0?{}:e;$s()||be(!1);let{basename:r,navigator:s}=P.useContext(Vs),{hash:i,pathname:o,search:l}=Ay(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Qn([r,o])),s.createHref({pathname:a,search:l,hash:i})}function $s(){return P.useContext(sa)!=null}function zr(){return $s()||be(!1),P.useContext(sa).location}function Vd(t){$s()||be(!1);let{pathname:e}=zr();return P.useMemo(()=>My(t,e),[e,t])}function Py(t){P.useContext(Vs).static||P.useLayoutEffect(t)}function ia(){let{isDataRoute:t}=P.useContext(ir);return t?Bx():Ox()}function Ox(){$s()||be(!1);let t=P.useContext(Bd),{basename:e,navigator:n}=P.useContext(Vs),{matches:r}=P.useContext(ir),{pathname:s}=zr(),i=JSON.stringify(Ey(r).map(a=>a.pathnameBase)),o=P.useRef(!1);return Py(()=>{o.current=!0}),P.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let c=Oy(a,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Qn([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}function Tx(){let{matches:t}=P.useContext(ir),e=t[t.length-1];return e?e.params:{}}function Ay(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=P.useContext(ir),{pathname:s}=zr(),i=JSON.stringify(Ey(r).map(o=>o.pathnameBase));return P.useMemo(()=>Oy(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function Nx(t,e){return Px(t,e)}function Px(t,e,n){$s()||be(!1);let{navigator:r}=P.useContext(Vs),{matches:s}=P.useContext(ir),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let a=zr(),u;if(e){var c;let y=typeof e=="string"?Bs(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||be(!1),u=y}else u=a;let d=u.pathname||"/",f=l==="/"?d:d.slice(l.length)||"/",h=sx(t,{pathname:f}),p=Ix(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Qn([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Qn([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n);return e&&p?P.createElement(sa.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:In.Pop}},p):p}function Ax(){let t=zx(),e=Cx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,i)}const Dx=P.createElement(Ax,null);class Rx extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?P.createElement(ir.Provider,{value:this.props.routeContext},P.createElement(Ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jx(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(Bd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(ir.Provider,{value:e},r)}function Ix(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=i.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||be(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,a,u)=>{let c=a.route.id?o==null?void 0:o[a.route.id]:null,d=null;n&&(d=a.route.errorElement||Dx);let f=e.concat(i.slice(0,u+1)),h=()=>{let p;return c?p=d:a.route.Component?p=P.createElement(a.route.Component,null):a.route.element?p=a.route.element:p=l,P.createElement(jx,{match:a,routeContext:{outlet:l,matches:f,isDataRoute:n!=null},children:p})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?P.createElement(Rx,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var gc;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(gc||(gc={}));var Vi;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Vi||(Vi={}));function Fx(t){let e=P.useContext(Bd);return e||be(!1),e}function Lx(t){let e=P.useContext(Mx);return e||be(!1),e}function _x(t){let e=P.useContext(ir);return e||be(!1),e}function Dy(t){let e=_x(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function zx(){var t;let e=P.useContext(Ny),n=Lx(Vi.UseRouteError),r=Dy(Vi.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Bx(){let{router:t}=Fx(gc.UseNavigateStable),e=Dy(Vi.UseNavigateStable),n=P.useRef(!1);return Py(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yl({fromRouteId:e},i)))},[t,e])}function Wr(t){be(!1)}function Vx(t){let{basename:e="/",children:n=null,location:r,navigationType:s=In.Pop,navigator:i,static:o=!1}=t;$s()&&be(!1);let l=e.replace(/^\/*/,"/"),a=P.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof r=="string"&&(r=Bs(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,p=P.useMemo(()=>{let y=zd(u,l);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:h},navigationType:s}},[l,u,c,d,f,h,s]);return p==null?null:P.createElement(Vs.Provider,{value:a},P.createElement(sa.Provider,{children:n,value:p}))}function $x(t){let{children:e,location:n}=t;return Nx(yc(e),n)}var Rh;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Rh||(Rh={}));new Promise(()=>{});function yc(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,yc(r.props.children,i));return}r.type!==Wr&&be(!1),!r.props.index||!r.props.children||be(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function Ux(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Hx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wx(t,e){return t.button===0&&(!e||e==="_self")&&!Hx(t)}const qx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Kx="startTransition",jh=Wv[Kx];function Qx(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=tx({window:s,v5Compat:!0}));let o=i.current,[l,a]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=P.useCallback(d=>{u&&jh?jh(()=>a(d)):a(d)},[a,u]);return P.useLayoutEffect(()=>o.listen(c),[o,c]),P.createElement(Vx,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o})}const Jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=P.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:u,preventScrollReset:c}=e,d=Ux(e,qx),{basename:f}=P.useContext(Vs),h,p=!1;if(typeof u=="string"&&Gx.test(u)&&(h=u,Jx))try{let m=new URL(window.location.href),v=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=zd(v.pathname,f);v.origin===m.origin&&S!=null?u=S+v.search+v.hash:p=!0}catch{}let y=Ex(u,{relative:s}),x=Yx(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:s});function g(m){r&&r(m),m.defaultPrevented||x(m)}return P.createElement("a",vc({},d,{href:h||y,onClick:p||i?r:g,ref:n,target:a}))});var Ih;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Ih||(Ih={}));var Fh;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fh||(Fh={}));function Yx(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,l=ia(),a=zr(),u=Ay(t,{relative:o});return P.useCallback(c=>{if(Wx(c,n)){c.preventDefault();let d=r!==void 0?r:gl(a)===gl(u);l(t,{replace:d,state:s,preventScrollReset:i,relative:o})}},[a,l,u,r,s,n,t,i,o])}function Xx({className:t}){return w.jsx(w.Fragment,{children:w.jsxs("svg",{className:t,width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M30.8911 14.2254H29.75V14.1666H17V19.8333H25.0063C23.8382 23.132 20.6996 25.4999 17 25.4999C12.3059 25.4999 8.49998 21.694 8.49998 16.9999C8.49998 12.3058 12.3059 8.49992 17 8.49992C19.1668 8.49992 21.1381 9.31734 22.639 10.6525L26.6461 6.6455C24.1159 4.28746 20.7315 2.83325 17 2.83325C9.17644 2.83325 2.83331 9.17638 2.83331 16.9999C2.83331 24.8235 9.17644 31.1666 17 31.1666C24.8235 31.1666 31.1666 24.8235 31.1666 16.9999C31.1666 16.05 31.0689 15.1228 30.8911 14.2254Z",fill:"#FFC107"}),w.jsx("path",{d:"M4.46674 10.406L9.12119 13.8195C10.3806 10.7014 13.4307 8.49992 17 8.49992C19.1668 8.49992 21.1381 9.31733 22.639 10.6525L26.6461 6.6455C24.1159 4.28746 20.7315 2.83325 17 2.83325C11.5586 2.83325 6.83965 5.90529 4.46674 10.406Z",fill:"#FF3D00"}),w.jsx("path",{d:"M17 31.1667C20.6592 31.1667 23.9842 29.7663 26.498 27.489L22.1135 23.7787C20.6433 24.8968 18.8469 25.5015 17 25.5C13.3152 25.5 10.1865 23.1505 9.00787 19.8716L4.38812 23.431C6.73271 28.0188 11.4941 31.1667 17 31.1667Z",fill:"#4CAF50"}),w.jsx("path",{d:"M30.8911 14.2255H29.75V14.1667H17V19.8334H25.0063C24.4476 21.4034 23.4411 22.7752 22.1113 23.7795L22.1135 23.7781L26.498 27.4884C26.1878 27.7703 31.1667 24.0834 31.1667 17.0001C31.1667 16.0502 31.0689 15.123 30.8911 14.2255Z",fill:"#1976D2"})]})})}function Zx(){const t=ia(),e=async()=>({state:Math.random()>=.5,user:{name:"",email:""}}),n=async()=>{(await e()).state?t("/main"):t("/signup")};return P.useEffect(()=>{},[]),w.jsx(w.Fragment,{children:w.jsx("div",{className:"bg-[#D0956A] w-screen h-screen relative",children:w.jsxs("footer",{className:"absolute bottom-0 left-0 w-full h-[276px] bg-white rounded-t-[40px] ",children:[w.jsx(eS,{}),w.jsxs("button",{className:"relative top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 w-[90%] h-[60px] border-2 rounded-[80px] border-[#BABABA] text-center text-xl font-bold items-center ",onClick:n,children:["",w.jsx(Xx,{className:"absolute top-1/2 translate-x-16 -translate-y-1/2"})]})]})})})}function eS(){return P.useEffect(()=>{const t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,document.body.appendChild(t)}),w.jsxs("div",{className:"w-full h-20",children:[w.jsx("div",{id:"g_id_onload","data-client_id":"164605912125-jk0vlhp2q9trlsqtrc5n06nlsao95j29.apps.googleusercontent.com","data-login_uri":"http://localhost:5173/signup","data-auto_prompt":"false","data-context":"use","data-ux_mode":"redirect","data-auto_select":"true","data-itp_support":"true"}),w.jsx("div",{className:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left"})]})}function tS(){const[t,e]=P.useState({res:null,message:""}),n=P.useRef(null),r=ia(),s=o=>{n.current&&(n.current.value===""?e({res:!0,message:" "}):e({res:!1,message:"  "}),o.key==="Enter"&&i())},i=async()=>{if(!t.res||!n.current)return;({state:Math.random()>=.5}).state?r("/main"):e({res:!1,message:"  "})};return w.jsx("div",{className:"w-screen h-screen relative",children:w.jsxs("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col justify-center gap-[17px] px-[5%]",children:[w.jsx("div",{className:"w-full text-center font-bold text-2xl",children:" ?"}),w.jsxs("div",{className:"h-[60px] rounded-[80px] text-center text-xl font-bold items-center bg-white border-2 border-[#BABABA] overflow-hidden relative",children:[w.jsx("input",{ref:n,type:"text",maxLength:20,className:"absolute top-0 left-0 w-full h-full outline-none text-center text-xl font-bold items-center content-center",onKeyDown:s}),w.jsx("div",{className:"absolute top-0 right-0 w-32 h-full p-1",children:w.jsx("button",{className:"w-full h-full bg-amber-300 rounded-full",onClick:i,children:""})})]}),w.jsx("div",{className:`opacity-0 ${t.res?"text-green-300 opacity-100":"text-red-300 opacity-100"}`,children:t.message})]})})}function $d(){const t=()=>"test-user";return w.jsxs("div",{className:"bg-zinc-100 w-full h-16 fixed bottom-0 z-50 flex justify-around items-center ",children:[w.jsx(gs,{to:"/mypage/"+t(),children:w.jsx(nS,{})}),w.jsx(gs,{to:"/main",children:w.jsx(rS,{})}),w.jsx(gs,{to:"/post/newpost",children:w.jsx(sS,{})})]})}function nS(){const t=Vd("/mypage/:id");return w.jsx("svg",{className:"w-8 h-8",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:w.jsx("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z",fill:t?"black":"#9F9F9F"})})}function rS(){const t=Vd("/main");return w.jsx("svg",{className:"w-8 h-8",width:"29",height:"33",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:w.jsx("path",{d:"M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z",fill:t?"black":"#9F9F9F"})})}function sS(){const t=Vd("/post/:id");return w.jsx("svg",{className:"w-8 h-8",width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:w.jsx("path",{d:"M368.4 18.3L312.7 74.1 437.9 199.3l55.7-55.7c21.9-21.9 21.9-57.3 0-79.2L447.6 18.3c-21.9-21.9-57.3-21.9-79.2 0zM288 94.6l-9.2 2.8L134.7 140.6c-19.9 6-35.7 21.2-42.3 41L3.8 445.8c-3.8 11.3-1 23.9 7.3 32.4L164.7 324.7c-3-6.3-4.7-13.3-4.7-20.7c0-26.5 21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48c-7.4 0-14.4-1.7-20.7-4.7L33.7 500.9c8.6 8.3 21.1 11.2 32.4 7.3l264.3-88.6c19.7-6.6 35-22.4 41-42.3l43.2-144.1 2.8-9.2L288 94.6z",fill:t?"black":"#9F9F9F"})})}function iS(){const t=P.useRef(null);return P.useEffect(()=>{const e=t.current,n=r=>{e&&e.scrollTo({left:e.scrollLeft+r.deltaY*.5,behavior:"auto"}),r.preventDefault()};return e&&e.addEventListener("wheel",n,{passive:!1}),()=>{e&&e.removeEventListener("wheel",n)}},[]),w.jsxs("div",{ref:t,className:"mt-4 overflow-auto whitespace-nowrap scrollbar-hide",children:[w.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full bg-[#FFCE52]",children:"#"}),w.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#"}),w.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#"}),w.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#"}),w.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#"}),w.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#"}),w.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#"})]})}var Zi=t=>t.type==="checkbox",ls=t=>t instanceof Date,et=t=>t==null;const Ry=t=>typeof t=="object";var De=t=>!et(t)&&!Array.isArray(t)&&Ry(t)&&!ls(t),oS=t=>De(t)&&t.target?Zi(t.target)?t.target.checked:t.target.value:t,lS=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aS=(t,e)=>t.has(lS(e)),uS=t=>{const e=t.constructor&&t.constructor.prototype;return De(e)&&e.hasOwnProperty("isPrototypeOf")},Ud=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ud&&(t instanceof Blob||t instanceof FileList))&&(n||De(t)))if(e=n?[]:{},!n&&!uS(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=bn(t[r]));else return t;return e}var eo=t=>Array.isArray(t)?t.filter(Boolean):[],we=t=>t===void 0,z=(t,e,n)=>{if(!e||!De(t))return n;const r=eo(e.split(/[,[\].]+?/)).reduce((s,i)=>et(s)?s:s[i],t);return we(r)||r===t?we(t[e])?n:t[e]:r};const Lh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},an={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};X.createContext(null);var cS=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Bt.all&&(e._proxyFormState[o]=!r||Bt.all),n&&(n[o]=!0),t[o]}});return s},wt=t=>De(t)&&!Object.keys(t).length,dS=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return wt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Bt.all))},Qa=t=>Array.isArray(t)?t:[t];function fS(t){const e=X.useRef(t);e.current=t,X.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var en=t=>typeof t=="string",hS=(t,e,n,r,s)=>en(t)?(r&&e.watch.add(t),z(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),z(n,i))):(r&&(e.watchAll=!0),n),Hd=t=>/^\w*$/.test(t),jy=t=>eo(t.replace(/["|']|\]/g,"").split(/\.|\[/));function ue(t,e,n){let r=-1;const s=Hd(e)?[e]:jy(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let a=n;if(r!==o){const u=t[l];a=De(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}t[l]=a,t=t[l]}return t}var pS=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{};const kc=(t,e,n)=>{for(const r of n||Object.keys(t)){const s=z(t,r);if(s){const{_f:i,...o}=s;if(i&&e(i.name)){if(i.ref.focus){i.ref.focus();break}else if(i.refs&&i.refs[0].focus){i.refs[0].focus();break}}else De(o)&&kc(o,e)}}};var _h=t=>({isOnSubmit:!t||t===Bt.onSubmit,isOnBlur:t===Bt.onBlur,isOnChange:t===Bt.onChange,isOnAll:t===Bt.all,isOnTouch:t===Bt.onTouched}),zh=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),mS=(t,e,n)=>{const r=eo(z(t,n));return ue(r,"root",e[n]),ue(t,n,r),t},ys=t=>typeof t=="boolean",Wd=t=>t.type==="file",Fn=t=>typeof t=="function",vl=t=>{if(!Ud)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zo=t=>en(t),qd=t=>t.type==="radio",kl=t=>t instanceof RegExp;const Bh={value:!1,isValid:!1},Vh={value:!0,isValid:!0};var Iy=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!we(t[0].attributes.value)?we(t[0].value)||t[0].value===""?Vh:{value:t[0].value,isValid:!0}:Vh:Bh}return Bh};const $h={isValid:!1,value:null};var Fy=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,$h):$h;function Uh(t,e,n="validate"){if(zo(t)||Array.isArray(t)&&t.every(zo)||ys(t)&&!t)return{type:n,message:zo(t)?t:"",ref:e}}var Ur=t=>De(t)&&!kl(t)?t:{value:t,message:""},Hh=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:l,maxLength:a,minLength:u,min:c,max:d,pattern:f,validate:h,name:p,valueAsNumber:y,mount:x,disabled:g}=t._f,m=z(e,p);if(!x||g)return{};const v=o?o[0]:i,S=K=>{r&&v.reportValidity&&(v.setCustomValidity(ys(K)?"":K||""),v.reportValidity())},C={},E=qd(i),D=Zi(i),O=E||D,q=(y||Wd(i))&&we(i.value)&&we(m)||vl(i)&&i.value===""||m===""||Array.isArray(m)&&!m.length,_=pS.bind(null,p,n,C),re=(K,W,Z,fe=an.maxLength,oe=an.minLength)=>{const Me=K?W:Z;C[p]={type:K?fe:oe,message:Me,ref:i,..._(K?fe:oe,Me)}};if(s?!Array.isArray(m)||!m.length:l&&(!O&&(q||et(m))||ys(m)&&!m||D&&!Iy(o).isValid||E&&!Fy(o).isValid)){const{value:K,message:W}=zo(l)?{value:!!l,message:l}:Ur(l);if(K&&(C[p]={type:an.required,message:W,ref:v,..._(an.required,W)},!n))return S(W),C}if(!q&&(!et(c)||!et(d))){let K,W;const Z=Ur(d),fe=Ur(c);if(!et(m)&&!isNaN(m)){const oe=i.valueAsNumber||m&&+m;et(Z.value)||(K=oe>Z.value),et(fe.value)||(W=oe<fe.value)}else{const oe=i.valueAsDate||new Date(m),Me=U=>new Date(new Date().toDateString()+" "+U),R=i.type=="time",V=i.type=="week";en(Z.value)&&m&&(K=R?Me(m)>Me(Z.value):V?m>Z.value:oe>new Date(Z.value)),en(fe.value)&&m&&(W=R?Me(m)<Me(fe.value):V?m<fe.value:oe<new Date(fe.value))}if((K||W)&&(re(!!K,Z.message,fe.message,an.max,an.min),!n))return S(C[p].message),C}if((a||u)&&!q&&(en(m)||s&&Array.isArray(m))){const K=Ur(a),W=Ur(u),Z=!et(K.value)&&m.length>+K.value,fe=!et(W.value)&&m.length<+W.value;if((Z||fe)&&(re(Z,K.message,W.message),!n))return S(C[p].message),C}if(f&&!q&&en(m)){const{value:K,message:W}=Ur(f);if(kl(K)&&!m.match(K)&&(C[p]={type:an.pattern,message:W,ref:i,..._(an.pattern,W)},!n))return S(W),C}if(h){if(Fn(h)){const K=await h(m,e),W=Uh(K,v);if(W&&(C[p]={...W,..._(an.validate,W.message)},!n))return S(W.message),C}else if(De(h)){let K={};for(const W in h){if(!wt(K)&&!n)break;const Z=Uh(await h[W](m,e),v,W);Z&&(K={...Z,..._(W,Z.message)},S(Z.message),n&&(C[p]=K))}if(!wt(K)&&(C[p]={ref:v,...K},!n))return C}}return S(!0),C};function gS(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=we(t)?r++:t[e[r++]];return t}function yS(t){for(const e in t)if(t.hasOwnProperty(e)&&!we(t[e]))return!1;return!0}function _e(t,e){const n=Array.isArray(e)?e:Hd(e)?[e]:jy(e),r=n.length===1?t:gS(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(De(r)&&wt(r)||Array.isArray(r)&&yS(r))&&_e(t,n.slice(0,-1)),t}function Ja(){let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}}var xl=t=>et(t)||!Ry(t);function yr(t,e){if(xl(t)||xl(e))return t===e;if(ls(t)&&ls(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ls(i)&&ls(o)||De(i)&&De(o)||Array.isArray(i)&&Array.isArray(o)?!yr(i,o):i!==o)return!1}}return!0}var Ly=t=>t.type==="select-multiple",vS=t=>qd(t)||Zi(t),Ga=t=>vl(t)&&t.isConnected,_y=t=>{for(const e in t)if(Fn(t[e]))return!0;return!1};function Sl(t,e={}){const n=Array.isArray(t);if(De(t)||n)for(const r in t)Array.isArray(t[r])||De(t[r])&&!_y(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Sl(t[r],e[r])):et(t[r])||(e[r]=!0);return e}function zy(t,e,n){const r=Array.isArray(t);if(De(t)||r)for(const s in t)Array.isArray(t[s])||De(t[s])&&!_y(t[s])?we(e)||xl(n[s])?n[s]=Array.isArray(t[s])?Sl(t[s],[]):{...Sl(t[s])}:zy(t[s],et(e)?{}:e[s],n[s]):n[s]=!yr(t[s],e[s]);return n}var Ya=(t,e)=>zy(t,e,Sl(e)),By=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>we(t)?t:e?t===""?NaN:t&&+t:n&&en(t)?new Date(t):r?r(t):t;function Xa(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Wd(e)?e.files:qd(e)?Fy(t.refs).value:Ly(e)?[...e.selectedOptions].map(({value:n})=>n):Zi(e)?Iy(t.refs).value:By(we(e.value)?t.ref.value:e.value,t)}var kS=(t,e,n,r)=>{const s={};for(const i of t){const o=z(e,i);o&&ue(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Zs=t=>we(t)?t:kl(t)?t.source:De(t)?kl(t.value)?t.value.source:t.value:t,xS=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Wh(t,e,n){const r=z(t,n);if(r||Hd(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=z(e,i),l=z(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var SS=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,wS=(t,e)=>!eo(z(t,e)).length&&_e(t,e);const CS={mode:Bt.onSubmit,reValidateMode:Bt.onChange,shouldFocusError:!0};function bS(t={},e){let n={...CS,...t},r={submitCount:0,isDirty:!1,isLoading:Fn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},i=De(n.defaultValues)||De(n.values)?bn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:bn(i),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Ja(),array:Ja(),state:Ja()},h=t.resetOptions&&t.resetOptions.keepDirtyValues,p=_h(n.mode),y=_h(n.reValidateMode),x=n.criteriaMode===Bt.all,g=k=>b=>{clearTimeout(c),c=setTimeout(k,b)},m=async k=>{if(d.isValid||k){const b=n.resolver?wt((await q()).errors):await re(s,!0);b!==r.isValid&&f.state.next({isValid:b})}},v=k=>d.isValidating&&f.state.next({isValidating:k}),S=(k,b=[],M,B,j=!0,A=!0)=>{if(B&&M){if(l.action=!0,A&&Array.isArray(z(s,k))){const $=M(z(s,k),B.argA,B.argB);j&&ue(s,k,$)}if(A&&Array.isArray(z(r.errors,k))){const $=M(z(r.errors,k),B.argA,B.argB);j&&ue(r.errors,k,$),wS(r.errors,k)}if(d.touchedFields&&A&&Array.isArray(z(r.touchedFields,k))){const $=M(z(r.touchedFields,k),B.argA,B.argB);j&&ue(r.touchedFields,k,$)}d.dirtyFields&&(r.dirtyFields=Ya(i,o)),f.state.next({name:k,isDirty:W(k,b),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ue(o,k,b)},C=(k,b)=>{ue(r.errors,k,b),f.state.next({errors:r.errors})},E=(k,b,M,B)=>{const j=z(s,k);if(j){const A=z(o,k,we(M)?z(i,k):M);we(A)||B&&B.defaultChecked||b?ue(o,k,b?A:Xa(j._f)):oe(k,A),l.mount&&m()}},D=(k,b,M,B,j)=>{let A=!1,$=!1;const ye={name:k};if(!M||B){d.isDirty&&($=r.isDirty,r.isDirty=ye.isDirty=W(),A=$!==ye.isDirty);const Se=yr(z(i,k),b);$=z(r.dirtyFields,k),Se?_e(r.dirtyFields,k):ue(r.dirtyFields,k,!0),ye.dirtyFields=r.dirtyFields,A=A||d.dirtyFields&&$!==!Se}if(M){const Se=z(r.touchedFields,k);Se||(ue(r.touchedFields,k,M),ye.touchedFields=r.touchedFields,A=A||d.touchedFields&&Se!==M)}return A&&j&&f.state.next(ye),A?ye:{}},O=(k,b,M,B)=>{const j=z(r.errors,k),A=d.isValid&&ys(b)&&r.isValid!==b;if(t.delayError&&M?(u=g(()=>C(k,M)),u(t.delayError)):(clearTimeout(c),u=null,M?ue(r.errors,k,M):_e(r.errors,k)),(M?!yr(j,M):j)||!wt(B)||A){const $={...B,...A&&ys(b)?{isValid:b}:{},errors:r.errors,name:k};r={...r,...$},f.state.next($)}v(!1)},q=async k=>n.resolver(o,n.context,kS(k||a.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),_=async k=>{const{errors:b}=await q();if(k)for(const M of k){const B=z(b,M);B?ue(r.errors,M,B):_e(r.errors,M)}else r.errors=b;return b},re=async(k,b,M={valid:!0})=>{for(const B in k){const j=k[B];if(j){const{_f:A,...$}=j;if(A){const ye=a.array.has(A.name),Se=await Hh(j,o,x,n.shouldUseNativeValidation&&!b,ye);if(Se[A.name]&&(M.valid=!1,b))break;!b&&(z(Se,A.name)?ye?mS(r.errors,Se,A.name):ue(r.errors,A.name,Se[A.name]):_e(r.errors,A.name))}$&&await re($,b,M)}}return M.valid},K=()=>{for(const k of a.unMount){const b=z(s,k);b&&(b._f.refs?b._f.refs.every(M=>!Ga(M)):!Ga(b._f.ref))&&jt(k)}a.unMount=new Set},W=(k,b)=>(k&&b&&ue(o,k,b),!yr(se(),i)),Z=(k,b,M)=>hS(k,a,{...l.mount?o:we(b)?i:en(k)?{[k]:b}:b},M,b),fe=k=>eo(z(l.mount?o:i,k,t.shouldUnregister?z(i,k,[]):[])),oe=(k,b,M={})=>{const B=z(s,k);let j=b;if(B){const A=B._f;A&&(!A.disabled&&ue(o,k,By(b,A)),j=vl(A.ref)&&et(b)?"":b,Ly(A.ref)?[...A.ref.options].forEach($=>$.selected=j.includes($.value)):A.refs?Zi(A.ref)?A.refs.length>1?A.refs.forEach($=>(!$.defaultChecked||!$.disabled)&&($.checked=Array.isArray(j)?!!j.find(ye=>ye===$.value):j===$.value)):A.refs[0]&&(A.refs[0].checked=!!j):A.refs.forEach($=>$.checked=$.value===j):Wd(A.ref)?A.ref.value="":(A.ref.value=j,A.ref.type||f.values.next({name:k,values:{...o}})))}(M.shouldDirty||M.shouldTouch)&&D(k,j,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&U(k)},Me=(k,b,M)=>{for(const B in b){const j=b[B],A=`${k}.${B}`,$=z(s,A);(a.array.has(k)||!xl(j)||$&&!$._f)&&!ls(j)?Me(A,j,M):oe(A,j,M)}},R=(k,b,M={})=>{const B=z(s,k),j=a.array.has(k),A=bn(b);ue(o,k,A),j?(f.array.next({name:k,values:{...o}}),(d.isDirty||d.dirtyFields)&&M.shouldDirty&&f.state.next({name:k,dirtyFields:Ya(i,o),isDirty:W(k,A)})):B&&!B._f&&!et(A)?Me(k,A,M):oe(k,A,M),zh(k,a)&&f.state.next({...r}),f.values.next({name:k,values:{...o}}),!l.mount&&e()},V=async k=>{const b=k.target;let M=b.name,B=!0;const j=z(s,M),A=()=>b.type?Xa(j._f):oS(k);if(j){let $,ye;const Se=A(),Vr=k.type===Lh.BLUR||k.type===Lh.FOCUS_OUT,Ev=!xS(j._f)&&!n.resolver&&!z(r.errors,M)&&!j._f.deps||SS(Vr,z(r.touchedFields,M),r.isSubmitted,y,p),ka=zh(M,a,Vr);ue(o,M,Se),Vr?(j._f.onBlur&&j._f.onBlur(k),u&&u(0)):j._f.onChange&&j._f.onChange(k);const xa=D(M,Se,Vr,!1),Ov=!wt(xa)||ka;if(!Vr&&f.values.next({name:M,type:k.type,values:{...o}}),Ev)return d.isValid&&m(),Ov&&f.state.next({name:M,...ka?{}:xa});if(!Vr&&ka&&f.state.next({...r}),v(!0),n.resolver){const{errors:vf}=await q([M]),Tv=Wh(r.errors,s,M),kf=Wh(vf,s,Tv.name||M);$=kf.error,M=kf.name,ye=wt(vf)}else $=(await Hh(j,o,x,n.shouldUseNativeValidation))[M],B=isNaN(Se)||Se===z(o,M,Se),B&&($?ye=!1:d.isValid&&(ye=await re(s,!0)));B&&(j._f.deps&&U(j._f.deps),O(M,ye,$,xa))}},U=async(k,b={})=>{let M,B;const j=Qa(k);if(v(!0),n.resolver){const A=await _(we(k)?k:j);M=wt(A),B=k?!j.some($=>z(A,$)):M}else k?(B=(await Promise.all(j.map(async A=>{const $=z(s,A);return await re($&&$._f?{[A]:$}:$)}))).every(Boolean),!(!B&&!r.isValid)&&m()):B=M=await re(s);return f.state.next({...!en(k)||d.isValid&&M!==r.isValid?{}:{name:k},...n.resolver||!k?{isValid:M}:{},errors:r.errors,isValidating:!1}),b.shouldFocus&&!B&&kc(s,A=>A&&z(r.errors,A),k?j:a.mount),B},se=k=>{const b={...i,...l.mount?o:{}};return we(k)?b:en(k)?z(b,k):k.map(M=>z(b,M))},he=(k,b)=>({invalid:!!z((b||r).errors,k),isDirty:!!z((b||r).dirtyFields,k),isTouched:!!z((b||r).touchedFields,k),error:z((b||r).errors,k)}),Br=k=>{k&&Qa(k).forEach(b=>_e(r.errors,b)),f.state.next({errors:k?r.errors:{}})},Qt=(k,b,M)=>{const B=(z(s,k,{_f:{}})._f||{}).ref;ue(r.errors,k,{...b,ref:B}),f.state.next({name:k,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&B&&B.focus&&B.focus()},Hs=(k,b)=>Fn(k)?f.values.subscribe({next:M=>k(Z(void 0,b),M)}):Z(k,b,!0),jt=(k,b={})=>{for(const M of k?Qa(k):a.mount)a.mount.delete(M),a.array.delete(M),b.keepValue||(_e(s,M),_e(o,M)),!b.keepError&&_e(r.errors,M),!b.keepDirty&&_e(r.dirtyFields,M),!b.keepTouched&&_e(r.touchedFields,M),!n.shouldUnregister&&!b.keepDefaultValue&&_e(i,M);f.values.next({values:{...o}}),f.state.next({...r,...b.keepDirty?{isDirty:W()}:{}}),!b.keepIsValid&&m()},Sn=(k,b={})=>{let M=z(s,k);const B=ys(b.disabled);return ue(s,k,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:k}},name:k,mount:!0,...b}}),a.mount.add(k),we(b.value)||ue(o,k,b.value),M?B&&ue(o,k,b.disabled?void 0:z(o,k,Xa(M._f))):E(k,!0,b.value),{...B?{disabled:b.disabled}:{},...n.progressive?{required:!!b.required,min:Zs(b.min),max:Zs(b.max),minLength:Zs(b.minLength),maxLength:Zs(b.maxLength),pattern:Zs(b.pattern)}:{},name:k,onChange:V,onBlur:V,ref:j=>{if(j){Sn(k,b),M=z(s,k);const A=we(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,$=vS(A),ye=M._f.refs||[];if($?ye.find(Se=>Se===A):A===M._f.ref)return;ue(s,k,{_f:{...M._f,...$?{refs:[...ye.filter(Ga),A,...Array.isArray(z(i,k))?[{}]:[]],ref:{type:A.type,name:k}}:{ref:A}}}),E(k,!1,void 0,A)}else M=z(s,k,{}),M._f&&(M._f.mount=!1),(n.shouldUnregister||b.shouldUnregister)&&!(aS(a.array,k)&&l.action)&&a.unMount.add(k)}}},pf=()=>n.shouldFocusError&&kc(s,k=>k&&z(r.errors,k),a.mount),mf=(k,b)=>async M=>{M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let B=bn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:j,values:A}=await q();r.errors=j,B=A}else await re(s);_e(r.errors,"root"),wt(r.errors)?(f.state.next({errors:{}}),await k(B,M)):(b&&await b({...r.errors},M),pf(),setTimeout(pf)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Mv=(k,b={})=>{z(s,k)&&(we(b.defaultValue)?R(k,z(i,k)):(R(k,b.defaultValue),ue(i,k,b.defaultValue)),b.keepTouched||_e(r.touchedFields,k),b.keepDirty||(_e(r.dirtyFields,k),r.isDirty=b.defaultValue?W(k,z(i,k)):W()),b.keepError||(_e(r.errors,k),d.isValid&&m()),f.state.next({...r}))},gf=(k,b={})=>{const M=k||i,B=bn(M),j=k&&!wt(k)?B:i;if(b.keepDefaultValues||(i=M),!b.keepValues){if(b.keepDirtyValues||h)for(const A of a.mount)z(r.dirtyFields,A)?ue(j,A,z(o,A)):R(A,z(j,A));else{if(Ud&&we(k))for(const A of a.mount){const $=z(s,A);if($&&$._f){const ye=Array.isArray($._f.refs)?$._f.refs[0]:$._f.ref;if(vl(ye)){const Se=ye.closest("form");if(Se){Se.reset();break}}}}s={}}o=t.shouldUnregister?b.keepDefaultValues?bn(i):{}:bn(j),f.array.next({values:{...j}}),f.values.next({values:{...j}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!d.isValid||!!b.keepIsValid,l.watch=!!t.shouldUnregister,f.state.next({submitCount:b.keepSubmitCount?r.submitCount:0,isDirty:b.keepDirty?r.isDirty:!!(b.keepDefaultValues&&!yr(k,i)),isSubmitted:b.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:b.keepDirtyValues?r.dirtyFields:b.keepDefaultValues&&k?Ya(i,k):{},touchedFields:b.keepTouched?r.touchedFields:{},errors:b.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},yf=(k,b)=>gf(Fn(k)?k(o):k,b);return{control:{register:Sn,unregister:jt,getFieldState:he,handleSubmit:mf,setError:Qt,_executeSchema:q,_getWatch:Z,_getDirty:W,_updateValid:m,_removeUnmounted:K,_updateFieldArray:S,_getFieldArray:fe,_reset:gf,_resetDefaultValues:()=>Fn(n.defaultValues)&&n.defaultValues().then(k=>{yf(k,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:k=>{r={...r,...k}},_subjects:f,_proxyFormState:d,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(k){l=k},get _defaultValues(){return i},get _names(){return a},set _names(k){a=k},get _formState(){return r},set _formState(k){r=k},get _options(){return n},set _options(k){n={...n,...k}}},trigger:U,register:Sn,handleSubmit:mf,watch:Hs,setValue:R,getValues:se,reset:yf,resetField:Mv,clearErrors:Br,unregister:jt,setError:Qt,setFocus:(k,b={})=>{const M=z(s,k),B=M&&M._f;if(B){const j=B.refs?B.refs[0]:B.ref;j.focus&&(j.focus(),b.shouldSelect&&j.select())}},getFieldState:he}}function MS(t={}){const e=X.useRef(),n=X.useRef(),[r,s]=X.useState({isDirty:!1,isValidating:!1,isLoading:Fn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Fn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...bS(t,()=>s(o=>({...o}))),formState:r});const i=e.current.control;return i._options=t,fS({subject:i._subjects.state,next:o=>{dS(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),X.useEffect(()=>{t.values&&!yr(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values):i._resetDefaultValues()},[t.values,i]),X.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=cS(r,i),e.current}function xc(t,e){return xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},xc(t,e)}function to(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,xc(t,e)}var no=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var s=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(o){return o!==i}),s.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},te.apply(this,arguments)}var wl=typeof window>"u";function qe(){}function ES(t,e){return typeof t=="function"?t(e):t}function Sc(t){return typeof t=="number"&&t>=0&&t!==1/0}function Cl(t){return Array.isArray(t)?t:[t]}function Vy(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bo(t,e,n){return oa(t)?typeof e=="function"?te({},n,{queryKey:t,queryFn:e}):te({},e,{queryKey:t}):t}function Tn(t,e,n){return oa(t)?[te({},e,{queryKey:t}),n]:[t||{},e]}function OS(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function qh(t,e){var n=t.active,r=t.exact,s=t.fetching,i=t.inactive,o=t.predicate,l=t.queryKey,a=t.stale;if(oa(l)){if(r){if(e.queryHash!==Kd(l,e.options))return!1}else if(!bl(e.queryKey,l))return!1}var u=OS(n,i);if(u==="none")return!1;if(u!=="all"){var c=e.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof s=="boolean"&&e.isFetching()!==s||o&&!o(e))}function Kh(t,e){var n=t.exact,r=t.fetching,s=t.predicate,i=t.mutationKey;if(oa(i)){if(!e.options.mutationKey)return!1;if(n){if(vr(e.options.mutationKey)!==vr(i))return!1}else if(!bl(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function Kd(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||vr;return n(t)}function vr(t){var e=Cl(t);return TS(e)}function TS(t){return JSON.stringify(t,function(e,n){return wc(n)?Object.keys(n).sort().reduce(function(r,s){return r[s]=n[s],r},{}):n})}function bl(t,e){return $y(Cl(t),Cl(e))}function $y(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!$y(t[n],e[n])}):!1}function Ml(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||wc(t)&&wc(e)){for(var r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{},l=0,a=0;a<i;a++){var u=n?a:s[a];o[u]=Ml(t[u],e[u]),o[u]===t[u]&&l++}return r===i&&l===r?t:o}return e}function NS(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function wc(t){if(!Qh(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!Qh(n)||!n.hasOwnProperty("isPrototypeOf"))}function Qh(t){return Object.prototype.toString.call(t)==="[object Object]"}function oa(t){return typeof t=="string"||Array.isArray(t)}function PS(t){return new Promise(function(e){setTimeout(e,t)})}function Jh(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function Uy(){if(typeof AbortController=="function")return new AbortController}var AS=function(t){to(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!wl&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},n.setFocused=function(s){this.focused=s,s&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(s){s()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(no),vi=new AS,DS=function(t){to(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!wl&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},n.setOnline=function(s){this.online=s,s&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(s){s()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(no),Vo=new DS;function RS(t){return Math.min(1e3*Math.pow(2,t),3e4)}function El(t){return typeof(t==null?void 0:t.cancel)=="function"}var Hy=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function $o(t){return t instanceof Hy}var Wy=function(e){var n=this,r=!1,s,i,o,l;this.abort=e.abort,this.cancel=function(f){return s==null?void 0:s(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,h){o=f,l=h});var a=function(h){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(h),i==null||i(),o(h))},u=function(h){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(h),i==null||i(),l(h))},c=function(){return new Promise(function(h){i=h,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},d=function f(){if(!n.isResolved){var h;try{h=e.fn()}catch(p){h=Promise.reject(p)}s=function(y){if(!n.isResolved&&(u(new Hy(y)),n.abort==null||n.abort(),El(h)))try{h.cancel()}catch{}},n.isTransportCancelable=El(h),Promise.resolve(h).then(a).catch(function(p){var y,x;if(!n.isResolved){var g=(y=e.retry)!=null?y:3,m=(x=e.retryDelay)!=null?x:RS,v=typeof m=="function"?m(n.failureCount,p):m,S=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,p);if(r||!S){u(p);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,p),PS(v).then(function(){if(!vi.isFocused()||!Vo.isOnline())return c()}).then(function(){r?u(p):f()})}})}};d()},jS=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var s;this.transactions++;try{s=r()}finally{this.transactions--,this.transactions||this.flush()}return s},e.schedule=function(r){var s=this;this.transactions?this.queue.push(r):Jh(function(){s.notifyFn(r)})},e.batchCalls=function(r){var s=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];s.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,s=this.queue;this.queue=[],s.length&&Jh(function(){r.batchNotifyFn(function(){s.forEach(function(i){r.notifyFn(i)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),ke=new jS,qy=console;function Ol(){return qy}function IS(t){qy=t}var FS=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var s;this.options=te({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Sc(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,s){var i,o,l=this.state.data,a=ES(r,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,a)?a=l:this.options.structuralSharing!==!1&&(a=Ml(l,a)),this.dispatch({data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),a},e.setState=function(r,s){this.dispatch({type:"setState",state:r,setStateOptions:s})},e.cancel=function(r){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(r),i?i.then(qe).catch(qe):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Vy(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(s){return s!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,s){var i=this,o,l,a;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(m){return m.options.queryFn});c&&this.setOptions(c.options)}var d=Cl(this.queryKey),f=Uy(),h={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var p=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(h)):Promise.reject("Missing queryFn")},y={fetchOptions:s,options:this.options,queryKey:d,state:this.state,fetchFn:p,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var x;(x=this.options.behavior)==null||x.onFetch(y)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=y.fetchOptions)==null?void 0:l.meta)){var g;this.dispatch({type:"fetch",meta:(g=y.fetchOptions)==null?void 0:g.meta})}return this.retryer=new Wy({fn:y.fetchFn,abort:f==null||(a=f.abort)==null?void 0:a.bind(f),onSuccess:function(v){i.setData(v),i.cache.config.onSuccess==null||i.cache.config.onSuccess(v,i),i.cacheTime===0&&i.optionalRemove()},onError:function(v){$o(v)&&v.silent||i.dispatch({type:"error",error:v}),$o(v)||(i.cache.config.onError==null||i.cache.config.onError(v,i),Ol().error(v)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var s=this;this.state=this.reducer(this.state,r),ke.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(r)}),s.cache.notify({query:s,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var s=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(r,s){var i,o;switch(s.type){case"failed":return te({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return te({},r,{isPaused:!0});case"continue":return te({},r,{isPaused:!1});case"fetch":return te({},r,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return te({},r,{data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=s.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=s.error;return $o(l)&&l.revert&&this.revertState?te({},this.revertState):te({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return te({},r,{isInvalidated:!0});case"setState":return te({},r,s.state);default:return r}},t}(),LS=function(t){to(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.queries=[],s.queriesMap={},s}var n=e.prototype;return n.build=function(s,i,o){var l,a=i.queryKey,u=(l=i.queryHash)!=null?l:Kd(a,i),c=this.get(u);return c||(c=new FS({cache:this,queryKey:a,queryHash:u,options:s.defaultQueryOptions(i),state:o,defaultOptions:s.getQueryDefaults(a),meta:i.meta}),this.add(c)),c},n.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},n.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(o){return o!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},n.clear=function(){var s=this;ke.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},n.get=function(s){return this.queriesMap[s]},n.getAll=function(){return this.queries},n.find=function(s,i){var o=Tn(s,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(a){return qh(l,a)})},n.findAll=function(s,i){var o=Tn(s,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(a){return qh(l,a)}):this.queries},n.notify=function(s){var i=this;ke.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){var s=this;ke.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var s=this;ke.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},e}(no),_S=function(){function t(n){this.options=te({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||zS(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(s){return s!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(qe).catch(qe)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,s,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(l){s=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(s,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(s,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:s}),s}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),Ol().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var r=this,s;return this.retryer=new Wy({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var s=this;this.state=BS(this.state,r),ke.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(r)}),s.mutationCache.notify(s)})},t}();function zS(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function BS(t,e){switch(e.type){case"failed":return te({},t,{failureCount:t.failureCount+1});case"pause":return te({},t,{isPaused:!0});case"continue":return te({},t,{isPaused:!1});case"loading":return te({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return te({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return te({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return te({},t,e.state);default:return t}}var VS=function(t){to(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.mutations=[],s.mutationId=0,s}var n=e.prototype;return n.build=function(s,i,o){var l=new _S({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},n.add=function(s){this.mutations.push(s),this.notify(s)},n.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},n.clear=function(){var s=this;ke.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return Kh(s,i)})},n.findAll=function(s){return this.mutations.filter(function(i){return Kh(s,i)})},n.notify=function(s){var i=this;ke.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return ke.batch(function(){return s.reduce(function(i,o){return i.then(function(){return o.continue().catch(qe)})},Promise.resolve())})},e}(no);function $S(){return{onFetch:function(e){e.fetchFn=function(){var n,r,s,i,o,l,a=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,c=u==null?void 0:u.pageParam,d=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",h=((o=e.state.data)==null?void 0:o.pages)||[],p=((l=e.state.data)==null?void 0:l.pageParams)||[],y=Uy(),x=y==null?void 0:y.signal,g=p,m=!1,v=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(Z,fe,oe,Me){return g=Me?[fe].concat(g):[].concat(g,[fe]),Me?[oe].concat(Z):[].concat(Z,[oe])},C=function(Z,fe,oe,Me){if(m)return Promise.reject("Cancelled");if(typeof oe>"u"&&!fe&&Z.length)return Promise.resolve(Z);var R={queryKey:e.queryKey,signal:x,pageParam:oe,meta:e.meta},V=v(R),U=Promise.resolve(V).then(function(he){return S(Z,oe,he,Me)});if(El(V)){var se=U;se.cancel=V.cancel}return U},E;if(!h.length)E=C([]);else if(d){var D=typeof c<"u",O=D?c:Gh(e.options,h);E=C(h,D,O)}else if(f){var q=typeof c<"u",_=q?c:US(e.options,h);E=C(h,q,_,!0)}else(function(){g=[];var W=typeof e.options.getNextPageParam>"u",Z=a&&h[0]?a(h[0],0,h):!0;E=Z?C([],W,p[0]):Promise.resolve(S([],p[0],h[0]));for(var fe=function(R){E=E.then(function(V){var U=a&&h[R]?a(h[R],R,h):!0;if(U){var se=W?p[R]:Gh(e.options,V);return C(V,W,se)}return Promise.resolve(S(V,p[R],h[R]))})},oe=1;oe<h.length;oe++)fe(oe)})();var re=E.then(function(W){return{pages:W,pageParams:g}}),K=re;return K.cancel=function(){m=!0,y==null||y.abort(),El(E)&&E.cancel()},re}}}}function Gh(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function US(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var HS=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new LS,this.mutationCache=n.mutationCache||new VS,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=vi.subscribe(function(){vi.isFocused()&&Vo.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Vo.subscribe(function(){vi.isFocused()&&Vo.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,s;(r=this.unsubscribeFocus)==null||r.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},e.isFetching=function(r,s){var i=Tn(r,s),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(te({},r,{fetching:!0})).length},e.getQueryData=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(s){var i=s.queryKey,o=s.state,l=o.data;return[i,l]})},e.setQueryData=function(r,s,i){var o=Bo(r),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(s,i)},e.setQueriesData=function(r,s,i){var o=this;return ke.batch(function(){return o.getQueryCache().findAll(r).map(function(l){var a=l.queryKey;return[a,o.setQueryData(a,s,i)]})})},e.getQueryState=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state},e.removeQueries=function(r,s){var i=Tn(r,s),o=i[0],l=this.queryCache;ke.batch(function(){l.findAll(o).forEach(function(a){l.remove(a)})})},e.resetQueries=function(r,s,i){var o=this,l=Tn(r,s,i),a=l[0],u=l[1],c=this.queryCache,d=te({},a,{active:!0});return ke.batch(function(){return c.findAll(a).forEach(function(f){f.reset()}),o.refetchQueries(d,u)})},e.cancelQueries=function(r,s,i){var o=this,l=Tn(r,s,i),a=l[0],u=l[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var d=ke.batch(function(){return o.queryCache.findAll(a).map(function(f){return f.cancel(c)})});return Promise.all(d).then(qe).catch(qe)},e.invalidateQueries=function(r,s,i){var o,l,a,u=this,c=Tn(r,s,i),d=c[0],f=c[1],h=te({},d,{active:(o=(l=d.refetchActive)!=null?l:d.active)!=null?o:!0,inactive:(a=d.refetchInactive)!=null?a:!1});return ke.batch(function(){return u.queryCache.findAll(d).forEach(function(p){p.invalidate()}),u.refetchQueries(h,f)})},e.refetchQueries=function(r,s,i){var o=this,l=Tn(r,s,i),a=l[0],u=l[1],c=ke.batch(function(){return o.queryCache.findAll(a).map(function(f){return f.fetch(void 0,te({},u,{meta:{refetchPage:a==null?void 0:a.refetchPage}}))})}),d=Promise.all(c).then(qe);return u!=null&&u.throwOnError||(d=d.catch(qe)),d},e.fetchQuery=function(r,s,i){var o=Bo(r,s,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var a=this.queryCache.build(this,l);return a.isStaleByTime(l.staleTime)?a.fetch(l):Promise.resolve(a.state.data)},e.prefetchQuery=function(r,s,i){return this.fetchQuery(r,s,i).then(qe).catch(qe)},e.fetchInfiniteQuery=function(r,s,i){var o=Bo(r,s,i);return o.behavior=$S(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,s,i){return this.fetchInfiniteQuery(r,s,i).then(qe).catch(qe)},e.cancelMutations=function(){var r=this,s=ke.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(qe).catch(qe)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,s){var i=this.queryDefaults.find(function(o){return vr(r)===vr(o.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:r,defaultOptions:s})},e.getQueryDefaults=function(r){var s;return r?(s=this.queryDefaults.find(function(i){return bl(r,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},e.setMutationDefaults=function(r,s){var i=this.mutationDefaults.find(function(o){return vr(r)===vr(o.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:r,defaultOptions:s})},e.getMutationDefaults=function(r){var s;return r?(s=this.mutationDefaults.find(function(i){return bl(r,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var s=te({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=Kd(s.queryKey,s)),s},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:te({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),WS=function(t){to(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Yh(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Cc(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Cc(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(s,i){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var a=this.hasListeners();a&&Xh(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(i),a&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();a&&(this.currentQuery!==l||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(s,i){var o=this,l={},a=function(c){o.trackedProps.includes(c)||o.trackedProps.push(c)};return Object.keys(s).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return a(u),s[u]}})}),(i.useErrorBoundary||i.suspense)&&a("error"),l},n.getNextResult=function(s){var i=this;return new Promise(function(o,l){var a=i.subscribe(function(u){u.isFetching||(a(),u.isError&&(s!=null&&s.throwOnError)?l(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(s){return this.fetch(te({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},n.fetchOptimistic=function(s){var i=this,o=this.client.defaultQueryObserverOptions(s),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return i.createResult(l,o)})},n.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},n.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(qe)),i},n.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(wl||this.currentResult.isStale||!Sc(this.options.staleTime))){var i=Vy(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},o)}},n.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},n.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(wl||this.options.enabled===!1||!Sc(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||vi.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(s,i){var o=this.currentQuery,l=this.options,a=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,d=s!==o,f=d?s.state:this.currentQueryInitialState,h=d?this.currentResult:this.previousQueryResult,p=s.state,y=p.dataUpdatedAt,x=p.error,g=p.errorUpdatedAt,m=p.isFetching,v=p.status,S=!1,C=!1,E;if(i.optimisticResults){var D=this.hasListeners(),O=!D&&Yh(s,i),q=D&&Xh(s,o,i,l);(O||q)&&(m=!0,y||(v="loading"))}if(i.keepPreviousData&&!p.dataUpdateCount&&(h!=null&&h.isSuccess)&&v!=="error")E=h.data,y=h.dataUpdatedAt,v=h.status,S=!0;else if(i.select&&typeof p.data<"u")if(a&&p.data===(u==null?void 0:u.data)&&i.select===this.selectFn)E=this.selectResult;else try{this.selectFn=i.select,E=i.select(p.data),i.structuralSharing!==!1&&(E=Ml(a==null?void 0:a.data,E)),this.selectResult=E,this.selectError=null}catch(K){Ol().error(K),this.selectError=K}else E=p.data;if(typeof i.placeholderData<"u"&&typeof E>"u"&&(v==="loading"||v==="idle")){var _;if(a!=null&&a.isPlaceholderData&&i.placeholderData===(c==null?void 0:c.placeholderData))_=a.data;else if(_=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof _<"u")try{_=i.select(_),i.structuralSharing!==!1&&(_=Ml(a==null?void 0:a.data,_)),this.selectError=null}catch(K){Ol().error(K),this.selectError=K}typeof _<"u"&&(v="success",E=_,C=!0)}this.selectError&&(x=this.selectError,E=this.selectResult,g=Date.now(),v="error");var re={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:E,dataUpdatedAt:y,error:x,errorUpdatedAt:g,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:m,isRefetching:m&&v!=="loading",isLoadingError:v==="error"&&p.dataUpdatedAt===0,isPlaceholderData:C,isPreviousData:S,isRefetchError:v==="error"&&p.dataUpdatedAt!==0,isStale:Qd(s,i),refetch:this.refetch,remove:this.remove};return re},n.shouldNotifyListeners=function(s,i){if(!i)return!0;var o=this.options,l=o.notifyOnChangeProps,a=o.notifyOnChangePropsExclusions;if(!l&&!a||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(s).some(function(c){var d=c,f=s[d]!==i[d],h=u==null?void 0:u.some(function(y){return y===c}),p=a==null?void 0:a.some(function(y){return y===c});return f&&!p&&(!u||h)})},n.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!NS(this.currentResult,i)){var o={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(te({},o,s))}},n.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},n.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!$o(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},n.notify=function(s){var i=this;ke.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(no);function qS(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Yh(t,e){return qS(t,e)||t.state.dataUpdatedAt>0&&Cc(t,e,e.refetchOnMount)}function Cc(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Qd(t,e)}return!1}function Xh(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Qd(t,n)}function Qd(t,e){return t.isStaleByTime(e.staleTime)}var KS=wy.unstable_batchedUpdates;ke.setBatchNotifyFunction(KS);var QS=console;IS(QS);var Zh=X.createContext(void 0),Ky=X.createContext(!1);function Qy(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Zh),window.ReactQueryClientContext):Zh}var JS=function(){var e=X.useContext(Qy(X.useContext(Ky)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},GS=function(e){var n=e.client,r=e.contextSharing,s=r===void 0?!1:r,i=e.children;X.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=Qy(s);return X.createElement(Ky.Provider,{value:s},X.createElement(o.Provider,{value:n},i))};function YS(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var XS=X.createContext(YS()),ZS=function(){return X.useContext(XS)};function ew(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function tw(t,e){var n=X.useRef(!1),r=X.useState(0),s=r[1],i=JS(),o=ZS(),l=i.defaultQueryObserverOptions(t);l.optimisticResults=!0,l.onError&&(l.onError=ke.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=ke.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=ke.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var a=X.useState(function(){return new e(i,l)}),u=a[0],c=u.getOptimisticResult(l);if(X.useEffect(function(){n.current=!0,o.clearReset();var d=u.subscribe(ke.batchCalls(function(){n.current&&s(function(f){return f+1})}));return u.updateResult(),function(){n.current=!1,d()}},[o,u]),X.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&c.isLoading)throw u.fetchOptimistic(l).then(function(d){var f=d.data;l.onSuccess==null||l.onSuccess(f),l.onSettled==null||l.onSettled(f,null)}).catch(function(d){o.clearReset(),l.onError==null||l.onError(d),l.onSettled==null||l.onSettled(void 0,d)});if(c.isError&&!o.isReset()&&!c.isFetching&&ew(l.suspense,l.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return l.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,l)),c}function nw(t,e,n){var r=Bo(t,e,n);return tw(r,WS)}function rw(){const t=[{ilsang_no:31,title:"lack",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Summers",tag:""},{ilsang_no:98,title:"bend",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Jensen",tag:""},{ilsang_no:58,title:"current",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Pierce",tag:""},{ilsang_no:49,title:"trunk",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Cunningham",tag:""},{ilsang_no:26,title:"same",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Springs",tag:""}],e=zr(),n=new URLSearchParams(e.search).get("keyword");function r(d){return fetch(`https://jsonplaceholder.typicode.com/posts/${d}`).then(f=>f.json())}const{data:s,isLoading:i}=nw([n],()=>n?r(n):void 0),o=ia(),{register:l,handleSubmit:a,setFocus:u}=MS(),c=d=>{d.keyword!==""&&o(`/main?keyword=${d.keyword}`)};return w.jsxs("div",{className:"w-screen h-screen relative bg-[#F7F7F7]",children:[w.jsx("div",{className:"pt-9 pl-6",children:""}),w.jsxs("div",{className:"w-full pt-9 px-6 flex flex-col bg-[#F7F7F7]",children:[w.jsx("div",{className:"font-bold text-2xl",children:""}),w.jsxs("form",{className:"mt-3 flex items-center relative",onSubmit:a(c),children:[w.jsx("input",{...l("keyword"),type:"text",className:"w-full pl-5 py-1 border rounded-[20px] border-[#D9D9D9]",placeholder:""}),w.jsx("svg",{className:"absolute right-5",onClick:()=>{u("keyword")},width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M20 18.4444L13 11.4444C13.4444 10.8889 13.7963 10.25 14.0556 9.52778C14.3148 8.80556 14.4444 8.03704 14.4444 7.22222C14.4444 5.2037 13.7452 3.49556 12.3467 2.09778C10.9481 0.700001 9.24 0.000741145 7.22222 3.15693e-07C5.2037 2.27461e-07 3.49556 0.699259 2.09778 2.09778C0.7 3.4963 0.000740513 5.20444 -3.15693e-07 7.22222C-4.03926e-07 9.24074 0.699259 10.9489 2.09778 12.3467C3.4963 13.7444 5.20444 14.4437 7.22222 14.4444C8.03704 14.4444 8.80556 14.3148 9.52778 14.0556C10.25 13.7963 10.8889 13.4444 11.4444 13L18.4444 20L20 18.4444ZM12.2222 7.22222C12.2222 8.61111 11.7359 9.79185 10.7633 10.7644C9.79074 11.737 8.61037 12.223 7.22222 12.2222C5.83333 12.2222 4.65259 11.7359 3.68 10.7633C2.70741 9.79074 2.22148 8.61037 2.22222 7.22222C2.22222 5.83333 2.70852 4.65259 3.68111 3.68C4.6537 2.70741 5.83407 2.22148 7.22222 2.22222C8.61111 2.22222 9.79185 2.70852 10.7644 3.68111C11.737 4.6537 12.223 5.83407 12.2222 7.22222Z",fill:"#D0D0D0"})})]}),w.jsx(iS,{}),n&&s?i?"Loading...":w.jsx("div",{children:s==null?void 0:s.body}):t.map(d=>w.jsxs(gs,{to:`/post/${d.ilsang_no}`,className:"relative mt-4 px-5 py-5 h-44 border rounded-[20px] bg-white",children:[w.jsx("div",{className:"font-bold text-base",children:d.title}),w.jsx("div",{className:"mt-4 text-xs line-clamp-5",children:d.content}),w.jsxs(gs,{to:`/mypage/${d.penname}`,className:"absolute mt-1 right-5 text-xs",children:[d.penname," "]})]},d.penname))]}),w.jsx($d,{})]})}function Jy({name:t}){return w.jsxs("header",{className:"fixed top-0 left-0 z-20 w-full h-[48px] text-center items-center bg-zinc-100",children:[w.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 font-bold text-lg select-none",children:t}),w.jsx(gs,{to:"/main",className:"absolute top-1/2 left-[18px]  -translate-y-1/2",children:w.jsx(sw,{})})]})}function sw(){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",children:w.jsx("path",{d:"M12 17.1336L4.583 9.7166L12 2.2834L9.7166 0L0 9.7166L9.7166 19.4332L12 17.1336Z",fill:"black"})})}function Be(t){this.content=t}Be.prototype={constructor:Be,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Be(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Be(n)},addToStart:function(t,e){return new Be([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Be(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Be(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Be.from(t),t.size?new Be(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Be.from(t),t.size?new Be(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Be.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Be.from=function(t){if(t instanceof Be)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Be(e)};function Gy(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=Gy(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function Yy(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),l=e.child(--i),a=o.nodeSize;if(o==l){n-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,c=Math.min(o.text.length,l.text.length);for(;u<c&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=Yy(o.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class T{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,l=0;l<n;o++){let a=this.content[o],u=l+a.nodeSize;if(u>e&&r(a,s+l,i||null,o)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,s+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(l,a)=>{l.isText?(i+=l.text.slice(Math.max(e,a)-a,n-a),o=!r):l.isLeaf?(s?i+=typeof s=="function"?s(l):s:l.type.spec.leafText&&(i+=l.type.spec.leafText(l)),o=!r):!o&&l.isBlock&&(i+=r,o=!0)},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new T(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let l=this.content[i],a=o+l.nodeSize;a>e&&((o<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),s+=l.nodeSize),o=a}return new T(r,s)}cutByIndex(e,n){return e==n?T.empty:e==0&&n==this.content.length?this:new T(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new T(s,i)}addToStart(e){return new T([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new T(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return Gy(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Yy(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Co(0,e);if(e==this.size)return Co(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=e)return o==e||n>0?Co(r+1,o):Co(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return T.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new T(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return T.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new T(n||e,r)}static from(e){if(!e)return T.empty;if(e instanceof T)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new T([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}T.empty=new T([],0);const Za={index:0,offset:0};function Co(t,e){return Za.index=t,Za.offset=e,Za}function Tl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Tl(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Tl(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let ie=class bc{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Tl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return bc.none;if(e instanceof bc)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};ie.none=[];class Nl extends Error{}class I{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Zy(this.content,e+this.openStart,n);return r&&new I(r,this.openStart,this.openEnd)}removeBetween(e,n){return new I(Xy(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return I.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new I(T.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new I(e,r,s)}}I.empty=new I(T.empty,0,0);function Xy(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(Xy(i.content,e-s-1,n-s-1)))}function Zy(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=Zy(o.content,e-i-1,n);return l&&t.replaceChild(s,o.copy(l))}function iw(t,e,n){if(n.openStart>t.depth)throw new Nl("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Nl("Inconsistent open depths");return e0(t,e,n,0)}function e0(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=e0(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return Mr(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=ow(n,t);return Mr(i,n0(t,o,l,e,r))}else return Mr(i,Pl(t,e,r))}function t0(t,e){if(!e.type.compatibleContent(t.type))throw new Nl("Cannot join "+e.type.name+" onto "+t.type.name)}function Mc(t,e,n){let r=t.node(n);return t0(r,e.node(n)),r}function br(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ki(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(br(t.nodeAfter,r),i++));for(let l=i;l<o;l++)br(s.child(l),r);e&&e.depth==n&&e.textOffset&&br(e.nodeBefore,r)}function Mr(t,e){return t.type.checkContent(e),t.copy(e)}function n0(t,e,n,r,s){let i=t.depth>s&&Mc(t,e,s+1),o=r.depth>s&&Mc(n,r,s+1),l=[];return ki(null,t,s,l),i&&o&&e.index(s)==n.index(s)?(t0(i,o),br(Mr(i,n0(t,e,n,r,s+1)),l)):(i&&br(Mr(i,Pl(t,e,s+1)),l),ki(e,n,s,l),o&&br(Mr(o,Pl(n,r,s+1)),l)),ki(r,null,s,l),new T(l)}function Pl(t,e,n){let r=[];if(ki(null,t,n,r),t.depth>n){let s=Mc(t,e,n+1);br(Mr(s,Pl(t,e,n+1)),r)}return ki(e,null,n,r),new T(r)}function ow(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(T.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class $i{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ie.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Al(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(i),u=i-a;if(r.push(o,l,s+a),!u||(o=o.child(l),o.isText))break;i=u-1,s+=a+1}return new $i(n,r,i)}static resolveCached(e,n){for(let s=0;s<eu.length;s++){let i=eu[s];if(i.pos==n&&i.doc==e)return i}let r=eu[tu]=$i.resolve(e,n);return tu=(tu+1)%lw,r}}let eu=[],tu=0,lw=12;class Al{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const aw=Object.create(null);let Er=class Ec{constructor(e,n,r,s=ie.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||T.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Tl(this.attrs,n||e.defaultAttrs||aw)&&ie.sameSet(this.marks,r||ie.none)}copy(e=null){return e==this.content?this:new Ec(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ec(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return I.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),l=s.start(o),u=s.node(o).content.cut(s.pos-l,i.pos-l);return new I(u,s.depth-o,i.depth-o)}replace(e,n,r){return iw(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return $i.resolveCached(this,e)}resolveNoCache(e){return $i.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),r0(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=T.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=s;a<i;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=ie.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!ie.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=T.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,s,r)}};Er.prototype.text=void 0;class Dl extends Er{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):r0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Dl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Dl(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function r0(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class jr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new uw(e,n);if(r.next==null)return jr.empty;let s=s0(r);r.next&&r.err("Unexpected trailing text");let i=gw(mw(s));return yw(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,l){let a=o.matchFragment(e,r);if(a&&(!n||a.validEnd))return T.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=i(d,l.concat(c));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:a}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}jr.empty=new jr(!0);class uw{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function s0(t){let e=[];do e.push(cw(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function cw(t){let e=[];do e.push(dw(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dw(t){let e=pw(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=fw(t,e);else break;return e}function ep(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function fw(t,e){let n=ep(t),r=n;return t.eat(",")&&(t.next!="}"?r=ep(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function hw(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.groups.indexOf(e)>-1&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function pw(t){if(t.eat("(")){let e=s0(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=hw(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mw(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,a){let u={term:a,to:l};return e[o].push(u),u}function s(o,l){o.forEach(a=>a.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((a,u)=>a.concat(i(u,l)),[]);if(o.type=="seq")for(let a=0;;a++){let u=i(o.exprs[a],l);if(a==o.exprs.length-1)return u;s(u,l=n())}else if(o.type=="star"){let a=n();return r(l,a),s(i(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=n();return s(i(o.expr,l),a),s(i(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(i(o.expr,l));if(o.type=="range"){let a=l;for(let u=0;u<o.min;u++){let c=n();s(i(o.expr,a),c),a=c}if(o.max==-1)s(i(o.expr,a),a);else for(let u=o.min;u<o.max;u++){let c=n();r(a,c),s(i(o.expr,a),c),a=c}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function i0(t,e){return e-t}function tp(t,e){let n=[];return r(e),n.sort(i0);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:l,to:a}=i[o];!l&&n.indexOf(a)==-1&&r(a)}}}function gw(t){let e=Object.create(null);return n(tp(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<s.length;c++)s[c][0]==l&&(u=s[c][1]);tp(t,a).forEach(c=>{u||s.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let i=e[r.join(",")]=new jr(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(i0);i.next.push({type:s[o][0],next:e[l.join(",")]||n(l)})}return i}}function yw(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:a,next:u}=s.next[l];o.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function o0(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function l0(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function a0(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new vw(t[n]);return e}let np=class u0{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=a0(r.attrs),this.defaultAttrs=o0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==jr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:l0(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Er(this,this.computeAttrs(e),T.from(n),ie.setFrom(r))}createChecked(e=null,n,r){return n=T.from(n),this.checkContent(n),new Er(this,this.computeAttrs(e),n,ie.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=T.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(T.empty,!0);return i?new Er(this,e,n.append(i),ie.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ie.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new u0(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class vw{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class la{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=a0(s.attrs),this.excluded=null;let i=o0(this.attrs);this.instance=i?new ie(this,i):null}create(e=null){return!e&&this.instance?this.instance:new ie(this,l0(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new la(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class kw{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Be.from(e.nodes),n.marks=Be.from(e.marks||{}),this.nodes=np.compile(this.spec.nodes,this),this.marks=la.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;i.contentMatch=r[o]||(r[o]=jr.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=l=="_"?null:l?rp(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:rp(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof np){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Dl(r,r.defaultAttrs,e,ie.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Er.fromJSON(this,e)}markFromJSON(e){return ie.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function rp(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let l in t.marks){let a=t.marks[l];(s=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Ns{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new ip(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new ip(this,n,!0);return r.addAll(e,n.from,n.to),I.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(ww(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let a=o.getAttrs(n);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=op(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=op(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ns(e,Ns.schemaRules(e)))}}const c0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},xw={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},d0={ol:!0,ul:!0},Rl=1,jl=2,xi=4;function sp(t,e,n){return e!=null?(e?Rl:0)|(e==="full"?jl:0):t&&t.whitespace=="pre"?Rl|jl:n&~xi}class bo{constructor(e,n,r,s,i,o,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=l,this.content=[],this.activeMarks=ie.none,this.stashMarks=[],this.match=o||(l&xi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(T.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Rl)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=T.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(T.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):bw(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!c0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ip{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,o=sp(null,n.preserveWhitespace,0)|(r?xi:0);s?i=new bo(s.type,s.attrs,ie.none,ie.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new bo(null,null,ie.none,ie.none,!0,null,o):i=new bo(e.schema.topNodeType,null,ie.none,ie.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let s=this.readStyles(Cw(r));if(!s)return;let[i,o]=s,l=this.top;for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<i.length;a++)this.addPendingMark(i[a]);n();for(let a=0;a<i.length;a++)this.removePendingMark(i[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&jl||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Rl)r.options&jl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=e.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),s;d0.hasOwnProperty(r)&&this.parser.normalizeLists&&Sw(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(i?i.ignore:xw.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let o,l=this.top,a=this.needsBlock;if(c0.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),o&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?s:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=ie.none,r=ie.none;for(let s=0;s<e.length;s+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[s],e[s+1],this,i);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{o.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return[n,r]}addElementByRule(e,n,r){let s,i,o;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(e):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let l=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}s&&this.sync(l)&&this.open--,o&&this.removePendingMark(o,l)}addAll(e,n,r){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,o=r==null?null:e.childNodes[r];i!=o;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i);this.findAtPoint(e,s)}findPlace(e){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],o=i.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,r=i,!o.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(r=e.marks[s].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,r),s}enterInner(e,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=sp(e,s,i.options);i.options&xi&&i.content.length==0&&(o|=xi),this.nodes.push(new bo(e,n,i.activeMarks,i.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=i;a--)if(o(l-1,a))return!0;return!1}else{let c=a>0||a==0&&s?this.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=Mw(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let o=s.popFromStashMark(e);o&&s.type&&s.type.allowsMarkType(o.type)&&(s.activeMarks=o.addToSet(s.activeMarks))}if(s==n)break}}}function Sw(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&d0.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function ww(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Cw(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function op(t){let e={};for(let n in t)e[n]=t[n];return e}function bw(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||i.indexOf(c)<0&&o(c))return!0}};if(o(s.contentMatch))return!0}}function Mw(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class tn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=nu(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,a=0;for(;l<i.length&&a<o.marks.length;){let u=o.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)s=i.pop()[1];for(;a<o.marks.length;){let u=o.marks[a++],c=this.serializeMark(u,o.isInline,n);c&&(i.push([u,s]),s.appendChild(c.dom),s=c.contentDOM||c.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=tn.renderSpec(nu(n),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&tn.renderSpec(nu(r),s(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let s=n[0],i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let o,l=r?e.createElementNS(r,s):e.createElement(s),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let d=c.indexOf(" ");d>0?l.setAttributeNS(c.slice(0,d),c.slice(d+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let d=n[c];if(d===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:h}=tn.renderSpec(e,d,r);if(l.appendChild(f),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:l,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new tn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=lp(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return lp(e.marks)}}function lp(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function nu(t){return t.document||window.document}const f0=65535,h0=Math.pow(2,16);function Ew(t,e){return t+e*h0}function ap(t){return t&f0}function Ow(t){return(t-(t&f0))/h0}const p0=1,m0=2,Uo=4,g0=8;class Oc{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&g0)>0}get deletedBefore(){return(this.delInfo&(p0|Uo))>0}get deletedAfter(){return(this.delInfo&(m0|Uo))>0}get deletedAcross(){return(this.delInfo&Uo)>0}}class Et{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Et.empty)return Et.empty}recover(e){let n=0,r=ap(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Ow(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?s:0);if(a>e)break;let u=this.ranges[l+i],c=this.ranges[l+o],d=a+u;if(e<=d){let f=u?e==a?-1:e==d?1:n:n,h=a+s+(f<0?0:c);if(r)return h;let p=e==(n<0?a:d)?null:Ew(l/3,e-a),y=e==a?m0:e==d?p0:Uo;return(n<0?e!=a:e!=d)&&(y|=g0),new Oc(h,y,p)}s+=c-u}return r?e+s:new Oc(e+s,0,null)}touches(e,n){let r=0,s=ap(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+i],c=a+u;if(e<=c&&l==s*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),a=o+(this.inverted?0:i),u=this.ranges[s+n],c=this.ranges[s+r];e(l,l+u,a,a+c),i+=c-u}}invert(){return new Et(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Et.empty:new Et(e<0?[0,-e,0]:[0,0,e])}}Et.empty=new Et([]);class vs{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new vs(this.maps,this.mirror,e,n)}copy(){return new vs(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new vs;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],l=o.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this.maps[a].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new Oc(e,s,null)}}const ru=Object.create(null);class pt{getMap(){return Et.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ru[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ru)throw new RangeError("Duplicate use of step JSON ID "+e);return ru[e]=n,n.prototype.jsonID=e,n}}class Ae{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ae(e,null)}static fail(e){return new Ae(null,e)}static fromReplace(e,n,r,s){try{return Ae.ok(e.replace(n,r,s))}catch(i){if(i instanceof Nl)return Ae.fail(i.message);throw i}}}function Jd(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Jd(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return T.fromArray(r)}class Ln extends pt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new I(Jd(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return Ae.fromReplace(e,this.from,this.to,i)}invert(){return new nn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ln(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ln&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ln(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ln(n.from,n.to,e.markFromJSON(n.mark))}}pt.jsonID("addMark",Ln);class nn extends pt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new I(Jd(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Ae.fromReplace(e,this.from,this.to,r)}invert(){return new Ln(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new nn(n.pos,r.pos,this.mark)}merge(e){return e instanceof nn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new nn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new nn(n.from,n.to,e.markFromJSON(n.mark))}}pt.jsonID("removeMark",nn);class _n extends pt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ae.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ae.fromReplace(e,this.pos,this.pos+1,new I(T.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new _n(this.pos,n.marks[s]);return new _n(this.pos,this.mark)}}return new Ps(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _n(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _n(n.pos,e.markFromJSON(n.mark))}}pt.jsonID("addNodeMark",_n);class Ps extends pt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ae.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ae.fromReplace(e,this.pos,this.pos+1,new I(T.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new _n(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ps(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ps(n.pos,e.markFromJSON(n.mark))}}pt.jsonID("removeNodeMark",Ps);class Je extends pt{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Tc(e,this.from,this.to)?Ae.fail("Structure replace would overwrite content"):Ae.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Et([this.from,this.to-this.from,this.slice.size])}invert(e){return new Je(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Je(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Je)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Je(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Je(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Je(n.from,n.to,I.fromJSON(e,n.slice),!!n.structure)}}pt.jsonID("replace",Je);class Ie extends pt{constructor(e,n,r,s,i,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(Tc(e,this.from,this.gapFrom)||Tc(e,this.gapTo,this.to)))return Ae.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ae.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ae.fromReplace(e,this.from,this.to,r):Ae.fail("Content does not fit in gap")}getMap(){return new Et([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ie(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Ie(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ie(n.from,n.to,n.gapFrom,n.gapTo,I.fromJSON(e,n.slice),n.insert,!!n.structure)}}pt.jsonID("replaceAround",Ie);function Tc(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function Tw(t,e,n,r){let s=[],i=[],o,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),h=Math.min(u+a.nodeSize,n),p=r.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[y])?o.to=h:s.push(o=new nn(f,h,d[y])));l&&l.to==f?l.to=h:i.push(l=new Ln(f,h,r))}}),s.forEach(a=>t.step(a)),i.forEach(a=>t.step(a))}function Nw(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;i++;let a=null;if(r instanceof la){let u=o.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let u=Math.min(l+o.nodeSize,n);for(let c=0;c<a.length;c++){let d=a[c],f;for(let h=0;h<s.length;h++){let p=s[h];p.step==i-1&&d.eq(s[h].style)&&(f=p)}f?(f.to=u,f.step=i):s.push({style:d,from:Math.max(l,e),to:u,step:i})}}}),s.forEach(o=>t.step(new nn(o.from,o.to,o.style)))}function Pw(t,e,n,r=n.contentMatch){let s=t.doc.nodeAt(e),i=[],o=e+1;for(let l=0;l<s.childCount;l++){let a=s.child(l),u=o+a.nodeSize,c=r.matchType(a.type);if(!c)i.push(new Je(o,u,I.empty));else{r=c;for(let d=0;d<a.marks.length;d++)n.allowsMarkType(a.marks[d].type)||t.step(new nn(o,u,a.marks[d]))}o=u}if(!r.validEnd){let l=r.fillBefore(T.empty,!0);t.replace(o,o,new I(l,0,0))}for(let l=i.length-1;l>=0;l--)t.step(i[l])}function Aw(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Us(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!Aw(s,i,o))break}return null}function Dw(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),l=s.after(i+1),a=o,u=l,c=T.empty,d=0;for(let p=i,y=!1;p>n;p--)y||r.index(p)>0?(y=!0,c=T.from(r.node(p).copy(c)),d++):a--;let f=T.empty,h=0;for(let p=i,y=!1;p>n;p--)y||s.after(p+1)<s.end(p)?(y=!0,f=T.from(s.node(p).copy(f)),h++):u++;t.step(new Ie(a,u,o,l,new I(c.append(f),d,h),c.size-d,!0))}function Gd(t,e,n=null,r=t){let s=Rw(t,e),i=s&&jw(r,e);return i?s.map(up).concat({type:e,attrs:n}).concat(i.map(up)):null}function up(t){return{type:t,attrs:null}}function Rw(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function jw(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;a&&u<s;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:o}function Iw(t,e,n){let r=T.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=T.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new Ie(s,i,s,i,new I(r,0,0),n.length,!0))}function Fw(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{if(o.isTextblock&&!o.hasMarkup(r,s)&&Lw(t.doc,t.mapping.slice(i).map(l),r)){t.clearIncompatible(t.mapping.slice(i).map(l,1),r);let a=t.mapping.slice(i),u=a.map(l,1),c=a.map(l+o.nodeSize,1);return t.step(new Ie(u,c,u+1,c-1,new I(T.from(r.create(s,null,o.marks)),0,0),1,!0)),!1}})}function Lw(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function _w(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ie(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new I(T.from(o),0,0),1,!0))}function ks(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,c=n-2;u>i;u--,c--){let d=s.node(u),f=s.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let y=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!y.type.validContent(h))return!1}let l=s.indexAfter(i),a=r&&r[0];return s.node(i).canReplaceWith(l,l,a?a.type:s.node(i+1).type)}function zw(t,e,n=1,r){let s=t.doc.resolve(e),i=T.empty,o=T.empty;for(let l=s.depth,a=s.depth-n,u=n-1;l>a;l--,u--){i=T.from(s.node(l).copy(i));let c=r&&r[u];o=T.from(c?c.type.create(c.attrs,o):s.node(l).copy(o))}t.step(new Je(e,e,new I(i.append(o),n,n),!0))}function or(t,e){let n=t.resolve(e),r=n.index();return y0(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function y0(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function v0(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),l++,o=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),o=r.node(s+1)),i&&!i.isTextblock&&y0(i,o)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Bw(t,e,n){let r=new Je(e-n,e+n,I.empty,!0);t.step(r)}function Vw(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function k0(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),u=r.node(o),c=!1;if(i==1)c=u.canReplace(a,a,s);else{let d=u.contentMatchAt(a).findWrapping(s.firstChild.type);c=d&&u.canReplaceWith(a,a,d[0])}if(c)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function Yd(t,e,n=e,r=I.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return x0(s,i,r)?new Je(e,n,r):new $w(s,i,r).fit()}function x0(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class $w{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=T.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=T.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let a=new I(i,o,l);return e>-1?new Ie(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Je(r.pos,s.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=su(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(T.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:c};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=su(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new I(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=su(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new I(oi(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new I(oi(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(s){for(let y=0;y<s.childCount;y++)c.push(s.child(y));d=d.matchFragment(s)}let h=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let y=l.child(u),x=d.matchType(y.type);if(!x)break;u++,(u>1||a==0||y.content.size)&&(d=x,c.push(S0(y.mark(f.allowedMarks(y.marks)),u==1?a:0,u==l.childCount?h:-1)))}let p=u==l.childCount;p||(h=-1),this.placed=li(this.placed,n,T.from(c)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=l;y<h;y++){let g=x.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),x=g.content}this.unplaced=p?e==0?I.empty:new I(oi(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new I(oi(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!iu(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=iu(e,n,s,r,i);if(o){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=iu(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=li(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=li(this.placed,this.depth,T.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(T.empty,!0);n.childCount&&(this.placed=li(this.placed,this.frontier.length,n))}}function oi(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(oi(t.firstChild.content,e-1,n)))}function li(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(li(t.lastChild.content,e-1,n)))}function su(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function S0(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,S0(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(T.empty,!0)))),t.copy(r)}function iu(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,o);return l&&!Uw(n,i.content,o)?l:null}function Uw(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Hw(t){return t.spec.defining||t.spec.definingForContent}function Ww(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(x0(s,i,r))return t.step(new Je(e,n,r));let o=C0(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let f=s.depth,h=s.pos-1;f>0;f--,h--){let p=s.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?l=f:s.before(f)==h&&o.splice(1,0,-f)}let a=o.indexOf(l),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f].type,p=Hw(h);if(p&&s.node(a).type!=h)c=f;else if(p||!h.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),p=u[h];if(p)for(let y=0;y<o.length;y++){let x=o[(y+a)%o.length],g=!0;x<0&&(g=!1,x=-x);let m=s.node(x-1),v=s.index(x-1);if(m.canReplaceWith(v,v,p.type,p.marks))return t.replace(s.before(x),g?i.after(x):n,new I(w0(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=o[f];h<0||(e=s.before(h),n=i.after(h))}}function w0(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(w0(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(T.empty,!0))}return t}function qw(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=Vw(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new I(T.from(r),0,0))}function Kw(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=C0(r,s);for(let o=0;o<i.length;o++){let l=i[o],a=o==i.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function C0(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class xs extends pt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ae.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Ae.fromReplace(e,this.pos,this.pos+1,new I(T.from(s),0,n.isLeaf?0:1))}getMap(){return Et.empty}invert(e){return new xs(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xs(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xs(n.pos,n.attr,n.value)}}pt.jsonID("attr",xs);let As=class extends Error{};As=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};As.prototype=Object.create(Error.prototype);As.prototype.constructor=As;As.prototype.name="TransformError";class Qw{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vs}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new As(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=I.empty){let s=Yd(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new I(T.from(r),0,0))}delete(e,n){return this.replace(e,n,I.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Ww(this,e,n,r),this}replaceRangeWith(e,n,r){return qw(this,e,n,r),this}deleteRange(e,n){return Kw(this,e,n),this}lift(e,n){return Dw(this,e,n),this}join(e,n=1){return Bw(this,e,n),this}wrap(e,n){return Iw(this,e,n),this}setBlockType(e,n=e,r,s=null){return Fw(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return _w(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new xs(e,n,r)),this}addNodeMark(e,n){return this.step(new _n(e,n)),this}removeNodeMark(e,n){if(!(n instanceof ie)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Ps(e,n)),this}split(e,n=1,r){return zw(this,e,n,r),this}addMark(e,n,r){return Tw(this,e,n,r),this}removeMark(e,n,r){return Nw(this,e,n,r),this}clearIncompatible(e,n,r){return Pw(this,e,n,r),this}}const ou=Object.create(null);class J{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Jw(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=I.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],c=e.mapping.slice(i);e.replaceRange(c.map(a.pos),c.map(u.pos),l?I.empty:n),l==0&&fp(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],a=e.mapping.slice(r),u=a.map(o.pos),c=a.map(l.pos);i?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),fp(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new G(e):qr(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?qr(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):qr(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ht(e.node(0))}static atStart(e){return qr(e,e,0,0,1)||new Ht(e)}static atEnd(e){return qr(e,e,e.content.size,e.childCount,-1)||new Ht(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ou[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ou)throw new RangeError("Duplicate use of selection JSON ID "+e);return ou[e]=n,n.prototype.jsonID=e,n}getBookmark(){return G.between(this.$anchor,this.$head).getBookmark()}}J.prototype.visible=!0;class Jw{constructor(e,n){this.$from=e,this.$to=n}}let cp=!1;function dp(t){!cp&&!t.parent.inlineContent&&(cp=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class G extends J{constructor(e,n=e){dp(e),dp(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return J.near(r);let s=e.resolve(n.map(this.anchor));return new G(s.parent.inlineContent?s:r,r)}replace(e,n=I.empty){if(super.replace(e,n),n==I.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof G&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new aa(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new G(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=J.findFrom(n,r,!0)||J.findFrom(n,-r,!0);if(i)n=i.$head;else return J.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(J.findFrom(e,-r,!0)||J.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new G(e,n)}}J.jsonID("text",G);class aa{constructor(e,n){this.anchor=e,this.head=n}map(e){return new aa(e.map(this.anchor),e.map(this.head))}resolve(e){return G.between(e.resolve(this.anchor),e.resolve(this.head))}}class H extends J{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?J.near(i):new H(i)}content(){return new I(T.from(this.node),0,0)}eq(e){return e instanceof H&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Xd(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new H(e.resolve(n.anchor))}static create(e,n){return new H(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}H.prototype.visible=!1;J.jsonID("node",H);class Xd{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new aa(r,r):new Xd(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&H.isSelectable(r)?new H(n):J.near(n)}}class Ht extends J{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=I.empty){if(n==I.empty){e.delete(0,e.doc.content.size);let r=J.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ht(e)}map(e){return new Ht(e)}eq(e){return e instanceof Ht}getBookmark(){return Gw}}J.jsonID("all",Ht);const Gw={map(){return this},resolve(t){return new Ht(t)}};function qr(t,e,n,r,s,i=!1){if(e.inlineContent)return G.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&H.isSelectable(l))return H.create(t,n-(s<0?l.nodeSize:0))}else{let a=qr(t,l,n+s,s<0?l.childCount:0,s,i);if(a)return a}n+=l.nodeSize*s}return null}function fp(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Je||s instanceof Ie))return;let i=t.mapping.maps[r],o;i.forEach((l,a,u,c)=>{o==null&&(o=c)}),t.setSelection(J.near(t.doc.resolve(o),n))}const hp=1,Mo=2,pp=4;class Yw extends Qw{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|hp)&~Mo,this.storedMarks=null,this}get selectionSet(){return(this.updated&hp)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Mo,this}ensureMarks(e){return ie.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Mo)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Mo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ie.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(J.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=pp,this}get scrolledIntoView(){return(this.updated&pp)>0}}function mp(t,e){return!e||!t?t:t.bind(e)}class ai{constructor(e,n,r){this.name=e,this.init=mp(n.init,r),this.apply=mp(n.apply,r)}}const Xw=[new ai("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ai("selection",{init(t,e){return t.selection||J.atStart(e.doc)},apply(t){return t.selection}}),new ai("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ai("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class lu{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Xw.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ai(r.key,r.spec.state,r))})}}class as{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=s?s[o].n:0,u=s?s[o].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new as(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new Yw(this)}static create(e){let n=new lu(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new as(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new lu(this.schema,e.plugins),r=n.fields,s=new as(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new lu(e.schema,e.plugins),i=new as(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Er.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=J.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=u.fromJSON.call(a,e,n[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function b0(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=b0(s,e,{})),n[r]=s}return n}class Rt{constructor(e){this.spec=e,this.props={},e.props&&b0(e.props,this,this.props),this.key=e.key?e.key.key:M0("plugin")}getState(e){return e[this.key]}}const au=Object.create(null);function M0(t){return t in au?t+"$"+ ++au[t]:(au[t]=0,t+"$")}class lr{constructor(e="key"){this.key=M0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const gt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ui=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let gp=null;const cn=function(t,e,n){let r=gp||(gp=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Ir=function(t,e,n,r){return n&&(yp(t,e,n,r,-1)||yp(t,e,n,r,1))},Zw=/^(img|br|input|textarea|hr)$/i;function yp(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Zt(t))){let i=t.parentNode;if(!i||i.nodeType!=1||tC(t)||Zw.test(t.nodeName)||t.contentEditable=="false")return!1;e=gt(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?Zt(t):0}else return!1}}function Zt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function eC(t,e,n){for(let r=e==0,s=e==Zt(t);r||s;){if(t==n)return!0;let i=gt(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Zt(t)}}function tC(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ua=function(t){return t.focusNode&&Ir(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function fr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function nC(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function rC(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const on=typeof navigator<"u"?navigator:null,vp=typeof document<"u"?document:null,ar=on&&on.userAgent||"",Nc=/Edge\/(\d+)/.exec(ar),E0=/MSIE \d/.exec(ar),Pc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ar),ft=!!(E0||Pc||Nc),Jn=E0?document.documentMode:Pc?+Pc[1]:Nc?+Nc[1]:0,qt=!ft&&/gecko\/(\d+)/i.test(ar);qt&&+(/Firefox\/(\d+)/.exec(ar)||[0,0])[1];const Ac=!ft&&/Chrome\/(\d+)/.exec(ar),Ge=!!Ac,sC=Ac?+Ac[1]:0,nt=!ft&&!!on&&/Apple Computer/.test(on.vendor),Ds=nt&&(/Mobile\/\w+/.test(ar)||!!on&&on.maxTouchPoints>2),Ct=Ds||(on?/Mac/.test(on.platform):!1),iC=on?/Win/.test(on.platform):!1,zt=/Android \d/.test(ar),ca=!!vp&&"webkitFontSmoothing"in vp.documentElement.style,oC=ca?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function lC(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Cn(t,e){return typeof t=="number"?t:t[e]}function aC(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function kp(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Ui(o)){if(o.nodeType!=1)continue;let l=o,a=l==i.body,u=a?lC(i):aC(l),c=0,d=0;if(e.top<u.top+Cn(r,"top")?d=-(u.top-e.top+Cn(s,"top")):e.bottom>u.bottom-Cn(r,"bottom")&&(d=e.bottom-u.bottom+Cn(s,"bottom")),e.left<u.left+Cn(r,"left")?c=-(u.left-e.left+Cn(s,"left")):e.right>u.right-Cn(r,"right")&&(c=e.right-u.right+Cn(s,"right")),c||d)if(a)i.defaultView.scrollBy(c,d);else{let f=l.scrollLeft,h=l.scrollTop;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);let p=l.scrollLeft-f,y=l.scrollTop-h;e={left:e.left-p,top:e.top-y,right:e.right-p,bottom:e.bottom-y}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function uC(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,s=a.top;break}}return{refDOM:r,refTop:s,stack:O0(t.dom)}}function O0(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Ui(r));return e}function cC({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;T0(n,r==0?0:r-e)}function T0(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Hr=null;function dC(t){if(t.setActive)return t.setActive();if(Hr)return t.focus(Hr);let e=O0(t);t.focus(Hr==null?{get preventScroll(){return Hr={preventScroll:!0},!0}}:void 0),Hr||(Hr=!1,T0(e,0))}function N0(t,e){let n,r=2e8,s,i=0,o=e.top,l=e.top,a,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=cn(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=l){o=Math.max(p.bottom,o),l=Math.min(p.top,l);let y=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(y<r){n=c,r=y,s=y&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&y&&(i=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=d+1)}}return!n&&a&&(n=a,s=u,r=0),n&&n.nodeType==3?fC(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:N0(n,s)}function fC(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=Mn(r,1);if(i.top!=i.bottom&&Zd(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Zd(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function hC(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function pC(t,e,n){let{node:r,offset:s}=N0(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function mC(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!o||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!o&&(o=!0,a.left>r.left||a.top>r.top?s=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(s=l.posAfter)),!l.contentDOM&&s<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function P0(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Zd(e,u))return P0(o,e,u)}}if((i=(i+1)%r)==s)break}return t}function gC(t,e){let n=t.dom.ownerDocument,r,s=0,i=rC(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!Zd(e,u)||(o=P0(t.dom,e,u),!o))return null}if(nt)for(let u=o;r&&u;u=Ui(u))u.draggable&&(r=void 0);if(o=hC(o,e),r){if(qt&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],c;u.nodeName=="IMG"&&(c=u.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&s++}r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=mC(t,r,s,e))}l==null&&(l=pC(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function xp(t){return t.top<t.bottom||t.left<t.right}function Mn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(xp(r))return r}return Array.prototype.find.call(n,xp)||t.getBoundingClientRect()}const yC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function A0(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=ca||qt;if(r.nodeType==3)if(o&&(yC.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let a=Mn(cn(r,s,s),n);if(qt&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=Mn(cn(r,s-1,s-1),-1);if(u.top==a.top){let c=Mn(cn(r,s,s+1),-1);if(c.top!=a.top)return ei(c,c.left<u.left)}}return a}else{let a=s,u=s,c=n<0?1:-1;return n<0&&!s?(u++,c=-1):n>=0&&s==r.nodeValue.length?(a--,c=1):n<0?a--:u++,ei(Mn(cn(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Zt(r))){let a=r.childNodes[s-1];if(a.nodeType==1)return uu(a.getBoundingClientRect(),!1)}if(i==null&&s<Zt(r)){let a=r.childNodes[s];if(a.nodeType==1)return uu(a.getBoundingClientRect(),!0)}return uu(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Zt(r))){let a=r.childNodes[s-1],u=a.nodeType==3?cn(a,Zt(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return ei(Mn(u,1),!1)}if(i==null&&s<Zt(r)){let a=r.childNodes[s];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?cn(a,0,o?0:1):a.nodeType==1?a:null:null;if(u)return ei(Mn(u,-1),!0)}return ei(Mn(r.nodeType==3?cn(r):r,-n),n>=0)}function ei(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function uu(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function D0(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function vC(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return D0(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=A0(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=cn(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const kC=/[\u0590-\u08ac]/;function xC(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,l=t.domSelection();return!kC.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:D0(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:y}=t.domSelectionRange(),x=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&u==y;try{l.collapse(c,d),a&&(a!=c||u!=d)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),x})}let Sp=null,wp=null,Cp=!1;function SC(t,e,n){return Sp==e&&wp==n?Cp:(Sp=e,wp=n,Cp=n=="up"||n=="down"?vC(t,e,n):xC(t,e,n))}const Pt=0,bp=1,kr=2,ln=3;class ro{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Pt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>gt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],l=i+o.size;if(l>e||o instanceof j0){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof R0&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?gt(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?gt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,l=0;;l++){let a=this.children[l],u=o+a.size;if(s==-1&&e<=u){let c=o+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=o;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=gt(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=gt(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],y=h+p.size;if(i>h&&o<y)return p.setSelection(e-h-p.border,n-h-p.border,r,s);h=y}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((qt||nt)&&e==n){let{node:f,offset:h}=l;if(f.nodeType==3){if(c=!!(h&&f.nodeValue[h-1]==`
`),c&&h==f.nodeValue.length)for(let p=f,y;p;p=p.parentNode){if(y=p.nextSibling){y.nodeName=="BR"&&(l=a={node:y.parentNode,offset:gt(y)+1});break}let x=p.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let p=f.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(qt&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||c&&nt)&&Ir(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Ir(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(e>n){let h=l;l=a,a=h}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+i.border,a=o-i.border;if(e>=l&&n<=a){this.dirty=e==r||n==o?kr:bp,e==l&&n==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ln:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?kr:ln}r=o}this.dirty=kr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?kr:bp;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class R0 extends ro{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Pt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class wC extends ro{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Fr extends ro{constructor(e,n,r,s){super(e,[],r,s),this.mark=n}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=tn.renderSpec(document,n.type.spec.toDOM(n,r))),new Fr(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&ln||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ln&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Pt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Pt}}slice(e,n,r){let s=Fr.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=jc(i,n,o,r)),e>0&&(i=jc(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}}class Gn extends ro{constructor(e,n,r,s,i,o,l,a,u){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,o){let l=i.nodeViews[n.type.name],a,u=l&&l(n,i,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,s),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=tn.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=L0(c,r,n),u?a=new CC(e,n,r,s,c,d||null,f,u,i,o+1):n.isText?new da(e,n,r,s,c,f,i):new Gn(e,n,r,s,c,d||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>T.empty)}return e}matchesNode(e,n,r){return this.dirty==Pt&&e.eq(this.node)&&Rc(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new MC(this,o&&o.node,e);TC(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&a.syncToMarks(c==this.node.childCount?ie.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,s)},(u,c,d,f)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,c,d,f)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(h=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(u,c,d,h,e)||a.updateNextNode(u,c,d,e,f,s)||a.addNode(u,c,d,e,s),s+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==kr)&&(o&&this.protectLocalComposition(e,o),I0(this.contentDOM,this.children,e),Ds&&NC(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof G)||r<n||s>n+this.node.content.size)return null;let i=e.domSelectionRange(),o=PC(i.focusNode,i.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,a=AC(this.node.content,l,r-n,s-n);return a<0?null:{node:o,pos:a,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new wC(this,i,n,s);e.input.compositionNodes.push(o),this.children=jc(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==ln||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Pt}updateOuterDeco(e){if(Rc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=F0(this.dom,this.nodeDOM,Dc(this.outerDeco,this.node,n),Dc(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Mp(t,e,n,r,s){L0(r,e,t);let i=new Gn(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class da extends Gn{constructor(e,n,r,s,i,o,l){super(e,n,r,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==ln||this.dirty!=Pt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Pt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Pt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new da(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ln)}get domAtom(){return!1}}class j0 extends ro{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Pt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CC extends Gn{constructor(e,n,r,s,i,o,l,a,u,c){super(e,n,r,s,i,o,l,u,c),this.spec=a}update(e,n,r,s){if(this.dirty==ln)return!1;if(this.spec.update){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function I0(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=Ep(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(o instanceof Fr){let a=r?r.previousSibling:t.lastChild;I0(o.contentDOM,o.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=Ep(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Si=function(t){t&&(this.nodeName=t)};Si.prototype=Object.create(null);const xr=[new Si];function Dc(t,e,n){if(t.length==0)return xr;let r=n?xr[0]:new Si,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new Si(o.nodeName));for(let l in o){let a=o[l];a!=null&&(n&&s.length==1&&s.push(r=new Si(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return s}function F0(t,e,n,r){if(n==xr&&r==xr)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],l=n[i];if(i){let a;l&&l.nodeName==o.nodeName&&s!=t&&(a=s.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(s),l=xr[0]),s=a}bC(s,l||xr[0],o)}return s}function bC(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function L0(t,e,n){return F0(t,t,xr,Dc(e,n,t.nodeType!=1))}function Rc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ep(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class MC{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=EC(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Pt,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Fr.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==ln&&o.dom==o.contentDOM&&(o.dirty=kr),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Gn){let u=this.preMatch.matched.get(a);if(u!=null&&u!=i)return!1;let c=a.dom,d,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=ln&&Rc(n,a.outerDeco));if(!f&&a.update(e,n,r,s))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,r,s,o)))return this.top.children[this.index]=d,d.dirty=kr,d.updateChildren(s,o+1),d.dirty=Pt,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Gn.create(this.top,n,r,s,i,o);if(!l.contentDOM)return null;l.children=e.children,e.children=[],e.destroy();for(let a of l.children)a.parent=l;return l}addNode(e,n,r,s,i){let o=Gn.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new R0(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Fr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof da)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((nt||Ge)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new j0(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function EC(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Fr)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function OC(t,e){return t.type.side-e.type.side}function TC(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,s,e.forChild(i,c),u),i+=c.nodeSize}return}let o=0,l=[],a=null;for(let u=0;;){if(o<s.length&&s[o].to==i){let p=s[o++],y;for(;o<s.length&&s[o].to==i;)(y||(y=[p])).push(s[o++]);if(y){y.sort(OC);for(let x=0;x<y.length;x++)n(y[x],u,!!a)}else n(p,u,!!a)}let c,d;if(a)d=-1,c=a,a=null;else if(u<t.childCount)d=u,c=t.child(u++);else break;for(let p=0;p<l.length;p++)l[p].to<=i&&l.splice(p--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let f=i+c.nodeSize;if(c.isText){let p=f;o<s.length&&s[o].from<p&&(p=s[o].from);for(let y=0;y<l.length;y++)l[y].to<p&&(p=l[y].to);p<f&&(a=c.cut(p-i),c=c.cut(0,p-i),f=p,d=-1)}let h=c.isInline&&!c.isLeaf?l.filter(p=>!p.inline):l.slice();r(c,h,e.forChild(i,c),d),i=f}}function NC(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function PC(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Zt(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function AC(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let a=o.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;a+=u.text}if(i>=n){let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function jc(t,e,n,r,s){let i=[];for(let o=0,l=0;o<t.length;o++){let a=t[o],u=l,c=l+=a.size;u>=n||c<=e?i.push(a):(u<e&&i.push(a.slice(0,e-u,r)),s&&(i.push(s),s=void 0),c>n&&i.push(a.slice(n-u,a.size,r)))}return i}function ef(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,u;if(ua(n)){for(a=l;s&&!s.node;)s=s.parent;let c=s.node;if(s&&c.isAtom&&H.isSelectable(c)&&s.parent&&!(c.isInline&&eC(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;u=new H(o==d?l:r.resolve(d))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;u=tf(t,a,l,c)}return u}function _0(t){return t.editable?t.hasFocus():B0(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function mn(t,e=!1){let n=t.state.selection;if(z0(t,n),!!_0(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ge){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Ir(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)RC(t);else{let{anchor:r,head:s}=n,i,o;Op&&!(n instanceof G)&&(n.$from.parent.inlineContent||(i=Tp(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Tp(t,n.to))),t.docView.setSelection(r,s,t.root,e),Op&&(i&&Np(i),o&&Np(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&DC(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Op=nt||Ge&&sC<63;function Tp(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(nt&&s&&s.contentEditable=="false")return cu(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return cu(s);if(i)return cu(i)}}function cu(t){return t.contentEditable="true",nt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Np(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function DC(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!_0(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function RC(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,gt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&ft&&Jn<=11&&(r.disabled=!0,r.disabled=!1)}function z0(t,e){if(e instanceof H){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Pp(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Pp(t)}function Pp(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function tf(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||G.between(e,n,r)}function Ap(t){return t.editable&&!t.hasFocus()?!1:B0(t)}function B0(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function jC(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ir(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Ic(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&J.findFrom(i,e)}function hr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Dp(t,e,n){let r=t.state.selection;if(r instanceof G){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let s=Ic(t.state,e);return s&&s instanceof H?hr(t,s):!1}else if(!(Ct&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?H.isSelectable(i)?hr(t,new H(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):ca?hr(t,new G(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else{if(r instanceof H&&r.node.isInline)return hr(t,new G(e>0?r.$to:r.$from));{let s=Ic(t.state,e);return s?hr(t,s):!1}}}function Il(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function wi(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function ti(t,e){return e<0?IC(t):V0(t)}function IC(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(qt&&n.nodeType==1&&r<Il(n)&&wi(n.childNodes[r])&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(wi(l))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if($0(n))break;{let l=n.previousSibling;for(;l&&wi(l);)s=n.parentNode,i=gt(l),l=l.previousSibling;if(l)n=l,r=Il(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Fc(t,n,r):s&&Fc(t,s,i)}function V0(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Il(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(wi(l))i=n,o=++r;else break}else{if($0(n))break;{let l=n.nextSibling;for(;l&&wi(l);)i=l.parentNode,o=gt(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=Il(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Fc(t,i,o)}function $0(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Fc(t,e,n){let r=t.domSelection();if(ua(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&mn(t)},50)}function Rp(t,e){let n=t.state.doc.resolve(e);if(!(Ge||iC)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function jp(t,e,n){let r=t.state.selection;if(r instanceof G&&!r.empty||n.indexOf("s")>-1||Ct&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Ic(t.state,e);if(o&&o instanceof H)return hr(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=r instanceof Ht?J.near(o,e):J.findFrom(o,e);return l?hr(t,l):!1}return!1}function Ip(t,e){if(!(t.state.selection instanceof G))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function Fp(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function FC(t){if(!nt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Fp(t,r,"true"),setTimeout(()=>Fp(t,r,"false"),20)}return!1}function LC(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function _C(t,e){let n=e.keyCode,r=LC(e);if(n==8||Ct&&n==72&&r=="c")return Ip(t,-1)||ti(t,-1);if(n==46&&!e.shiftKey||Ct&&n==68&&r=="c")return Ip(t,1)||ti(t,1);if(n==13||n==27)return!0;if(n==37||Ct&&n==66&&r=="c"){let s=n==37?Rp(t,t.state.selection.from)=="ltr"?-1:1:-1;return Dp(t,s,r)||ti(t,s)}else if(n==39||Ct&&n==70&&r=="c"){let s=n==39?Rp(t,t.state.selection.from)=="ltr"?1:-1:1;return Dp(t,s,r)||ti(t,s)}else{if(n==38||Ct&&n==80&&r=="c")return jp(t,-1,r)||ti(t,-1);if(n==40||Ct&&n==78&&r=="c")return FC(t)||jp(t,1,r)||V0(t);if(r==(Ct?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function U0(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||tn.fromSchema(t.state.schema),l=J0(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let u=a.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=Q0[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=l.createElement(c[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f}}function H0(t,e,n,r,s){let i=s.parent.type.spec.code,o,l;if(!n&&!e)return null;let a=e&&(r||i||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,i||r,t)}),i)return e?new I(T.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):I.empty;let d=t.someProp("clipboardTextParser",f=>f(e,s,r,t));if(d)l=d;else{let f=s.marks(),{schema:h}=t.state,p=tn.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(p.serializeNode(h.text(y,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=VC(n),ca&&$C(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Ns.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||c),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!zC.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=UC(Lp(l,+c[1],+c[2]),c[4]);else if(l=I.maxOpen(BC(l.content,s),!0),l.openStart||l.openEnd){let d=0,f=0;for(let h=l.content.firstChild;d<l.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=Lp(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const zC=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function BC(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(l=>{if(!o)return;let a=s.findWrapping(l.type),u;if(!a)return o=null;if(u=o.length&&i.length&&q0(a,i,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=K0(o[o.length-1],i.length));let c=W0(l,a);o.push(c),s=s.matchType(c.type),i=a}}),o)return T.from(o)}return t}function W0(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,T.from(t));return t}function q0(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=q0(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(T.from(W0(n,t,s+1))))}}function K0(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,K0(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(T.empty,!0);return t.copy(n.append(r))}function Lc(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),s<r-1&&(l=Lc(l,e,n,r,s+1,i)),s>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(T.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function Lp(t,e,n){return e<t.openStart&&(t=new I(Lc(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new I(Lc(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Q0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _p=null;function J0(){return _p||(_p=document.implementation.createHTMLDocument("title"))}function VC(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=J0().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&Q0[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=t,s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function $C(t){let e=t.querySelectorAll(Ge?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function UC(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;s=T.from(a.create(r[l+1],s)),i++,o++}return new I(s,i,o)}const rt={},st={},HC={touchstart:!0,touchmove:!0};class WC{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function qC(t){for(let e in rt){let n=rt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{QC(t,r)&&!nf(t,r)&&(t.editable||!(r.type in st))&&n(t,r)},HC[e]?{passive:!0}:void 0)}nt&&t.dom.addEventListener("input",()=>null),_c(t)}function zn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function KC(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function _c(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>nf(t,r))})}function nf(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function QC(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function JC(t,e){!nf(t,e)&&rt[e.type]&&(t.editable||!(e.type in st))&&rt[e.type](t,e)}st.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Y0(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(zt&&Ge&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ds&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,fr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||_C(t,n)?n.preventDefault():zn(t,"key")};st.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};st.keypress=(t,e)=>{let n=e;if(Y0(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ct&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof G)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function fa(t){return{left:t.clientX,top:t.clientY}}function GC(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function rf(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,n,i.nodeAfter,i.before(o),s,!0):l(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function Ss(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function YC(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&H.isSelectable(r)?(Ss(t,new H(n),"pointer"),!0):!1}function XC(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof H&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(H.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(Ss(t,H.create(t.state.doc,s),"pointer"),!0):!1}function ZC(t,e,n,r,s){return rf(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?XC(t,n):YC(t,n))}function eb(t,e,n,r){return rf(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function tb(t,e,n,r){return rf(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||nb(t,n,r)}function nb(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ss(t,G.create(r,0,r.content.size),"pointer"),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)Ss(t,G.create(r,l+1,l+1+o.content.size),"pointer");else if(H.isSelectable(o))Ss(t,H.create(r,l),"pointer");else continue;return!0}}function sf(t){return Fl(t)}const G0=Ct?"metaKey":"ctrlKey";rt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=sf(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&GC(n,t.input.lastClick)&&!n[G0]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let o=t.posAtCoords(fa(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new rb(t,o,n,!!r)):(i=="doubleClick"?eb:tb)(t,o.pos,o.inside,n)?n.preventDefault():zn(t,"pointer"))};class rb{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[G0],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let c=e.state.doc.resolve(n.pos);i=c.parent,o=c.depth?c.before():0}const l=s?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof H&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&qt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),zn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>mn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(fa(e))),this.updateAllowDefault(e),this.allowDefault||!n?zn(this.view,"pointer"):ZC(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||nt&&this.mightDrag&&!this.mightDrag.node.isAtom||Ge&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ss(this.view,J.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):zn(this.view,"pointer")}move(e){this.updateAllowDefault(e),zn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}rt.touchstart=t=>{t.input.lastTouch=Date.now(),sf(t),zn(t,"pointer")};rt.touchmove=t=>{t.input.lastTouch=Date.now(),zn(t,"pointer")};rt.contextmenu=t=>sf(t);function Y0(t,e){return t.composing?!0:nt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const sb=zt?5e3:-1;st.compositionstart=st.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Fl(t,!0),t.markCursor=null;else if(Fl(t),qt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){t.domSelection().collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}X0(t,sb)};st.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionID++,X0(t,20))};function X0(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Fl(t),e))}function Z0(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ib());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function ib(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Fl(t,e=!1){if(!(zt&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Z0(t),e||t.docView&&t.docView.dirty){let n=ef(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function ob(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Rs=ft&&Jn<15||Ds&&oC<604;rt.copy=st.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Rs?null:n.clipboardData,o=r.content(),{dom:l,text:a}=U0(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):ob(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function lb(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ab(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Hi(t,r.value,null,s,e):Hi(t,r.textContent,r.innerHTML,s,e)},50)}function Hi(t,e,n,r,s){let i=H0(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,s,i||I.empty)))return!0;if(!i)return!1;let o=lb(i),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}st.paste=(t,e)=>{let n=e;if(t.composing&&!zt)return;let r=Rs?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Hi(t,r.getData("text/plain"),r.getData("text/html"),s,n)?n.preventDefault():ab(t,n)};class ub{constructor(e,n){this.slice=e,this.move=n}}const ev=Ct?"altKey":"ctrlKey";rt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(fa(n));if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof H?s.to-1:s.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(H.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(H.create(t.state.doc,u.posBefore)))}}let o=t.state.selection.content(),{dom:l,text:a}=U0(t,o);n.dataTransfer.clearData(),n.dataTransfer.setData(Rs?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Rs||n.dataTransfer.setData("text/plain",a),t.dragging=new ub(o,!n[ev])};rt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};st.dragover=st.dragenter=(t,e)=>e.preventDefault();st.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(fa(n));if(!s)return;let i=t.state.doc.resolve(s.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=H0(t,n.dataTransfer.getData(Rs?"Text":"text/plain"),Rs?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&!n[ev]);if(t.someProp("handleDrop",p=>p(t,n,o||I.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let a=o?k0(t.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let u=t.state.tr;l&&u.deleteSelection();let c=u.mapping.map(a),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&H.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new H(h));else{let p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((y,x,g,m)=>p=m),u.setSelection(tf(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};rt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&mn(t)},20))};rt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};rt.beforeinput=(t,e)=>{if(Ge&&zt&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,fr(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in st)rt[t]=st[t];function Wi(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class of{constructor(e,n){this.toDOM=e,this.spec=n||Or,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new Tt(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof of&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Wi(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Yn{constructor(e,n){this.attrs=e,this.spec=n||Or}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Tt(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Yn&&Wi(this.attrs,e.attrs)&&Wi(this.spec,e.spec)}static is(e){return e.type instanceof Yn}destroy(){}}class lf{constructor(e,n){this.attrs=e,this.spec=n||Or}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Tt(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof lf&&Wi(this.attrs,e.attrs)&&Wi(this.spec,e.spec)}destroy(){}}class Tt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Tt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Tt(e,e,new of(n,r))}static inline(e,n,r,s){return new Tt(e,n,new Yn(r,s))}static node(e,n,r,s){return new Tt(e,n,new lf(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Yn}}const Kr=[],Or={};class Ne{constructor(e,n){this.local=e.length?e:Kr,this.children=n.length?n:Kr}static create(e,n){return n.length?Ll(n,e,0,Or):Ke}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==Ke||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Or)}mapInner(e,n,r,s,i){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,s);a&&a.type.valid(n,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?cb(this.children,o||[],e,n,r,s,i):o?new Ne(o.sort(Tr),Kr):Ke}add(e,n){return n.length?this==Ke?Ne.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,a)=>{let u=a+r,c;if(c=nv(n,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<a;)i+=3;s[i]==a?s[i+2]=s[i+2].addInner(l,c,u+1):s.splice(i,0,a,a+l.nodeSize,Ll(c,l,u+1,Or)),i+=3}});let o=tv(i?rv(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Ne(o.length?this.local.concat(o).sort(Tr):this.local,s||this.children)}remove(e){return e.length==0||this==Ke?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,l=r[i]+n,a=r[i+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>l&&d.to<a&&(e[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(o,l+1);u!=Ke?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Ne(s,r):Ke}forChild(e,n){if(this==Ke)return this;if(n.isLeaf)return Ne.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>i&&a.type instanceof Yn){let u=Math.max(i,a.from)-i,c=Math.min(o,a.to)-i;u<c&&(s||(s=[])).push(a.copy(u,c))}}if(s){let l=new Ne(s.sort(Tr),Kr);return r?new Dn([l,r]):l}return r||Ke}eq(e){if(this==e)return!0;if(!(e instanceof Ne)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return af(this.localsInner(e))}localsInner(e){if(this==Ke)return Kr;if(e.inlineContent||!this.local.some(Yn.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Yn||n.push(this.local[r]);return n}}Ne.empty=new Ne([],[]);Ne.removeOverlap=af;const Ke=Ne.empty;class Dn{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Or));return Dn.from(r)}forChild(e,n){if(n.isLeaf)return Ne.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Ke&&(i instanceof Dn?r=r.concat(i.members):r.push(i))}return Dn.from(r)}eq(e){if(!(e instanceof Dn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?af(r?n:n.sort(Tr)):Kr}static from(e){switch(e.length){case 0:return Ke;case 1:return e[0];default:return new Dn(e.every(n=>n instanceof Ne)?e:e.reduce((n,r)=>n.concat(r instanceof Ne?r:r.members),[]))}}}function cb(t,e,n,r,s,i,o){let l=t.slice();for(let u=0,c=i;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,h,p,y)=>{let x=y-p-(h-f);for(let g=0;g<l.length;g+=3){let m=l[g+1];if(m<0||f>m+c-d)continue;let v=l[g]+c-d;h>=v?l[g+1]=f<=v?-2:-1:p>=s&&x&&(l[g]+=x,l[g+1]+=x)}d+=x}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+i),d=c-s;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+i,-1),h=f-s,{index:p,offset:y}=r.content.findIndex(d),x=r.maybeChild(p);if(x&&y==d&&y+x.nodeSize==h){let g=l[u+2].mapInner(n,x,c+1,t[u]+i+1,o);g!=Ke?(l[u]=d,l[u+1]=h,l[u+2]=g):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=db(l,t,e,n,s,i,o),c=Ll(u,r,0,o);e=c.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Ne(e.sort(Tr),l)}function tv(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Tt(s.from+e,s.to+e,s.type))}return n}function db(t,e,n,r,s,i,o){function l(a,u){for(let c=0;c<a.local.length;c++){let d=a.local[c].map(r,s,u);d?n.push(d):o.onRemove&&o.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+i+1);return n}function nv(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function rv(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ll(t,e,n,r){let s=[],i=!1;e.forEach((l,a)=>{let u=nv(t,l,a+n);if(u){i=!0;let c=Ll(u,l,n+a+1,r);c!=Ke&&s.push(a,a+l.nodeSize,c)}});let o=tv(i?rv(t):t,-n).sort(Tr);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new Ne(o,s):Ke}function Tr(t,e){return t.from-e.from||t.to-e.to}function af(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),zp(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),zp(e,s,r.copy(i.from,r.to)));break}}}return e}function zp(t,e,n){for(;e<t.length&&Tr(n,t[e])>0;)e++;t.splice(e,0,n)}function du(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ke&&e.push(r)}),t.cursorWrapper&&e.push(Ne.create(t.state.doc,[t.cursorWrapper.deco])),Dn.from(e)}const fb={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},hb=ft&&Jn<=11;class pb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class mb{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pb,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);ft&&Jn<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),hb&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,fb)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ap(this.view)){if(this.suppressingSelectionUpdates)return mn(this.view);if(ft&&Jn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ir(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Ui(i))n.add(i);for(let i=e.anchorNode;i;i=Ui(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ap(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],a);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(l=!0))}if(qt&&a.length>1){let c=a.filter(d=>d.nodeName=="BR");if(c.length==2){let d=c[0],f=c[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ua(r)&&(u=ef(e))&&u.eq(J.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,mn(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),gb(e)),this.handleDOMChange(i,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||mn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(ft&&Jn<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==e.target?gt(s)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=i&&i.parentNode==e.target?gt(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Bp=new WeakMap,Vp=!1;function gb(t){if(!Bp.has(t)&&(Bp.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=qt,Vp)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Vp=!0}}function yb(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,s=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Ir(l.node,l.offset,i,o)&&([r,s,i,o]=[i,o,r,s]),{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:o}}function vb(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],ua(a)||u.push({node:a.focusNode,offset:a.focusOffset})),Ge&&t.input.lastKeyCode===8)for(let x=i;x>s;x--){let g=r.childNodes[x-1],m=g.pmViewDesc;if(g.nodeName=="BR"&&!m){i=x;break}if(!m||m.size)break}let d=t.state.doc,f=t.someProp("domParser")||Ns.fromSchema(t.state.schema),h=d.resolve(o),p=null,y=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:kb,context:h});if(u&&u[0].pos!=null){let x=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=x),p={anchor:x+o,head:g+o}}return{doc:y,sel:p,from:o,to:l}}function kb(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(nt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||nt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const xb=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Sb(t,e,n,r,s){if(e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,q=ef(t,O);if(q&&!t.state.selection.eq(q)){if(Ge&&zt&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",re=>re(t,fr(13,"Enter"))))return;let _=t.state.tr.setSelection(q);O=="pointer"?_.setMeta("pointer",!0):O=="key"&&_.scrollIntoView(),t.composing&&_.setMeta("composition",t.input.compositionID),t.dispatch(_)}return}let i=t.state.doc.resolve(e),o=i.sharedDepth(n);e=i.before(o+1),n=t.state.doc.resolve(n).after(o+1);let l=t.state.selection,a=vb(t,e,n),u=t.state.doc,c=u.slice(a.from,a.to),d,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,f="end"):(d=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let h=bb(c.content,a.doc.content,a.from,d,f);if((Ds&&t.input.lastIOSEnter>Date.now()-225||zt)&&s.some(O=>O.nodeType==1&&!xb.test(O.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",O=>O(t,fr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof G&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(a.sel&&a.sel.anchor!=a.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(a.sel){let O=$p(t,t.state.doc,a.sel);if(O&&!O.eq(t.state.selection)){let q=t.state.tr.setSelection(O);t.composing&&q.setMeta("composition",t.input.compositionID),t.dispatch(q)}}return}if(Ge&&t.cursorWrapper&&a.sel&&a.sel.anchor==t.cursorWrapper.deco.from&&a.sel.head==a.sel.anchor){let O=h.endB-h.start;a.sel={anchor:a.sel.anchor+O,head:a.sel.anchor+O}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof G&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=a.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=a.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),ft&&Jn<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>a.from&&a.doc.textBetween(h.start-a.from-1,h.start-a.from+1)==" "&&(h.start--,h.endA--,h.endB--);let p=a.doc.resolveNoCache(h.start-a.from),y=a.doc.resolveNoCache(h.endB-a.from),x=u.resolve(h.start),g=p.sameParent(y)&&p.parent.inlineContent&&x.end()>=h.endA,m;if((Ds&&t.input.lastIOSEnter>Date.now()-225&&(!g||s.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!g&&p.pos<a.doc.content.size&&!p.sameParent(y)&&(m=J.findFrom(a.doc.resolve(p.pos+1),1,!0))&&m.head==y.pos)&&t.someProp("handleKeyDown",O=>O(t,fr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&Cb(u,h.start,h.endA,p,y)&&t.someProp("handleKeyDown",O=>O(t,fr(8,"Backspace")))){zt&&Ge&&t.domObserver.suppressSelectionUpdates();return}Ge&&zt&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),zt&&!g&&p.start()!=y.start()&&y.parentOffset==0&&p.depth==y.depth&&a.sel&&a.sel.anchor==a.sel.head&&a.sel.head==h.endA&&(h.endB-=2,y=a.doc.resolveNoCache(h.endB-a.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,fr(13,"Enter"))})},20));let v=h.start,S=h.endA,C,E,D;if(g){if(p.pos==y.pos)ft&&Jn<=11&&p.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>mn(t),20)),C=t.state.tr.delete(v,S),E=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(D=wb(p.parent.content.cut(p.parentOffset,y.parentOffset),x.parent.content.cut(x.parentOffset,h.endA-x.start()))))C=t.state.tr,D.type=="add"?C.addMark(v,S,D.mark):C.removeMark(v,S,D.mark);else if(p.parent.child(p.index()).isText&&p.index()==y.index()-(y.textOffset?0:1)){let O=p.parent.textBetween(p.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",q=>q(t,v,S,O)))return;C=t.state.tr.insertText(O,v,S)}}if(C||(C=t.state.tr.replace(v,S,a.doc.slice(h.start-a.from,h.endB-a.from))),a.sel){let O=$p(t,C.doc,a.sel);O&&!(Ge&&zt&&t.composing&&O.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(O.head==v||O.head==C.mapping.map(S)-1)||ft&&O.empty&&O.head==v)&&C.setSelection(O)}E&&C.ensureMarks(E),t.composing&&C.setMeta("composition",t.input.compositionID),t.dispatch(C.scrollIntoView())}function $p(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:tf(t,e.resolve(n.anchor),e.resolve(n.head))}function wb(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,l,a;for(let c=0;c<r.length;c++)s=r[c].removeFromSet(s);for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",a=c=>c.mark(l.addToSet(c.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(T.from(u).eq(t))return{mark:l,type:o}}function Cb(t,e,n,r,s){if(!r.parent.isTextblock||n-e<=s.pos-r.pos||fu(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(fu(i,!0,!0));return!o.parent.isTextblock||o.pos>n||fu(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function fu(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function bb(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let a=Math.max(0,i-Math.min(o,l));r-=o+a-i}if(o<i&&t.size<e.size){let a=r<=i&&r>=o?i-r:0;i-=a,l=i+(l-o),o=i}else if(l<i){let a=r<=i&&r>=l?i-r:0;i-=a,o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}class Mb{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new WC,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Kp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Wp(this),Hp(this),this.nodeViews=qp(this),this.docView=Mp(this.state.doc,Up(this),du(this),this.dom,this),this.domObserver=new mb(this,(r,s,i,o)=>Sb(this,r,s,i,o)),this.domObserver.start(),qC(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_c(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Kp),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&(Z0(this),i=!0),this.state=e;let o=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=qp(this);Ob(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&_c(this),this.editable=Wp(this),Hp(this);let l=du(this),a=Up(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=s||!this.docView.matchesNode(e.doc,a,l);(c||!e.selection.eq(r.selection))&&(i=!0);let d=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&uC(this);if(i){this.domObserver.stop();let f=c&&(ft||Ge)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Eb(r.selection,e.selection);if(c){let h=Ge?this.trackWrites=this.domSelectionRange().focusNode:null;(s||!this.docView.update(e.doc,a,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Mp(e.doc,a,l,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&jC(this))?mn(this,f):(z0(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&cC(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof H){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&kp(this,n.getBoundingClientRect(),e)}else kp(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(ft){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&dC(this.dom),mn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return gC(this,e)}coordsAtPos(e,n=1){return A0(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return SC(this,n||this.state,e)}pasteHTML(e,n){return Hi(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Hi(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(KC(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],du(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return JC(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return nt&&this.root.nodeType===11&&nC(this.dom.ownerDocument)==this.dom?yb(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Up(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Tt.node(0,t.state.doc.content.size,e)]}function Hp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Tt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Wp(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Eb(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function qp(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Ob(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Kp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var tr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_l={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Tb=typeof navigator<"u"&&/Mac/.test(navigator.platform),Nb=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ve=0;Ve<10;Ve++)tr[48+Ve]=tr[96+Ve]=String(Ve);for(var Ve=1;Ve<=24;Ve++)tr[Ve+111]="F"+Ve;for(var Ve=65;Ve<=90;Ve++)tr[Ve]=String.fromCharCode(Ve+32),_l[Ve]=String.fromCharCode(Ve);for(var hu in tr)_l.hasOwnProperty(hu)||(_l[hu]=tr[hu]);function Pb(t){var e=Tb&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Nb&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_l:tr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Ab=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Db(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))Ab?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function Rb(t){let e=Object.create(null);for(let n in t)e[Db(n)]=t[n];return e}function pu(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function jb(t){return new Rt({props:{handleKeyDown:sv(t)}})}function sv(t){let e=Rb(t);return function(n,r){let s=Pb(r),i,o=e[pu(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[pu(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=tr[r.keyCode])&&i!=s){let l=e[pu(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const Ib=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Fb(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Lb=(t,e,n)=>{let r=Fb(t,n);if(!r)return!1;let s=iv(r);if(!s){let o=r.blockRange(),l=o&&Us(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&av(t,s,e))return!0;if(r.parent.content.size==0&&(js(i,"end")||H.isSelectable(i))){let o=Yd(t.doc,r.before(),r.after(),I.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(js(i,"end")?J.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):H.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1};function js(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const _b=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=iv(r)}let o=i&&i.nodeBefore;return!o||!H.isSelectable(o)?!1:(e&&e(t.tr.setSelection(H.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function iv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function zb(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Bb=(t,e,n)=>{let r=zb(t,n);if(!r)return!1;let s=ov(r);if(!s)return!1;let i=s.nodeAfter;if(av(t,s,e))return!0;if(r.parent.content.size==0&&(js(i,"start")||H.isSelectable(i))){let o=Yd(t.doc,r.before(),r.after(),I.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(js(i,"start")?J.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):H.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},Vb=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=ov(r)}let o=i&&i.nodeAfter;return!o||!H.isSelectable(o)?!1:(e&&e(t.tr.setSelection(H.create(t.doc,i.pos)).scrollIntoView()),!0)};function ov(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const $b=(t,e)=>{let n=t.selection,r=n instanceof H,s;if(r){if(n.node.isTextblock||!or(t.doc,n.from))return!1;s=n.from}else if(s=v0(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(H.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},Ub=(t,e)=>{let n=t.selection,r;if(n instanceof H){if(n.node.isTextblock||!or(t.doc,n.to))return!1;r=n.to}else if(r=v0(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Hb=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Us(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},Wb=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function lv(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const qb=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=lv(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,o.createAndFill());a.setSelection(J.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Kb=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Ht||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=lv(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(G.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},Qb=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ks(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Us(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},Jb=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(H.create(t.doc,s))),!0)};function Gb(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||or(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function av(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i,o;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(Gb(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(i=(o=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&o.matchType(i[0]||s.type).validEnd){if(n){let d=e.pos+s.nodeSize,f=T.empty;for(let y=i.length-1;y>=0;y--)f=T.from(i[y].create(null,f));f=T.from(r.copy(f));let h=t.tr.step(new Ie(e.pos-1,d,e.pos,d,new I(f,1,0),i.length,!0)),p=d+2*i.length;or(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let a=J.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&Us(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&js(s,"start",!0)&&js(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=s,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let y=T.empty;for(let g=f.length-1;g>=0;g--)y=T.from(f[g].copy(y));let x=t.tr.step(new Ie(e.pos-f.length,e.pos+s.nodeSize,e.pos+p,e.pos+s.nodeSize-p,new I(y,f.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function uv(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(G.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const Yb=uv(-1),Xb=uv(1);function Zb(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),l=o&&Gd(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Qp(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(a,u)=>{if(s)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)s=!0;else{let c=n.doc.resolve(u),d=c.index();s=c.parent.canReplaceWith(d,d+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[o];i.setBlockType(l,a,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function eM(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),l=!1,a=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let c=n.doc.resolve(o.start-2);a=new Al(c,c,o.depth),o.endIndex<o.parent.childCount&&(o=new Al(s,n.doc.resolve(i.end(o.depth)),o.depth)),l=!0}let u=Gd(a,t,e,o);return u?(r&&r(tM(n.tr,o,u,l,t).scrollIntoView()),!0):!1}}function tM(t,e,n,r,s){let i=T.empty;for(let c=n.length-1;c>=0;c--)i=T.from(n[c].type.create(n[c].attrs,i));t.step(new Ie(e.start-(r?2:0),e.end,e.start,e.end,new I(i,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==s&&(o=c+1);let l=n.length-o,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&ks(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function nM(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?rM(e,n,t,i):sM(e,n,i):!0:!1}}function rM(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Ie(i-1,o,i,o,new I(T.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Al(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const l=Us(r);if(l==null)return!1;s.lift(r,l);let a=s.mapping.map(i,-1)-1;return or(s.doc,a)&&s.join(a),e(s.scrollIntoView()),!0}function sM(t,e,n){let r=t.tr,s=n.parent;for(let h=n.end,p=n.endIndex-1,y=n.startIndex;p>y;p--)h-=s.child(p).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==s.childCount,u=i.node(-1),c=i.index(-1);if(!u.canReplace(c+(l?0:1),c+1,o.content.append(a?T.empty:T.from(s))))return!1;let d=i.pos,f=d+o.nodeSize;return r.step(new Ie(d-(l?1:0),f+(a?1:0),d+1,f-1,new I((l?T.empty:T.from(s.copy(T.empty))).append(a?T.empty:T.from(s.copy(T.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function iM(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,a=l.child(o-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=T.from(u?t.create():null),d=new I(T.from(t.create(null,T.from(l.type.create(null,c)))),u?3:1,0),f=i.start,h=i.end;n(e.tr.step(new Ie(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function ha(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class pa{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const d=a(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,l=[],a=!!e,u=e||i.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...y)=>{const x=this.buildProps(u,n),g=h(...y)(x);return l.push(g),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s;i.storedMarks&&e.setStoredMarks(i.storedMarks);const l={tr:e,editor:s,view:o,state:ha({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class oM{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function L(t,e,n){return t.config[e]===void 0&&t.parent?L(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?L(t.parent,e,n):null}):t.config[e]}function ma(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function cv(t){const e=[],{nodeExtensions:n,markExtensions:r}=ma(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=L(o,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...i,...h}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=L(o,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:c,attribute:f})})}),e}function Le(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Oe(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}s==="class"?r[s]=[r[s],i].join(" "):s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function zc(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Oe(n,r),{})}function dv(t){return typeof t=="function"}function Q(t,e=void 0,...n){return dv(t)?e?t.bind(e)(...n):t(...n):t}function lM(t={}){return Object.keys(t).length===0&&t.constructor===Object}function aM(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Jp(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):aM(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...r,...s}}}}function Gp(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&lM(n)?!1:n!=null))}function uM(t,e){var n;const r=cv(t),{nodeExtensions:s,markExtensions:i}=ma(t),o=(n=s.find(u=>L(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(s.map(u=>{const c=r.filter(g=>g.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((g,m)=>{const v=L(m,"extendNodeSchema",d);return{...g,...v?v(u):{}}},{}),h=Gp({...f,content:Q(L(u,"content",d)),marks:Q(L(u,"marks",d)),group:Q(L(u,"group",d)),inline:Q(L(u,"inline",d)),atom:Q(L(u,"atom",d)),selectable:Q(L(u,"selectable",d)),draggable:Q(L(u,"draggable",d)),code:Q(L(u,"code",d)),defining:Q(L(u,"defining",d)),isolating:Q(L(u,"isolating",d)),attrs:Object.fromEntries(c.map(g=>{var m;return[g.name,{default:(m=g==null?void 0:g.attribute)===null||m===void 0?void 0:m.default}]}))}),p=Q(L(u,"parseHTML",d));p&&(h.parseDOM=p.map(g=>Jp(g,c)));const y=L(u,"renderHTML",d);y&&(h.toDOM=g=>y({node:g,HTMLAttributes:zc(g,c)}));const x=L(u,"renderText",d);return x&&(h.toText=x),[u.name,h]})),a=Object.fromEntries(i.map(u=>{const c=r.filter(x=>x.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((x,g)=>{const m=L(g,"extendMarkSchema",d);return{...x,...m?m(u):{}}},{}),h=Gp({...f,inclusive:Q(L(u,"inclusive",d)),excludes:Q(L(u,"excludes",d)),group:Q(L(u,"group",d)),spanning:Q(L(u,"spanning",d)),code:Q(L(u,"code",d)),attrs:Object.fromEntries(c.map(x=>{var g;return[x.name,{default:(g=x==null?void 0:x.attribute)===null||g===void 0?void 0:g.default}]}))}),p=Q(L(u,"parseHTML",d));p&&(h.parseDOM=p.map(x=>Jp(x,c)));const y=L(u,"renderHTML",d);return y&&(h.toDOM=x=>y({mark:x,HTMLAttributes:zc(x,c)})),[u.name,h]}));return new kw({topNode:o,nodes:l,marks:a})}function mu(t,e){return e.nodes[t]||e.marks[t]||null}function Yp(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const cM=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,l)=>{var a,u;const c=((u=(a=s.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-i))}),n};function uf(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class ga{constructor(e){this.find=e.find,this.handler=e.handler}}const dM=(t,e)=>{if(uf(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function gu(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=cM(u)+i;return o.forEach(f=>{if(c)return;const h=dM(d,f.find);if(!h)return;const p=a.state.tr,y=ha({state:a.state,transaction:p}),x={from:r-(h[0].length-i.length),to:s},{commands:g,chain:m,can:v}=new pa({editor:n,state:y});f.handler({state:y,range:x,match:h,commands:g,chain:m,can:v})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:r,to:s,text:i}),a.dispatch(p),c=!0)}),c}function fM(t){const{editor:e,rules:n}=t,r=new Rt({state:{init(){return null},apply(s,i){const o=s.getMeta(r);return o||(s.selectionSet||s.docChanged?null:i)}},props:{handleTextInput(s,i,o,l){return gu({editor:e,from:i,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&gu({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?gu({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function hM(t){return typeof t=="number"}class pM{constructor(e){this.find=e.find,this.handler=e.handler}}const mM=(t,e)=>{if(uf(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function gM(t){const{editor:e,state:n,from:r,to:s,rule:i}=t,{commands:o,chain:l,can:a}=new pa({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,s,(d,f)=>{if(!d.isTextblock||d.type.spec.code)return;const h=Math.max(r,f),p=Math.min(s,f+d.content.size),y=d.textBetween(h-f,p-f,void 0,"");mM(y,i.find).forEach(g=>{if(g.index===void 0)return;const m=h+g.index+1,v=m+g[0].length,S={from:n.tr.mapping.map(m),to:n.tr.mapping.map(v)},C=i.handler({state:n,range:S,match:g,commands:o,chain:l,can:a});u.push(C)})}),u.every(d=>d!==null)}function yM(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1;return n.map(l=>new Rt({view(a){const u=c=>{var d;r=!((d=a.dom.parentElement)===null||d===void 0)&&d.contains(c.target)?a.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:a=>(i=r===a.dom.parentElement,!1),paste:(a,u)=>{var c;const d=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return s=!!(d!=null&&d.includes("data-pm-slice")),!1}}},appendTransaction:(a,u,c)=>{const d=a[0],f=d.getMeta("uiEvent")==="paste"&&!s,h=d.getMeta("uiEvent")==="drop"&&!i;if(!f&&!h)return;const p=u.doc.content.findDiffStart(c.doc.content),y=u.doc.content.findDiffEnd(c.doc.content);if(!hM(p)||!y||p===y.b)return;const x=c.tr,g=ha({state:c,transaction:x});if(!(!gM({editor:e,state:g,from:Math.max(p-1,0),to:y.b-1,rule:l})||!x.steps.length))return x}}))}function vM(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class us{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=us.resolve(e),this.schema=uM(this.extensions,n),this.extensions.forEach(r=>{var s;this.editor.extensionStorage[r.name]=r.storage;const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:mu(r.name,this.schema)};r.type==="mark"&&(!((s=Q(L(r,"keepOnSplit",i)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(r.name);const o=L(r,"onBeforeCreate",i);o&&this.editor.on("beforeCreate",o);const l=L(r,"onCreate",i);l&&this.editor.on("create",l);const a=L(r,"onUpdate",i);a&&this.editor.on("update",a);const u=L(r,"onSelectionUpdate",i);u&&this.editor.on("selectionUpdate",u);const c=L(r,"onTransaction",i);c&&this.editor.on("transaction",c);const d=L(r,"onFocus",i);d&&this.editor.on("focus",d);const f=L(r,"onBlur",i);f&&this.editor.on("blur",f);const h=L(r,"onDestroy",i);h&&this.editor.on("destroy",h)})}static resolve(e){const n=us.sort(us.flatten(e)),r=vM(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=L(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=L(r,"priority")||100,o=L(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:mu(n.name,this.schema)},s=L(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=us.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:mu(o.name,this.schema)},a=[],u=L(o,"addKeyboardShortcuts",l);let c={};if(o.type==="mark"&&o.config.exitable&&(c.ArrowRight=()=>Kt.handleExit({editor:e,mark:o})),u){const y=Object.fromEntries(Object.entries(u()).map(([x,g])=>[x,()=>g({editor:e})]));c={...c,...y}}const d=jb(c);a.push(d);const f=L(o,"addInputRules",l);Yp(o,e.options.enableInputRules)&&f&&r.push(...f());const h=L(o,"addPasteRules",l);Yp(o,e.options.enablePasteRules)&&h&&s.push(...h());const p=L(o,"addProseMirrorPlugins",l);if(p){const y=p();a.push(...y)}return a}).flat();return[fM({editor:e,rules:r}),...yM({editor:e,rules:s}),...i]}get attributes(){return cv(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ma(this.extensions);return Object.fromEntries(n.filter(r=>!!L(r,"addNodeView")).map(r=>{const s=this.attributes.filter(a=>a.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:Le(r.name,this.schema)},o=L(r,"addNodeView",i);if(!o)return[];const l=(a,u,c,d)=>{const f=zc(a,s);return o()({editor:e,node:a,getPos:c,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,l]}))}}function kM(t){return Object.prototype.toString.call(t).slice(8,-1)}function yu(t){return kM(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ya(t,e){const n={...t};return yu(t)&&yu(e)&&Object.keys(e).forEach(r=>{yu(e[r])?r in t?n[r]=ya(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class ht{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Q(L(this,"addOptions",{name:this.name}))),this.storage=Q(L(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ht(e)}configure(e={}){const n=this.extend();return n.options=ya(this.options,e),n.storage=Q(L(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new ht(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Q(L(n,"addOptions",{name:n.name})),n.storage=Q(L(n,"addStorage",{name:n.name,options:n.options})),n}}function fv(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="",a=!0;return t.nodesBetween(r,s,(u,c,d,f)=>{var h;const p=o==null?void 0:o[u.type.name];p?(u.isBlock&&!a&&(l+=i,a=!0),d&&(l+=p({node:u,pos:c,parent:d,index:f,range:e}))):u.isText?(l+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,s-c),a=!1):u.isBlock&&!a&&(l+=i,a=!0)}),l}function hv(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const xM=ht.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Rt({key:new lr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(c=>c.$from.pos)),l=Math.max(...i.map(c=>c.$to.pos)),a=hv(n);return fv(r,{from:o,to:l},{textSerializers:a})}}})]}}),SM=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),wM=(t=!1)=>({commands:e})=>e.setContent("",t),CM=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(a)),f=u.resolve(c.map(a+l.nodeSize)),h=d.blockRange(f);if(!h)return;const p=Us(h);if(l.type.isTextblock){const{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,y)}(p||p===0)&&e.lift(h,p)})}),!0},bM=t=>e=>t(e),MM=()=>({state:t,dispatch:e})=>Kb(t,e),EM=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),a=s.after(i);t.delete(l,a).scrollIntoView()}return!0}return!1},OM=t=>({tr:e,state:n,dispatch:r})=>{const s=Le(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const a=i.before(o),u=i.after(o);e.delete(a,u).scrollIntoView()}return!0}return!1},TM=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},NM=()=>({state:t,dispatch:e})=>Ib(t,e),PM=()=>({commands:t})=>t.keyboardShortcut("Enter"),AM=()=>({state:t,dispatch:e})=>qb(t,e);function zl(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:uf(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function Bc(t,e,n={}){return t.find(r=>r.type===e&&zl(r.attrs,n))}function DM(t,e,n={}){return!!Bc(t,e,n)}function cf(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=Bc([...r.node.marks],e,n);if(!s)return;let i=r.index,o=t.start()+r.offset,l=i+1,a=o+r.node.nodeSize;for(Bc([...r.node.marks],e,n);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&DM([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:a}}function ur(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const RM=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=ur(t,r.schema),{doc:o,selection:l}=n,{$from:a,from:u,to:c}=l;if(s){const d=cf(a,i,e);if(d&&d.from<=u&&d.to>=c){const f=G.create(o,d.from,d.to);n.setSelection(f)}}return!0},jM=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function pv(t){return t instanceof G}function Sr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function mv(t,e=null){if(!e)return null;const n=J.atStart(t),r=J.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?G.create(t,Sr(0,s,i),Sr(t.content.size,s,i)):G.create(t,Sr(e,s,i),Sr(e,s,i))}function df(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const IM=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{df()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!pv(n.state.selection))return o(),!0;const l=mv(s.doc,t)||n.state.selection,a=n.state.selection.eq(l);return i&&(a||s.setSelection(l),a&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},FM=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),LM=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function Xp(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Bl(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?T.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Bl("",e,n)}if(typeof t=="string"){const r=Ns.fromSchema(e);return n.slice?r.parseSlice(Xp(t),n.parseOptions).content:r.parse(Xp(t),n.parseOptions)}return Bl("",e,n)}function _M(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Je||s instanceof Ie))return;const i=t.mapping.maps[r];let o=0;i.forEach((l,a,u,c)=>{o===0&&(o=c)}),t.setSelection(J.near(t.doc.resolve(o),n))}const zM=t=>t.toString().startsWith("<"),BM=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{if(s){n={parseOptions:{},updateSelection:!0,...n};const o=Bl(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:t,u=!0,c=!0;if((zM(o)?o:[o]).forEach(f=>{f.check(),u=u?f.isText&&f.marks.length===0:!1,c=c?f.isBlock:!1}),l===a&&c){const{parent:f}=r.doc.resolve(l);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(l-=1,a+=1)}u?Array.isArray(e)?r.insertText(e.map(f=>f.text||"").join(""),l,a):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,a):r.insertText(e,l,a):r.replaceWith(l,a,o),n.updateSelection&&_M(r,r.steps.length-1,-1)}return!0},VM=()=>({state:t,dispatch:e})=>$b(t,e),$M=()=>({state:t,dispatch:e})=>Ub(t,e),UM=()=>({state:t,dispatch:e})=>Lb(t,e),HM=()=>({state:t,dispatch:e})=>Bb(t,e);function gv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function WM(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))df()||gv()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const qM=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=WM(t).split(/-(?!$)/),o=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&s&&r.maybeStep(c)}),!0};function qi(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?Le(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(s,f+d.nodeSize);l.push({node:d,from:h,to:p})});const a=s-r,u=l.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>zl(d.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=a}const KM=(t,e={})=>({state:n,dispatch:r})=>{const s=Le(t,n.schema);return qi(n,s,e)?Hb(n,r):!1},QM=()=>({state:t,dispatch:e})=>Qb(t,e),JM=t=>({state:e,dispatch:n})=>{const r=Le(t,e.schema);return nM(r)(e,n)},GM=()=>({state:t,dispatch:e})=>Wb(t,e);function va(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Zp(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const YM=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=va(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=Le(t,r.schema)),l==="mark"&&(o=ur(t,r.schema)),s&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{i&&i===u.type&&n.setNodeMarkup(c,void 0,Zp(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&n.addMark(c,c+u.nodeSize,o.create(Zp(d.attrs,e)))})})}),!0):!1},XM=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ZM=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),eE=()=>({state:t,dispatch:e})=>_b(t,e),tE=()=>({state:t,dispatch:e})=>Vb(t,e),nE=()=>({state:t,dispatch:e})=>Jb(t,e),rE=()=>({state:t,dispatch:e})=>Xb(t,e),sE=()=>({state:t,dispatch:e})=>Yb(t,e);function yv(t,e,n={}){return Bl(t,e,{slice:!1,parseOptions:n})}const iE=(t,e=!1,n={})=>({tr:r,editor:s,dispatch:i})=>{const{doc:o}=r,l=yv(t,s.schema,n);return i&&r.replaceWith(0,o.content.size,l).setMeta("preventUpdate",!e),!0};function oE(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function lE(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function ff(t){return e=>lE(e.$from,t)}function aE(t,e){const n=tn.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function uE(t,e){const n={from:0,to:t.content.size};return fv(t,n,e)}function so(t,e){const n=ur(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function cE(t,e){const n=Le(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function dE(t,e){const n=va(typeof e=="string"?e:e.name,t.schema);return n==="node"?cE(t,e):n==="mark"?so(t,e):{}}function vv(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t-1),o=cf(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function Ho(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function Vc(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?ur(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>zl(d.attrs,n,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(y,x)=>{if(!y.isText&&!y.marks.length)return;const g=Math.max(h,x),m=Math.min(p,x+y.nodeSize),v=m-g;o+=v,l.push(...y.marks.map(S=>({mark:S,from:g,to:m})))})}),o===0)return!1;const a=l.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>zl(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=l.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+u:a)>=o}function fE(t,e,n={}){if(!e)return qi(t,null,n)||Vc(t,null,n);const r=va(e,t.schema);return r==="node"?qi(t,e,n):r==="mark"?Vc(t,e,n):!1}function em(t,e){const{nodeExtensions:n}=ma(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=Q(L(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function hE(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function pE(t,e,n){var r;const{selection:s}=e;let i=null;if(pv(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:o}=s;return o.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(y=>y.type.excludes(n));u=h&&p}return!u}),u})}const mE=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:l}=i,a=ur(t,r.schema);if(s)if(o){const u=so(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{const p=Math.max(h,c),y=Math.min(h+f.nodeSize,d);f.marks.find(g=>g.type===a)?f.marks.forEach(g=>{a===g.type&&n.addMark(p,y,a.create({...g.attrs,...e}))}):n.addMark(p,y,a.create(e))})});return pE(r,n,a)},gE=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),yE=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=Le(t,n.schema);return i.isTextblock?s().command(({commands:o})=>Qp(i,e)(n)?!0:o.clearNodes()).command(({state:o})=>Qp(i,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vE=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Sr(t,0,r.content.size),i=H.create(r,s);e.setSelection(i)}return!0},kE=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=G.atStart(r).from,l=G.atEnd(r).to,a=Sr(s,o,l),u=Sr(i,o,l),c=G.create(r,a,u);e.setSelection(c)}return!0},xE=t=>({state:e,dispatch:n})=>{const r=Le(t,e.schema);return iM(r)(e,n)};function tm(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const SE=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:a}=i,u=s.extensionManager.attributes,c=Ho(u,l.node().type.name,l.node().attrs);if(i instanceof H&&i.node.isBlock)return!l.parentOffset||!ks(o,l.pos)?!1:(r&&(t&&tm(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const d=a.parentOffset===a.parent.content.size;i instanceof G&&e.deleteSelection();const f=l.depth===0?void 0:oE(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=d&&f?[{type:f,attrs:c}]:void 0,p=ks(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&ks(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:c}]:void 0),p&&(e.split(e.mapping.map(l.pos),1,h),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const y=e.mapping.map(l.before()),x=e.doc.resolve(y);l.node(-1).canReplaceWith(x.index(),x.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&tm(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},wE=t=>({tr:e,state:n,dispatch:r,editor:s})=>{var i;const o=Le(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==o)return!1;const d=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let x=T.empty;const g=l.index(-1)?1:l.index(-2)?2:3;for(let D=l.depth-g;D>=l.depth-3;D-=1)x=T.from(l.node(D).copy(x));const m=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,v=Ho(d,l.node().type.name,l.node().attrs),S=((i=o.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(v))||void 0;x=x.append(T.from(o.createAndFill(null,S)||void 0));const C=l.before(l.depth-(g-1));e.replace(C,l.after(-m),new I(x,4-g,0));let E=-1;e.doc.nodesBetween(C,e.doc.content.size,(D,O)=>{if(E>-1)return!1;D.isTextblock&&D.content.size===0&&(E=O+1)}),E>-1&&e.setSelection(G.near(e.doc.resolve(E))),e.scrollIntoView()}return!0}const f=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,h=Ho(d,c.type.name,c.attrs),p=Ho(d,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const y=f?[{type:o,attrs:h},{type:f,attrs:p}]:[{type:o,attrs:h}];if(!ks(e.doc,l.pos,2))return!1;if(r){const{selection:x,storedMarks:g}=n,{splittableMarks:m}=s.extensionManager,v=g||x.$to.parentOffset&&x.$from.marks();if(e.split(l.pos,2,y).scrollIntoView(),!v||!r)return!0;const S=v.filter(C=>m.includes(C.type.name));e.ensureMarks(S)}return!0},vu=(t,e)=>{const n=ff(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&or(t.doc,n.pos)&&t.join(n.pos),!0},ku=(t,e)=>{const n=ff(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&or(t.doc,r)&&t.join(r),!0},CE=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=s.extensionManager,h=Le(t,o.schema),p=Le(e,o.schema),{selection:y,storedMarks:x}=o,{$from:g,$to:m}=y,v=g.blockRange(m),S=x||y.$to.parentOffset&&y.$from.marks();if(!v)return!1;const C=ff(E=>em(E.type.name,d))(y);if(v.depth>=1&&C&&v.depth-C.depth<=1){if(C.node.type===h)return u.liftListItem(p);if(em(C.node.type.name,d)&&h.validContent(C.node.content)&&l)return a().command(()=>(i.setNodeMarkup(C.pos,h),!0)).command(()=>vu(i,h)).command(()=>ku(i,h)).run()}return!n||!S||!l?a().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>vu(i,h)).command(()=>ku(i,h)).run():a().command(()=>{const E=c().wrapInList(h,r),D=S.filter(O=>f.includes(O.type.name));return i.ensureMarks(D),E?!0:u.clearNodes()}).wrapInList(h,r).command(()=>vu(i,h)).command(()=>ku(i,h)).run()},bE=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=ur(t,r.schema);return Vc(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},ME=(t,e,n={})=>({state:r,commands:s})=>{const i=Le(t,r.schema),o=Le(e,r.schema);return qi(r,i,n)?s.setNode(o):s.setNode(i,n)},EE=(t,e={})=>({state:n,commands:r})=>{const s=Le(t,n.schema);return qi(n,s,e)?r.lift(s):r.wrapIn(s,e)},OE=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,a))}else o.delete(i.from,i.to)}return!0}}return!1},TE=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},NE=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,a=ur(t,r.schema),{$from:u,empty:c,ranges:d}=l;if(!s)return!0;if(c&&o){let{from:f,to:h}=l;const p=(i=u.marks().find(x=>x.type===a))===null||i===void 0?void 0:i.attrs,y=cf(u,a,p);y&&(f=y.from,h=y.to),n.removeMark(f,h,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},PE=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=va(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=Le(t,r.schema)),l==="mark"&&(o=ur(t,r.schema)),s&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{i&&i===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(h=>{if(o===h.type){const p=Math.max(f,u),y=Math.min(f+d.nodeSize,c);n.addMark(p,y,o.create({...h.attrs,...e}))}})})}),!0):!1},AE=(t,e={})=>({state:n,dispatch:r})=>{const s=Le(t,n.schema);return Zb(s,e)(n,r)},DE=(t,e={})=>({state:n,dispatch:r})=>{const s=Le(t,n.schema);return eM(s,e)(n,r)};var RE=Object.freeze({__proto__:null,blur:SM,clearContent:wM,clearNodes:CM,command:bM,createParagraphNear:MM,deleteCurrentNode:EM,deleteNode:OM,deleteRange:TM,deleteSelection:NM,enter:PM,exitCode:AM,extendMarkRange:RM,first:jM,focus:IM,forEach:FM,insertContent:LM,insertContentAt:BM,joinUp:VM,joinDown:$M,joinBackward:UM,joinForward:HM,keyboardShortcut:qM,lift:KM,liftEmptyBlock:QM,liftListItem:JM,newlineInCode:GM,resetAttributes:YM,scrollIntoView:XM,selectAll:ZM,selectNodeBackward:eE,selectNodeForward:tE,selectParentNode:nE,selectTextblockEnd:rE,selectTextblockStart:sE,setContent:iE,setMark:mE,setMeta:gE,setNode:yE,setNodeSelection:vE,setTextSelection:kE,sinkListItem:xE,splitBlock:SE,splitListItem:wE,toggleList:CE,toggleMark:bE,toggleNode:ME,toggleWrap:EE,undoInputRule:OE,unsetAllMarks:TE,unsetMark:NE,updateAttributes:PE,wrapIn:AE,wrapInList:DE});const jE=ht.create({name:"commands",addCommands(){return{...RE}}}),IE=ht.create({name:"editable",addProseMirrorPlugins(){return[new Rt({key:new lr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),FE=ht.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Rt({key:new lr("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),LE=ht.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:d}=a,{pos:f,parent:h}=d,p=J.atStart(u).from===f;return!c||!p||!h.type.isTextblock||h.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return df()||gv()?i:s},addProseMirrorPlugins(){return[new Rt({key:new lr("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:s,from:i,to:o}=e.selection,l=J.atStart(e.doc).from,a=J.atEnd(e.doc).to;if(s||!(i===l&&o===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=ha({state:n,transaction:d}),{commands:h}=new pa({editor:this.editor,state:f});if(h.clearNodes(),!!d.steps.length)return d}})]}}),_E=ht.create({name:"tabindex",addProseMirrorPlugins(){return[new Rt({key:new lr("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var zE=Object.freeze({__proto__:null,ClipboardTextSerializer:xM,Commands:jE,Editable:IE,FocusEvents:FE,Keymap:LE,Tabindex:_E});const BE=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function VE(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let $E=class extends oM{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=VE(BE,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=dv(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(zE):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new us(n,this)}createCommandManager(){this.commandManager=new pa({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=yv(this.options.content,this.schema,this.options.parseOptions),n=mv(e,this.options.autofocus);this.view=new Mb(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:as.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return dE(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return fE(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return aE(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return uE(this.state.doc,{blockSeparator:n,textSerializers:{...hv(this.schema),...r}})}get isEmpty(){return hE(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Is(t){return new ga({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Q(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],l=r[0];let a=n.to;if(o){const u=l.search(/\S/),c=n.from+l.indexOf(o),d=c+o.length;if(vv(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>c).length)return null;d<n.to&&i.delete(d,n.to),c>n.from&&i.delete(n.from+u,c),a=n.from+u+o.length,i.addMark(n.from+u,a,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function UE(t){return new ga({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Q(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let l=n.to;if(r[1]){const a=r[0].lastIndexOf(r[1]);let u=o+a;u>l?u=l:l=u+r[1].length;const c=r[0][r[0].length-1];i.insertText(c,o+r[0].length-1),i.replaceWith(u,l,t.type.create(s))}else r[0]&&i.replaceWith(o,l,t.type.create(s))}})}function $c(t){return new ga({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=Q(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function Ki(t){return new ga({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=Q(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),u=a&&Gd(a,t.type,i);if(!u)return null;if(o.wrap(a,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const y=p.filter(x=>h.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,i).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&or(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&o.join(n.from-1)}})}class Kt{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Q(L(this,"addOptions",{name:this.name}))),this.storage=Q(L(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Kt(e)}configure(e={}){const n=this.extend();return n.options=ya(this.options,e),n.storage=Q(L(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Kt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Q(L(n,"addOptions",{name:n.name})),n.storage=Q(L(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=o.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}class Xe{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Q(L(this,"addOptions",{name:this.name}))),this.storage=Q(L(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Xe(e)}configure(e={}){const n=this.extend();return n.options=ya(this.options,e),n.storage=Q(L(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Xe(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Q(L(n,"addOptions",{name:n.name})),n.storage=Q(L(n,"addStorage",{name:n.name,options:n.options})),n}}function Fs(t){return new pM({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Q(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],l=r[0];let a=n.to;if(o){const u=l.search(/\S/),c=n.from+l.indexOf(o),d=c+o.length;if(vv(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>c).length)return null;d<n.to&&i.delete(d,n.to),c>n.from&&i.delete(n.from+u,c),a=n.from+u+o.length,i.addMark(n.from+u,a,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}class HE extends $E{constructor(){super(...arguments),this.contentComponent=null}}const WE=({renderers:t})=>X.createElement(X.Fragment,null,Object.entries(t).map(([e,n])=>wy.createPortal(n.reactElement,n.element,e)));class qE extends X.Component{constructor(e){super(e),this.editorContentRef=X.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?Ld.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return X.createElement(X.Fragment,null,X.createElement("div",{ref:this.editorContentRef,...n}),X.createElement(WE,{renderers:this.state.renderers}))}}const KE=X.memo(qE),QE=P.createContext({onDragStart:void 0}),JE=()=>P.useContext(QE);X.forwardRef((t,e)=>{const{onDragStart:n}=JE(),r=t.as||"div";return X.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function GE(){const[,t]=P.useState(0);return()=>t(e=>e+1)}const YE=(t={},e=[])=>{const[n,r]=P.useState(null),s=GE(),{onBeforeCreate:i,onBlur:o,onCreate:l,onDestroy:a,onFocus:u,onSelectionUpdate:c,onTransaction:d,onUpdate:f}=t,h=P.useRef(i),p=P.useRef(o),y=P.useRef(l),x=P.useRef(a),g=P.useRef(u),m=P.useRef(c),v=P.useRef(d),S=P.useRef(f);return P.useEffect(()=>{n&&(i&&(n.off("beforeCreate",h.current),n.on("beforeCreate",i),h.current=i),o&&(n.off("blur",p.current),n.on("blur",o),p.current=o),l&&(n.off("create",y.current),n.on("create",l),y.current=l),a&&(n.off("destroy",x.current),n.on("destroy",a),x.current=a),u&&(n.off("focus",g.current),n.on("focus",u),g.current=u),c&&(n.off("selectionUpdate",m.current),n.on("selectionUpdate",c),m.current=c),d&&(n.off("transaction",v.current),n.on("transaction",d),v.current=d),f&&(n.off("update",S.current),n.on("update",f),S.current=f))},[i,o,l,a,u,c,d,f,n]),P.useEffect(()=>{let C=!0;const E=new HE(t);return r(E),E.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{C&&s()})})}),()=>{E.destroy(),C=!1}},e),n},XE=/^\s*>\s$/,ZE=Xe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ki({find:XE,type:this.type})]}}),eO=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,tO=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,nO=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,rO=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,sO=Kt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Is({find:eO,type:this.type}),Is({find:nO,type:this.type})]},addPasteRules(){return[Fs({find:tO,type:this.type}),Fs({find:rO,type:this.type})]}}),iO=Xe.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Oe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),nm=Kt.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=so(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),rm=/^\s*([-+*])\s$/,oO=Xe.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(iO.name,this.editor.getAttributes(nm.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ki({find:rm,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ki({find:rm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(nm.name),editor:this.editor})),[t]}}),lO=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,aO=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,uO=Kt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Is({find:lO,type:this.type})]},addPasteRules(){return[Fs({find:aO,type:this.type})]}}),cO=/^```([a-z]+)?[\s\n]$/,dO=/^~~~([a-z]+)?[\s\n]$/,fO=Xe.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Oe(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[$c({find:cO,type:this.type,getAttributes:t=>({language:t[1]})}),$c({find:dO,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Rt({key:new lr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o}=t.state;return o.replaceSelectionWith(this.type.create({language:i})),o.setSelection(G.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),hO=Xe.create({name:"doc",topNode:!0,content:"block+"});function pO(t={}){return new Rt({view(e){return new mO(e,t)}})}class mO{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=l?c.bottom:c.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let l=s.getBoundingClientRect();i=l.left-s.scrollLeft,o=l.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=k0(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const gO=ht.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[pO(this.options)]}});class xe extends J{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return xe.valid(r)?new xe(r):J.near(r)}content(){return I.empty}eq(e){return e instanceof xe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new xe(e.resolve(n.pos))}getBookmark(){return new hf(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!yO(e)||!vO(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&xe.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let a=e.doc.resolve(s);if(xe.valid(a))return a}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!H.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let l=e.doc.resolve(s);if(xe.valid(l))return l}return null}}}xe.prototype.visible=!1;xe.findFrom=xe.findGapCursorFrom;J.jsonID("gapcursor",xe);class hf{constructor(e){this.pos=e}map(e){return new hf(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return xe.valid(n)?new xe(n):J.near(n)}}function yO(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function vO(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function kO(){return new Rt({props:{decorations:CO,createSelectionBetween(t,e,n){return e.pos==n.pos&&xe.valid(n)?new xe(n):null},handleClick:SO,handleKeyDown:xO,handleDOMEvents:{beforeinput:wO}}})}const xO=sv({ArrowLeft:Eo("horiz",-1),ArrowRight:Eo("horiz",1),ArrowUp:Eo("vert",-1),ArrowDown:Eo("vert",1)});function Eo(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof G){if(!i.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=xe.findGapCursorFrom(l,e,a);return u?(s&&s(r.tr.setSelection(new xe(u))),!0):!1}}function SO(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!xe.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&H.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new xe(r))),!0)}function wO(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof xe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=T.empty;for(let o=r.length-1;o>=0;o--)s=T.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new I(s,0,0));return i.setSelection(G.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function CO(t){if(!(t.selection instanceof xe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ne.create(t.doc,[Tt.widget(t.selection.head,e,{key:"gapcursor"})])}const bO=ht.create({name:"gapCursor",addProseMirrorPlugins(){return[kO()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Q(L(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),MO=Xe.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Oe(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,a=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&o){const d=a.filter(f=>l.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),EO=Xe.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Oe(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>$c({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Vl=200,Fe=function(){};Fe.prototype.append=function(e){return e.length?(e=Fe.from(e),!this.length&&e||e.length<Vl&&this.leafAppend(e)||this.length<Vl&&e.leafPrepend(this)||this.appendInner(e)):this};Fe.prototype.prepend=function(e){return e.length?Fe.from(e).append(this):this};Fe.prototype.appendInner=function(e){return new OO(this,e)};Fe.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Fe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Fe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Fe.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Fe.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};Fe.from=function(e){return e instanceof Fe?e:e&&e.length?new kv(e):Fe.empty};var kv=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var a=i;a<o;a++)if(s(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var a=i-1;a>=o;a--)if(s(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Vl)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Vl)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Fe);Fe.empty=new kv([]);var OO=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Fe);const TO=500;class Vt{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,l,a,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,c.push(d);return}if(s){c.push(new Yt(d.map));let h=d.step.map(s.slice(i)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new Yt(p,void 0,void 0,u.length+c.length))),i--,p&&s.appendMap(p,i)}else o.maybeStep(d.step);if(d.selection)return l=s?d.selection.map(s.slice(i)):d.selection,a=new Vt(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,n,r,s){let i=[],o=this.eventCount,l=this.items,a=!s&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new Yt(e.mapping.maps[c],d,n),h;(h=a&&a.merge(f))&&(f=h,c?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(o++,n=void 0),s||(a=f)}let u=o-r.depth;return u>PO&&(l=NO(l,u),o-=u),new Vt(l.append(i),o)}remapping(e,n){let r=new vs;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Vt(this.items.append(e.map(n=>new Yt(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},s);let a=n;this.items.forEach(f=>{let h=i.getMirror(--a);if(h==null)return;o=Math.min(o,h);let p=i.maps[h];if(f.step){let y=e.steps[h].invert(e.docs[h]),x=f.selection&&f.selection.map(i.slice(a+1,h));x&&l++,r.push(new Yt(p,y,x))}else r.push(new Yt(p))},s);let u=[];for(let f=n;f<o;f++)u.push(new Yt(i.maps[f]));let c=this.items.slice(0,s).append(u).append(r),d=new Vt(c,l);return d.emptyItemCount()>TO&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let a=o.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=o.selection&&o.selection.map(n.slice(r));c&&i++;let d=new Yt(u.invert(),a,c),f,h=s.length-1;(f=s.length&&s[h].merge(d))?s[h]=f:s.push(d)}}else o.map&&r--},this.items.length,0),new Vt(Fe.from(s.reverse()),i)}}Vt.empty=new Vt(Fe.empty,0);function NO(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Yt{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Yt(n.getMap().invert(),n,this.selection)}}}class Nn{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const PO=20;function AO(t,e,n,r){let s=n.getMeta(Xn),i;if(s)return s.historyState;n.getMeta(RO)&&(t=new Nn(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Xn))return o.getMeta(Xn).redo?new Nn(t.done.addTransform(n,void 0,r,Wo(e)),t.undone,sm(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new Nn(t.done,t.undone.addTransform(n,void 0,r,Wo(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!DO(n,t.prevRanges)),u=o?xu(t.prevRanges,n.mapping):sm(n.mapping.maps[n.steps.length-1]);return new Nn(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Wo(e)),Vt.empty,u,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Nn(t.done.rebased(n,i),t.undone.rebased(n,i),xu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Nn(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),xu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function DO(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function sm(t){let e=[];return t.forEach((n,r,s,i)=>e.push(s,i)),e}function xu(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function xv(t,e,n,r){let s=Wo(e),i=Xn.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,s);if(!o)return;let l=o.selection.resolve(o.transform.doc),a=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,s),u=new Nn(r?a:o.remaining,r?o.remaining:a,null,0,-1);n(o.transform.setSelection(l).setMeta(Xn,{redo:r,historyState:u}).scrollIntoView())}let Su=!1,im=null;function Wo(t){let e=t.plugins;if(im!=e){Su=!1,im=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Su=!0;break}}return Su}const Xn=new lr("history"),RO=new lr("closeHistory");function jO(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Rt({key:Xn,state:{init(){return new Nn(Vt.empty,Vt.empty,null,0,-1)},apply(e,n,r){return AO(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?Sv:r=="historyRedo"?wv:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}const Sv=(t,e)=>{let n=Xn.getState(t);return!n||n.done.eventCount==0?!1:(e&&xv(n,t,e,!1),!0)},wv=(t,e)=>{let n=Xn.getState(t);return!n||n.undone.eventCount==0?!1:(e&&xv(n,t,e,!0),!0)},IO=ht.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Sv(t,e),redo:()=>({state:t,dispatch:e})=>wv(t,e)}},addProseMirrorPlugins(){return[jO(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),FO=Xe.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Oe(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:s}=e.selection,i=s.end();if(s.nodeAfter)e.setSelection(G.create(e.doc,s.pos));else{const o=(r=s.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();o&&(e.insert(i,o),e.setSelection(G.create(e.doc,i)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[UE({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),LO=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,_O=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,zO=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,BO=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,VO=Kt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Is({find:LO,type:this.type}),Is({find:zO,type:this.type})]},addPasteRules(){return[Fs({find:_O,type:this.type}),Fs({find:BO,type:this.type})]}}),Cv=Xe.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Oe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),$O=Xe.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Oe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),om=Kt.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=so(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),lm=/^(\d+)\.\s$/,UO=Xe.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Oe(this.options.HTMLAttributes,n),0]:["ol",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($O.name,this.editor.getAttributes(om.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ki({find:lm,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ki({find:lm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(om.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),HO=Xe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),WO=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,qO=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,KO=Kt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Is({find:WO,type:this.type})]},addPasteRules(){return[Fs({find:qO,type:this.type})]}}),QO=Xe.create({name:"text",group:"inline"}),JO=ht.create({name:"starterKit",addExtensions(){var t,e,n,r,s,i,o,l,a,u,c,d,f,h,p,y,x,g;const m=[];return this.options.blockquote!==!1&&m.push(ZE.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&m.push(sO.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&m.push(oO.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&m.push(uO.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&m.push(fO.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&m.push(hO.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&m.push(gO.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&m.push(bO.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&m.push(MO.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&m.push(EO.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&m.push(IO.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&m.push(FO.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&m.push(VO.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&m.push(Cv.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&m.push(UO.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&m.push(HO.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&m.push(KO.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&m.push(QO.configure((g=this.options)===null||g===void 0?void 0:g.text)),m}}),GO=Kt.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Oe(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=so(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),YO=ht.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),XO=({editor:t})=>{if(!t)return null;const e="border-2 border-zinc-500 px-1 rounded-md bg-zinc-500 text-white",n="border-2 border-zinc-300 px-1 rounded-md ";return w.jsxs(w.Fragment,{children:[w.jsx("button",{className:n,onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),w.jsx("button",{className:n,onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"}),"mark |",w.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?e:n,children:w.jsx("strong",{children:"b"})}),w.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?e:n,children:w.jsx("em",{children:"italic"})}),w.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:t.isActive("strike")?e+"line-through":n+"line-through",children:"strike"}),w.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!t.can().chain().focus().toggleCode().run(),className:t.isActive("code")?e:n,children:"``"}),w.jsx("button",{className:n,onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear"}),"node |",w.jsx("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?e:n,children:"p"}),w.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?e:n,children:"#"}),w.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?e:n,children:"##"}),w.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?e:n,children:"###"}),w.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?e:n,children:"-"}),w.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?e:n,children:"1."}),w.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:t.isActive("codeBlock")?e:n,children:"```"}),w.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?e:n,children:">"}),w.jsx("button",{className:n,onClick:()=>t.chain().focus().clearNodes().run(),children:"clear"}),"etc |",w.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),className:n,children:"---"}),w.jsx("button",{className:n,onClick:()=>t.chain().focus().setHardBreak().run(),children:"br"}),"color |",w.jsx("button",{onClick:()=>t.chain().focus().setColor("#958DF1").run(),className:t.isActive("textStyle",{color:"#958DF1"})?e:n+"text-[#958DF1]",children:"purple"})]})};function ZO(){const[t,e]=P.useState({title:"title",content:"hello world"});P.useEffect(()=>{},[]);const n=s=>{const i=s.target;e(o=>({content:o.content,title:i.value}))},r=YE({editorProps:{attributes:{class:"outline-none px-10 py-5 bg-white h-full overflow-y-scroll"}},extensions:[YO.configure({types:[GO.name,Cv.name]}),JO.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],content:t.content});return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"w-screen h-screen bg-zinc-100 flex flex-col",children:[w.jsx(Jy,{name:"user"}),w.jsx("div",{className:"w-full h-[48px] flex-none",children:"header space"}),w.jsx("input",{value:t.title,onChange:n,type:"text",placeholder:"title",className:"flex-none w-full font-bold text-4xl px-10 outline-none leading-3"}),w.jsx("div",{className:"flex gap-1 flex-wrap text-zinc-400 flex-none",children:w.jsx(XO,{editor:r})}),w.jsx(KE,{editor:r,className:"flex-grow outline-none w-full h-full text-zinc-500 overflow-clip"}),w.jsx("div",{className:"w-full h-24 bg-slate-300 flex-none flex flex-col justify-center text-center text-white text-2xl",children:""}),w.jsx($d,{})]})})}function e2(){return w.jsxs("footer",{className:"absolute bottom-0 w-full h-[180px] bg-zinc-100",children:[w.jsxs("div",{className:"fixed bottom-[60px] right-0 w-full h-[120px] px-6 text-center items-center flex flex-col gap-2 ",children:[w.jsx("button",{className:"w-full h-[60px] bg-zinc-300 rounded-full",children:""}),w.jsx("div",{className:"w-full h-[60px] flex justify-center",children:w.jsx("button",{className:"w-fit h-fit right-0 text-zinc-400 border-b-2 border-zinc-400 m-auto",children:""})})]}),w.jsx($d,{})]})}const t2=t=>(console.log(t),"-");function n2(){const t=Tx();console.log(t);const e=zr().pathname.replace("/mypage/",""),n=t2(e);return w.jsxs("div",{className:"w-screen h-screen relative overflow-hidden bg-zinc-100",children:[w.jsx(Jy,{name:n}),w.jsxs("section",{className:"translate-y-12 w-full h-full px-6 overflow-y-scroll scrollbar-hide",children:[r2.map((r,s)=>w.jsx("div",{className:"mt-4 px-5 pt-3 pb-5 w-full h-fit border rounded-[20px] bg-white ",children:w.jsxs("div",{className:"w-full max-h-[80vh] flex flex-col gap-1 overflow-hidden",children:[w.jsxs("div",{className:"flex font-bold text-base justify-between ",children:[w.jsx("div",{className:"",children:r.title}),w.jsxs("div",{className:"",children:[" ",r.date]})]}),w.jsx("div",{className:"h-full text-xs overflow-hidden ",children:r.content})]})},r.title+s)),w.jsx("div",{className:"w-full h-[280px] "})]}),w.jsx(e2,{})]})}const r2=[{title:"wrote",date:"8/1/2122",content:`eaYbVeHsXREnonRLgkCQ Lorem lasdsad
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		`,tag:""},{title:"bright",date:"1/22/2116",content:"EgcjPpuoZCRRw",tag:""},{title:"paragraph",date:"2/3/2034",content:"sJTXRHXOCoEzyIH",tag:""},{title:"arrow",date:"8/17/2023",content:"jGsMOuBAMumTE",tag:""},{title:"claws",date:"5/5/2069",content:"jjojRF",tag:""},{title:"upward",date:"7/20/2047",content:"ZzvjXHZXeJJadfi",tag:""},{title:"detail",date:"2/13/2087",content:"fyBMOejdsnWyKzBctVh",tag:""},{title:"especially",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""},{title:"especially",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""},{title:"especially",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""},{title:"end post",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""}],s2="/ilsang-0gam";function i2(){return w.jsx(Qx,{basename:s2,children:w.jsxs($x,{children:[w.jsx(Wr,{path:"/",element:w.jsx(Zx,{})}),w.jsx(Wr,{path:"/signup",element:w.jsx(tS,{})}),w.jsx(Wr,{path:"/main",element:w.jsx(rw,{})}),w.jsx(Wr,{path:"/post/:id",element:w.jsx(ZO,{})}),w.jsx(Wr,{path:"/mypage/:id",element:w.jsx(n2,{})})]})})}var bv={exports:{}};bv.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};var o2=bv.exports;function l2(){return w.jsxs(w.Fragment,{children:[w.jsx(i2,{}),w.jsx(o2.ReactQueryDevtools,{})]})}const a2=new HS;wu.createRoot(document.getElementById("root")).render(w.jsx(X.StrictMode,{children:w.jsx(GS,{client:a2,children:w.jsx(l2,{})})}));
