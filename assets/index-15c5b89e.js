function _0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ap={exports:{}},El={},Dp={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=Symbol.for("react.element"),V0=Symbol.for("react.portal"),$0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),U0=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),Q0=Symbol.for("react.memo"),G0=Symbol.for("react.lazy"),Qc=Symbol.iterator;function Y0(t){return t===null||typeof t!="object"?null:(t=Qc&&t[Qc]||t["@@iterator"],typeof t=="function"?t:null)}var Pp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Ip={};function As(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Pp}As.prototype.isReactComponent={};As.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};As.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lp(){}Lp.prototype=As.prototype;function Sd(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Pp}var wd=Sd.prototype=new Lp;wd.constructor=Sd;Rp(wd,As.prototype);wd.isPureReactComponent=!0;var Gc=Array.isArray,zp=Object.prototype.hasOwnProperty,Cd={current:null},Fp={key:!0,ref:!0,__self:!0,__source:!0};function Bp(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zp.call(e,r)&&!Fp.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:_i,type:t,key:i,ref:o,props:s,_owner:Cd.current}}function X0(t,e){return{$$typeof:_i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Md(t){return typeof t=="object"&&t!==null&&t.$$typeof===_i}function Z0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yc=/\/+/g;function ra(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z0(""+t.key):e.toString(36)}function vo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _i:case V0:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ra(o,0):r,Gc(s)?(n="",t!=null&&(n=t.replace(Yc,"$&/")+"/"),vo(s,e,n,"",function(u){return u})):s!=null&&(Md(s)&&(s=X0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yc,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Gc(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+ra(i,l);o+=vo(i,e,n,a,s)}else if(a=Y0(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+ra(i,l++),o+=vo(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yi(t,e,n){if(t==null)return t;var r=[],s=0;return vo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function e1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},xo={transition:null},t1={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:xo,ReactCurrentOwner:Cd};Y.Children={map:Yi,forEach:function(t,e,n){Yi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yi(t,function(){e++}),e},toArray:function(t){return Yi(t,function(e){return e})||[]},only:function(t){if(!Md(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=As;Y.Fragment=$0;Y.Profiler=U0;Y.PureComponent=Sd;Y.StrictMode=H0;Y.Suspense=q0;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t1;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)zp.call(e,a)&&!Fp.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_i,type:t.type,key:s,ref:i,props:r,_owner:o}};Y.createContext=function(t){return t={$$typeof:K0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W0,_context:t},t.Consumer=t};Y.createElement=Bp;Y.createFactory=function(t){var e=Bp.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:J0,render:t}};Y.isValidElement=Md;Y.lazy=function(t){return{$$typeof:G0,_payload:{_status:-1,_result:t},_init:e1}};Y.memo=function(t,e){return{$$typeof:Q0,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=xo.transition;xo.transition={};try{t()}finally{xo.transition=e}};Y.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Y.useCallback=function(t,e){return tt.current.useCallback(t,e)};Y.useContext=function(t){return tt.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};Y.useEffect=function(t,e){return tt.current.useEffect(t,e)};Y.useId=function(){return tt.current.useId()};Y.useImperativeHandle=function(t,e,n){return tt.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return tt.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return tt.current.useReducer(t,e,n)};Y.useRef=function(t){return tt.current.useRef(t)};Y.useState=function(t){return tt.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return tt.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return tt.current.useTransition()};Y.version="18.2.0";Dp.exports=Y;var j=Dp.exports;const ke=jp(j),n1=_0({__proto__:null,default:ke},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=j,s1=Symbol.for("react.element"),i1=Symbol.for("react.fragment"),o1=Object.prototype.hasOwnProperty,l1=r1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a1={key:!0,ref:!0,__self:!0,__source:!0};function _p(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)o1.call(e,r)&&!a1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:s1,type:t,key:i,ref:o,props:s,_owner:l1.current}}El.Fragment=i1;El.jsx=_p;El.jsxs=_p;Ap.exports=El;var S=Ap.exports,su={},Vp={exports:{}},yt={},$p={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,H){var U=P.length;P.push(H);e:for(;0<U;){var oe=U-1>>>1,me=P[oe];if(0<s(me,H))P[oe]=H,P[U]=me,U=oe;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var H=P[0],U=P.pop();if(U!==H){P[0]=U;e:for(var oe=0,me=P.length,Ir=me>>>1;oe<Ir;){var Wt=2*(oe+1)-1,zs=P[Wt],At=Wt+1,kn=P[At];if(0>s(zs,U))At<me&&0>s(kn,zs)?(P[oe]=kn,P[At]=U,oe=At):(P[oe]=zs,P[Wt]=U,oe=Wt);else if(At<me&&0>s(kn,U))P[oe]=kn,P[At]=U,oe=At;else break e}}return H}function s(P,H){var U=P.sortIndex-H.sortIndex;return U!==0?U:P.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,c=null,f=3,h=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(P){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=P)r(u),H.sortIndex=H.expirationTime,e(a,H);else break;H=n(u)}}function w(P){if(y=!1,k(P),!p)if(n(a)!==null)p=!0,_e(M);else{var H=n(u);H!==null&&rt(w,H.startTime-P)}}function M(P,H){p=!1,y&&(y=!1,g(b),b=-1),h=!0;var U=f;try{for(k(H),c=n(a);c!==null&&(!(c.expirationTime>H)||P&&!ae());){var oe=c.callback;if(typeof oe=="function"){c.callback=null,f=c.priorityLevel;var me=oe(c.expirationTime<=H);H=t.unstable_now(),typeof me=="function"?c.callback=me:c===n(a)&&r(a),k(H)}else r(a);c=n(a)}if(c!==null)var Ir=!0;else{var Wt=n(u);Wt!==null&&rt(w,Wt.startTime-H),Ir=!1}return Ir}finally{c=null,f=U,h=!1}}var A=!1,D=null,b=-1,W=5,$=-1;function ae(){return!(t.unstable_now()-$<W)}function G(){if(D!==null){var P=t.unstable_now();$=P;var H=!0;try{H=D(!0,P)}finally{H?K():(A=!1,D=null)}}else A=!1}var K;if(typeof m=="function")K=function(){m(G)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Be=ie.port2;ie.port1.onmessage=G,K=function(){Be.postMessage(null)}}else K=function(){x(G,0)};function _e(P){D=P,A||(A=!0,K())}function rt(P,H){b=x(function(){P(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,_e(M))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return P()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=f;f=P;try{return H()}finally{f=U}},t.unstable_scheduleCallback=function(P,H,U){var oe=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?oe+U:oe):U=oe,P){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=U+me,P={id:d++,callback:H,priorityLevel:P,startTime:U,expirationTime:me,sortIndex:-1},U>oe?(P.sortIndex=U,e(u,P),n(a)===null&&P===n(u)&&(y?(g(b),b=-1):y=!0,rt(w,U-oe))):(P.sortIndex=me,e(a,P),p||h||(p=!0,_e(M))),P},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(P){var H=f;return function(){var U=f;f=H;try{return P.apply(this,arguments)}finally{f=U}}}})(Hp);$p.exports=Hp;var u1=$p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up=j,gt=u1;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,mi={};function Dr(t,e){gs(t,e),gs(t+"Capture",e)}function gs(t,e){for(mi[t]=e,t=0;t<e.length;t++)Wp.add(e[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=Object.prototype.hasOwnProperty,d1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xc={},Zc={};function c1(t){return iu.call(Zc,t)?!0:iu.call(Xc,t)?!1:d1.test(t)?Zc[t]=!0:(Xc[t]=!0,!1)}function f1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h1(t,e,n,r){if(e===null||typeof e>"u"||f1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function bd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ed,bd);Fe[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ed,bd);Fe[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ed,bd);Fe[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nd(t,e,n,r){var s=Fe.hasOwnProperty(e)?Fe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h1(e,n,s,r)&&(n=null),r||s===null?c1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yn=Up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),ou=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),lu=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),jd=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),qp=Symbol.for("react.offscreen"),ef=Symbol.iterator;function Fs(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,sa;function Qs(t){if(sa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sa=e&&e[1]||""}return`
`+sa+t}var ia=!1;function oa(t,e){if(!t||ia)return"";ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{ia=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function p1(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=oa(t.type,!1),t;case 11:return t=oa(t.type.render,!1),t;case 1:return t=oa(t.type,!0),t;default:return""}}function uu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hr:return"Fragment";case $r:return"Portal";case ou:return"Profiler";case Td:return"StrictMode";case lu:return"Suspense";case au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jp:return(t.displayName||"Context")+".Consumer";case Kp:return(t._context.displayName||"Context")+".Provider";case Od:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jd:return e=t.displayName||null,e!==null?e:uu(t.type)||"Memo";case Cn:e=t._payload,t=t._init;try{return uu(t(e))}catch{}}return null}function m1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uu(e);case 8:return e===Td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g1(t){var e=Qp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zi(t){t._valueTracker||(t._valueTracker=g1(t))}function Gp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Qp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Io(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function du(t,e){var n=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yp(t,e){e=e.checked,e!=null&&Nd(t,"checked",e,!1)}function cu(t,e){Yp(t,e);var n=Qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fu(t,e.type,n):e.hasOwnProperty("defaultValue")&&fu(t,e.type,Qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fu(t,e,n){(e!=="number"||Io(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gs=Array.isArray;function rs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Gs(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qn(n)}}function Xp(t,e){var n=Qn(e.value),r=Qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eo,em=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y1=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(t){y1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ni[e]=ni[t]})});function tm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ni.hasOwnProperty(t)&&ni[t]?(""+e).trim():e+"px"}function nm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var k1=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mu(t,e){if(e){if(k1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function gu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=null;function Ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ku=null,ss=null,is=null;function of(t){if(t=Hi(t)){if(typeof ku!="function")throw Error(T(280));var e=t.stateNode;e&&(e=jl(e),ku(t.stateNode,t.type,e))}}function rm(t){ss?is?is.push(t):is=[t]:ss=t}function sm(){if(ss){var t=ss,e=is;if(is=ss=null,of(t),e)for(t=0;t<e.length;t++)of(e[t])}}function im(t,e){return t(e)}function om(){}var la=!1;function lm(t,e,n){if(la)return t(e,n);la=!0;try{return im(t,e,n)}finally{la=!1,(ss!==null||is!==null)&&(om(),sm())}}function yi(t,e){var n=t.stateNode;if(n===null)return null;var r=jl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var vu=!1;if(hn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){vu=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{vu=!1}function v1(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ri=!1,Lo=null,zo=!1,xu=null,x1={onError:function(t){ri=!0,Lo=t}};function S1(t,e,n,r,s,i,o,l,a){ri=!1,Lo=null,v1.apply(x1,arguments)}function w1(t,e,n,r,s,i,o,l,a){if(S1.apply(this,arguments),ri){if(ri){var u=Lo;ri=!1,Lo=null}else throw Error(T(198));zo||(zo=!0,xu=u)}}function Pr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function am(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lf(t){if(Pr(t)!==t)throw Error(T(188))}function C1(t){var e=t.alternate;if(!e){if(e=Pr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lf(s),t;if(i===r)return lf(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function um(t){return t=C1(t),t!==null?dm(t):null}function dm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dm(t);if(e!==null)return e;t=t.sibling}return null}var cm=gt.unstable_scheduleCallback,af=gt.unstable_cancelCallback,M1=gt.unstable_shouldYield,E1=gt.unstable_requestPaint,ve=gt.unstable_now,b1=gt.unstable_getCurrentPriorityLevel,Dd=gt.unstable_ImmediatePriority,fm=gt.unstable_UserBlockingPriority,Fo=gt.unstable_NormalPriority,N1=gt.unstable_LowPriority,hm=gt.unstable_IdlePriority,bl=null,en=null;function T1(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(bl,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:A1,O1=Math.log,j1=Math.LN2;function A1(t){return t>>>=0,t===0?32:31-(O1(t)/j1|0)|0}var to=64,no=4194304;function Ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ys(l):(i&=o,i!==0&&(r=Ys(i)))}else o=n&~s,o!==0?r=Ys(o):i!==0&&(r=Ys(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),s=1<<n,r|=t[n],e&=~s;return r}function D1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=D1(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pm(){var t=to;return to<<=1,!(to&4194240)&&(to=64),t}function aa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function R1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Z=0;function mm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gm,Rd,ym,km,vm,wu=!1,ro=[],Ln=null,zn=null,Fn=null,ki=new Map,vi=new Map,bn=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(t,e){switch(t){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":ki.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(e.pointerId)}}function _s(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hi(e),e!==null&&Rd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function L1(t,e,n,r,s){switch(e){case"focusin":return Ln=_s(Ln,t,e,n,r,s),!0;case"dragenter":return zn=_s(zn,t,e,n,r,s),!0;case"mouseover":return Fn=_s(Fn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ki.set(i,_s(ki.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vi.set(i,_s(vi.get(i)||null,t,e,n,r,s)),!0}return!1}function xm(t){var e=dr(t.target);if(e!==null){var n=Pr(e);if(n!==null){if(e=n.tag,e===13){if(e=am(n),e!==null){t.blockedOn=e,vm(t.priority,function(){ym(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yu=r,n.target.dispatchEvent(r),yu=null}else return e=Hi(n),e!==null&&Rd(e),t.blockedOn=n,!1;e.shift()}return!0}function df(t,e,n){So(t)&&n.delete(e)}function z1(){wu=!1,Ln!==null&&So(Ln)&&(Ln=null),zn!==null&&So(zn)&&(zn=null),Fn!==null&&So(Fn)&&(Fn=null),ki.forEach(df),vi.forEach(df)}function Vs(t,e){t.blockedOn===e&&(t.blockedOn=null,wu||(wu=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,z1)))}function xi(t){function e(s){return Vs(s,t)}if(0<ro.length){Vs(ro[0],t);for(var n=1;n<ro.length;n++){var r=ro[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ln!==null&&Vs(Ln,t),zn!==null&&Vs(zn,t),Fn!==null&&Vs(Fn,t),ki.forEach(e),vi.forEach(e),n=0;n<bn.length;n++)r=bn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)xm(n),n.blockedOn===null&&bn.shift()}var ls=yn.ReactCurrentBatchConfig,_o=!0;function F1(t,e,n,r){var s=Z,i=ls.transition;ls.transition=null;try{Z=1,Id(t,e,n,r)}finally{Z=s,ls.transition=i}}function B1(t,e,n,r){var s=Z,i=ls.transition;ls.transition=null;try{Z=4,Id(t,e,n,r)}finally{Z=s,ls.transition=i}}function Id(t,e,n,r){if(_o){var s=Cu(t,e,n,r);if(s===null)ka(t,e,r,Vo,n),uf(t,r);else if(L1(s,t,e,n,r))r.stopPropagation();else if(uf(t,r),e&4&&-1<I1.indexOf(t)){for(;s!==null;){var i=Hi(s);if(i!==null&&gm(i),i=Cu(t,e,n,r),i===null&&ka(t,e,r,Vo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ka(t,e,r,null,n)}}var Vo=null;function Cu(t,e,n,r){if(Vo=null,t=Ad(r),t=dr(t),t!==null)if(e=Pr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=am(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vo=t,null}function Sm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b1()){case Dd:return 1;case fm:return 4;case Fo:case N1:return 16;case hm:return 536870912;default:return 16}default:return 16}}var On=null,Ld=null,wo=null;function wm(){if(wo)return wo;var t,e=Ld,n=e.length,r,s="value"in On?On.value:On.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wo=s.slice(t,1<r?1-r:void 0)}function Co(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function cf(){return!1}function kt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?so:cf,this.isPropagationStopped=cf,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),e}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=kt(Ds),$i=ce({},Ds,{view:0,detail:0}),_1=kt($i),ua,da,$s,Nl=ce({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(ua=t.screenX-$s.screenX,da=t.screenY-$s.screenY):da=ua=0,$s=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:da}}),ff=kt(Nl),V1=ce({},Nl,{dataTransfer:0}),$1=kt(V1),H1=ce({},$i,{relatedTarget:0}),ca=kt(H1),U1=ce({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),W1=kt(U1),K1=ce({},Ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J1=kt(K1),q1=ce({},Ds,{data:0}),hf=kt(q1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y1[t])?!!e[t]:!1}function Fd(){return X1}var Z1=ce({},$i,{key:function(t){if(t.key){var e=Q1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Co(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(t){return t.type==="keypress"?Co(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Co(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ek=kt(Z1),tk=ce({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=kt(tk),nk=ce({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),rk=kt(nk),sk=ce({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),ik=kt(sk),ok=ce({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lk=kt(ok),ak=[9,13,27,32],Bd=hn&&"CompositionEvent"in window,si=null;hn&&"documentMode"in document&&(si=document.documentMode);var uk=hn&&"TextEvent"in window&&!si,Cm=hn&&(!Bd||si&&8<si&&11>=si),mf=String.fromCharCode(32),gf=!1;function Mm(t,e){switch(t){case"keyup":return ak.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function dk(t,e){switch(t){case"compositionend":return Em(e);case"keypress":return e.which!==32?null:(gf=!0,mf);case"textInput":return t=e.data,t===mf&&gf?null:t;default:return null}}function ck(t,e){if(Ur)return t==="compositionend"||!Bd&&Mm(t,e)?(t=wm(),wo=Ld=On=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cm&&e.locale!=="ko"?null:e.data;default:return null}}var fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fk[t.type]:e==="textarea"}function bm(t,e,n,r){rm(r),e=$o(e,"onChange"),0<e.length&&(n=new zd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ii=null,Si=null;function hk(t){zm(t,0)}function Tl(t){var e=Jr(t);if(Gp(e))return t}function pk(t,e){if(t==="change")return e}var Nm=!1;if(hn){var fa;if(hn){var ha="oninput"in document;if(!ha){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),ha=typeof kf.oninput=="function"}fa=ha}else fa=!1;Nm=fa&&(!document.documentMode||9<document.documentMode)}function vf(){ii&&(ii.detachEvent("onpropertychange",Tm),Si=ii=null)}function Tm(t){if(t.propertyName==="value"&&Tl(Si)){var e=[];bm(e,Si,t,Ad(t)),lm(hk,e)}}function mk(t,e,n){t==="focusin"?(vf(),ii=e,Si=n,ii.attachEvent("onpropertychange",Tm)):t==="focusout"&&vf()}function gk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(Si)}function yk(t,e){if(t==="click")return Tl(e)}function kk(t,e){if(t==="input"||t==="change")return Tl(e)}function vk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:vk;function wi(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iu.call(e,s)||!$t(t[s],e[s]))return!1}return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sf(t,e){var n=xf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xf(n)}}function Om(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Om(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jm(){for(var t=window,e=Io();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Io(t.document)}return e}function _d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xk(t){var e=jm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Om(n.ownerDocument.documentElement,n)){if(r!==null&&_d(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Sf(n,i);var o=Sf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sk=hn&&"documentMode"in document&&11>=document.documentMode,Wr=null,Mu=null,oi=null,Eu=!1;function wf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eu||Wr==null||Wr!==Io(r)||(r=Wr,"selectionStart"in r&&_d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oi&&wi(oi,r)||(oi=r,r=$o(Mu,"onSelect"),0<r.length&&(e=new zd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wr)))}function io(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kr={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},pa={},Am={};hn&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Ol(t){if(pa[t])return pa[t];if(!Kr[t])return t;var e=Kr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Am)return pa[t]=e[n];return t}var Dm=Ol("animationend"),Pm=Ol("animationiteration"),Rm=Ol("animationstart"),Im=Ol("transitionend"),Lm=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){Lm.set(t,e),Dr(e,[t])}for(var ma=0;ma<Cf.length;ma++){var ga=Cf[ma],wk=ga.toLowerCase(),Ck=ga[0].toUpperCase()+ga.slice(1);Xn(wk,"on"+Ck)}Xn(Dm,"onAnimationEnd");Xn(Pm,"onAnimationIteration");Xn(Rm,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Im,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Mf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w1(r,e,void 0,t),t.currentTarget=null}function zm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Mf(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Mf(s,l,u),i=a}}}if(zo)throw t=xu,zo=!1,xu=null,t}function ne(t,e){var n=e[ju];n===void 0&&(n=e[ju]=new Set);var r=t+"__bubble";n.has(r)||(Fm(e,t,2,!1),n.add(r))}function ya(t,e,n){var r=0;e&&(r|=4),Fm(n,t,r,e)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Ci(t){if(!t[oo]){t[oo]=!0,Wp.forEach(function(n){n!=="selectionchange"&&(Mk.has(n)||ya(n,!1,t),ya(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oo]||(e[oo]=!0,ya("selectionchange",!1,e))}}function Fm(t,e,n,r){switch(Sm(e)){case 1:var s=F1;break;case 4:s=B1;break;default:s=Id}n=s.bind(null,e,n,t),s=void 0,!vu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ka(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=dr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}lm(function(){var u=i,d=Ad(n),c=[];e:{var f=Lm.get(t);if(f!==void 0){var h=zd,p=t;switch(t){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":h=ek;break;case"focusin":p="focus",h=ca;break;case"focusout":p="blur",h=ca;break;case"beforeblur":case"afterblur":h=ca;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rk;break;case Dm:case Pm:case Rm:h=W1;break;case Im:h=ik;break;case"scroll":h=_1;break;case"wheel":h=lk;break;case"copy":case"cut":case"paste":h=J1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=pf}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,k;m!==null;){k=m;var w=k.stateNode;if(k.tag===5&&w!==null&&(k=w,g!==null&&(w=yi(m,g),w!=null&&y.push(Mi(m,w,k)))),x)break;m=m.return}0<y.length&&(f=new h(f,p,null,n,d),c.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==yu&&(p=n.relatedTarget||n.fromElement)&&(dr(p)||p[pn]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?dr(p):null,p!==null&&(x=Pr(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=ff,w="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=pf,w="onPointerLeave",g="onPointerEnter",m="pointer"),x=h==null?f:Jr(h),k=p==null?f:Jr(p),f=new y(w,m+"leave",h,n,d),f.target=x,f.relatedTarget=k,w=null,dr(d)===u&&(y=new y(g,m+"enter",p,n,d),y.target=k,y.relatedTarget=x,w=y),x=w,h&&p)t:{for(y=h,g=p,m=0,k=y;k;k=zr(k))m++;for(k=0,w=g;w;w=zr(w))k++;for(;0<m-k;)y=zr(y),m--;for(;0<k-m;)g=zr(g),k--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=zr(y),g=zr(g)}y=null}else y=null;h!==null&&Ef(c,f,h,y,!1),p!==null&&x!==null&&Ef(c,x,p,y,!0)}}e:{if(f=u?Jr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var M=pk;else if(yf(f))if(Nm)M=kk;else{M=gk;var A=mk}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=yk);if(M&&(M=M(t,u))){bm(c,M,n,d);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&fu(f,"number",f.value)}switch(A=u?Jr(u):window,t){case"focusin":(yf(A)||A.contentEditable==="true")&&(Wr=A,Mu=u,oi=null);break;case"focusout":oi=Mu=Wr=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,wf(c,n,d);break;case"selectionchange":if(Sk)break;case"keydown":case"keyup":wf(c,n,d)}var D;if(Bd)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ur?Mm(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Cm&&n.locale!=="ko"&&(Ur||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ur&&(D=wm()):(On=d,Ld="value"in On?On.value:On.textContent,Ur=!0)),A=$o(u,b),0<A.length&&(b=new hf(b,t,null,n,d),c.push({event:b,listeners:A}),D?b.data=D:(D=Em(n),D!==null&&(b.data=D)))),(D=uk?dk(t,n):ck(t,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(d=new hf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=D))}zm(c,e)})}function Mi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $o(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yi(t,n),i!=null&&r.unshift(Mi(t,i,s)),i=yi(t,e),i!=null&&r.push(Mi(t,i,s))),t=t.return}return r}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ef(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=yi(n,i),a!=null&&o.unshift(Mi(n,a,l))):s||(a=yi(n,i),a!=null&&o.push(Mi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ek=/\r\n?/g,bk=/\u0000|\uFFFD/g;function bf(t){return(typeof t=="string"?t:""+t).replace(Ek,`
`).replace(bk,"")}function lo(t,e,n){if(e=bf(e),bf(t)!==e&&n)throw Error(T(425))}function Ho(){}var bu=null,Nu=null;function Tu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Nf=typeof Promise=="function"?Promise:void 0,Tk=typeof queueMicrotask=="function"?queueMicrotask:typeof Nf<"u"?function(t){return Nf.resolve(null).then(t).catch(Ok)}:Ou;function Ok(t){setTimeout(function(){throw t})}function va(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xi(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ps,Ei="__reactProps$"+Ps,pn="__reactContainer$"+Ps,ju="__reactEvents$"+Ps,jk="__reactListeners$"+Ps,Ak="__reactHandles$"+Ps;function dr(t){var e=t[Qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pn]||n[Qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tf(t);t!==null;){if(n=t[Qt])return n;t=Tf(t)}return e}t=n,n=t.parentNode}return null}function Hi(t){return t=t[Qt]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function jl(t){return t[Ei]||null}var Au=[],qr=-1;function Zn(t){return{current:t}}function se(t){0>qr||(t.current=Au[qr],Au[qr]=null,qr--)}function te(t,e){qr++,Au[qr]=t.current,t.current=e}var Gn={},Je=Zn(Gn),ot=Zn(!1),Mr=Gn;function ys(t,e){var n=t.type.contextTypes;if(!n)return Gn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function lt(t){return t=t.childContextTypes,t!=null}function Uo(){se(ot),se(Je)}function Of(t,e,n){if(Je.current!==Gn)throw Error(T(168));te(Je,e),te(ot,n)}function Bm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,m1(t)||"Unknown",s));return ce({},n,r)}function Wo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,Mr=Je.current,te(Je,t),te(ot,ot.current),!0}function jf(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Bm(t,e,Mr),r.__reactInternalMemoizedMergedChildContext=t,se(ot),se(Je),te(Je,t)):se(ot),te(ot,n)}var an=null,Al=!1,xa=!1;function _m(t){an===null?an=[t]:an.push(t)}function Dk(t){Al=!0,_m(t)}function er(){if(!xa&&an!==null){xa=!0;var t=0,e=Z;try{var n=an;for(Z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}an=null,Al=!1}catch(s){throw an!==null&&(an=an.slice(t+1)),cm(Dd,er),s}finally{Z=e,xa=!1}}return null}var Qr=[],Gr=0,Ko=null,Jo=0,St=[],wt=0,Er=null,un=1,dn="";function ir(t,e){Qr[Gr++]=Jo,Qr[Gr++]=Ko,Ko=t,Jo=e}function Vm(t,e,n){St[wt++]=un,St[wt++]=dn,St[wt++]=Er,Er=t;var r=un;t=dn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var i=32-Bt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,un=1<<32-Bt(e)+s|n<<s|r,dn=i+t}else un=1<<i|n<<s|r,dn=t}function Vd(t){t.return!==null&&(ir(t,1),Vm(t,1,0))}function $d(t){for(;t===Ko;)Ko=Qr[--Gr],Qr[Gr]=null,Jo=Qr[--Gr],Qr[Gr]=null;for(;t===Er;)Er=St[--wt],St[wt]=null,dn=St[--wt],St[wt]=null,un=St[--wt],St[wt]=null}var mt=null,pt=null,le=!1,It=null;function $m(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Af(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Er!==null?{id:un,overflow:dn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mt=t,pt=null,!0):!1;default:return!1}}function Du(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pu(t){if(le){var e=pt;if(e){var n=e;if(!Af(t,e)){if(Du(t))throw Error(T(418));e=Bn(n.nextSibling);var r=mt;e&&Af(t,e)?$m(r,n):(t.flags=t.flags&-4097|2,le=!1,mt=t)}}else{if(Du(t))throw Error(T(418));t.flags=t.flags&-4097|2,le=!1,mt=t}}}function Df(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function ao(t){if(t!==mt)return!1;if(!le)return Df(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tu(t.type,t.memoizedProps)),e&&(e=pt)){if(Du(t))throw Hm(),Error(T(418));for(;e;)$m(t,e),e=Bn(e.nextSibling)}if(Df(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=Bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?Bn(t.stateNode.nextSibling):null;return!0}function Hm(){for(var t=pt;t;)t=Bn(t.nextSibling)}function ks(){pt=mt=null,le=!1}function Hd(t){It===null?It=[t]:It.push(t)}var Pk=yn.ReactCurrentBatchConfig;function Pt(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qo=Zn(null),Qo=null,Yr=null,Ud=null;function Wd(){Ud=Yr=Qo=null}function Kd(t){var e=qo.current;se(qo),t._currentValue=e}function Ru(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function as(t,e){Qo=t,Ud=Yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function Tt(t){var e=t._currentValue;if(Ud!==t)if(t={context:t,memoizedValue:e,next:null},Yr===null){if(Qo===null)throw Error(T(308));Yr=t,Qo.dependencies={lanes:0,firstContext:t}}else Yr=Yr.next=t;return e}var cr=null;function Jd(t){cr===null?cr=[t]:cr.push(t)}function Um(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Jd(e)):(n.next=s.next,s.next=n),e.interleaved=n,mn(t,r)}function mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _n(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,mn(t,n)}return s=r.interleaved,s===null?(e.next=e,Jd(r)):(e.next=s.next,s.next=e),r.interleaved=e,mn(t,n)}function Mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pd(t,n)}}function Pf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Go(t,e,n,r){var s=t.updateQueue;Mn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var c=s.baseState;o=0,d=u=a=null,l=i;do{var f=l.lane,h=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,y=l;switch(f=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){c=p.call(h,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,c,f):p,f==null)break e;c=ce({},c,f);break e;case 2:Mn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,a=c):d=d.next=h,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Nr|=o,t.lanes=o,t.memoizedState=c}}function Rf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Km=new Up.Component().refs;function Iu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dl={isMounted:function(t){return(t=t._reactInternals)?Pr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),s=$n(t),i=cn(r,s);i.payload=e,n!=null&&(i.callback=n),e=_n(t,i,s),e!==null&&(_t(e,t,s,r),Mo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),s=$n(t),i=cn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_n(t,i,s),e!==null&&(_t(e,t,s,r),Mo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=$n(t),s=cn(n,r);s.tag=2,e!=null&&(s.callback=e),e=_n(t,s,r),e!==null&&(_t(e,t,r,n),Mo(e,t,r))}};function If(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wi(n,r)||!wi(s,i):!0}function Jm(t,e,n){var r=!1,s=Gn,i=e.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(s=lt(e)?Mr:Je.current,r=e.contextTypes,i=(r=r!=null)?ys(t,s):Gn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Lf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dl.enqueueReplaceState(e,e.state,null)}function Lu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Km,qd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Tt(i):(i=lt(e)?Mr:Je.current,s.context=ys(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Iu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Dl.enqueueReplaceState(s,s.state,null),Go(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;l===Km&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function uo(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zf(t){var e=t._init;return e(t._payload)}function qm(t){function e(g,m){if(t){var k=g.deletions;k===null?(g.deletions=[m],g.flags|=16):k.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Hn(g,m),g.index=0,g.sibling=null,g}function i(g,m,k){return g.index=k,t?(k=g.alternate,k!==null?(k=k.index,k<m?(g.flags|=2,m):k):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,k,w){return m===null||m.tag!==6?(m=Na(k,g.mode,w),m.return=g,m):(m=s(m,k),m.return=g,m)}function a(g,m,k,w){var M=k.type;return M===Hr?d(g,m,k.props.children,w,k.key):m!==null&&(m.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Cn&&zf(M)===m.type)?(w=s(m,k.props),w.ref=Hs(g,m,k),w.return=g,w):(w=jo(k.type,k.key,k.props,null,g.mode,w),w.ref=Hs(g,m,k),w.return=g,w)}function u(g,m,k,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==k.containerInfo||m.stateNode.implementation!==k.implementation?(m=Ta(k,g.mode,w),m.return=g,m):(m=s(m,k.children||[]),m.return=g,m)}function d(g,m,k,w,M){return m===null||m.tag!==7?(m=kr(k,g.mode,w,M),m.return=g,m):(m=s(m,k),m.return=g,m)}function c(g,m,k){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Na(""+m,g.mode,k),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xi:return k=jo(m.type,m.key,m.props,null,g.mode,k),k.ref=Hs(g,null,m),k.return=g,k;case $r:return m=Ta(m,g.mode,k),m.return=g,m;case Cn:var w=m._init;return c(g,w(m._payload),k)}if(Gs(m)||Fs(m))return m=kr(m,g.mode,k,null),m.return=g,m;uo(g,m)}return null}function f(g,m,k,w){var M=m!==null?m.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return M!==null?null:l(g,m,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xi:return k.key===M?a(g,m,k,w):null;case $r:return k.key===M?u(g,m,k,w):null;case Cn:return M=k._init,f(g,m,M(k._payload),w)}if(Gs(k)||Fs(k))return M!==null?null:d(g,m,k,w,null);uo(g,k)}return null}function h(g,m,k,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(k)||null,l(m,g,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xi:return g=g.get(w.key===null?k:w.key)||null,a(m,g,w,M);case $r:return g=g.get(w.key===null?k:w.key)||null,u(m,g,w,M);case Cn:var A=w._init;return h(g,m,k,A(w._payload),M)}if(Gs(w)||Fs(w))return g=g.get(k)||null,d(m,g,w,M,null);uo(m,w)}return null}function p(g,m,k,w){for(var M=null,A=null,D=m,b=m=0,W=null;D!==null&&b<k.length;b++){D.index>b?(W=D,D=null):W=D.sibling;var $=f(g,D,k[b],w);if($===null){D===null&&(D=W);break}t&&D&&$.alternate===null&&e(g,D),m=i($,m,b),A===null?M=$:A.sibling=$,A=$,D=W}if(b===k.length)return n(g,D),le&&ir(g,b),M;if(D===null){for(;b<k.length;b++)D=c(g,k[b],w),D!==null&&(m=i(D,m,b),A===null?M=D:A.sibling=D,A=D);return le&&ir(g,b),M}for(D=r(g,D);b<k.length;b++)W=h(D,g,b,k[b],w),W!==null&&(t&&W.alternate!==null&&D.delete(W.key===null?b:W.key),m=i(W,m,b),A===null?M=W:A.sibling=W,A=W);return t&&D.forEach(function(ae){return e(g,ae)}),le&&ir(g,b),M}function y(g,m,k,w){var M=Fs(k);if(typeof M!="function")throw Error(T(150));if(k=M.call(k),k==null)throw Error(T(151));for(var A=M=null,D=m,b=m=0,W=null,$=k.next();D!==null&&!$.done;b++,$=k.next()){D.index>b?(W=D,D=null):W=D.sibling;var ae=f(g,D,$.value,w);if(ae===null){D===null&&(D=W);break}t&&D&&ae.alternate===null&&e(g,D),m=i(ae,m,b),A===null?M=ae:A.sibling=ae,A=ae,D=W}if($.done)return n(g,D),le&&ir(g,b),M;if(D===null){for(;!$.done;b++,$=k.next())$=c(g,$.value,w),$!==null&&(m=i($,m,b),A===null?M=$:A.sibling=$,A=$);return le&&ir(g,b),M}for(D=r(g,D);!$.done;b++,$=k.next())$=h(D,g,b,$.value,w),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?b:$.key),m=i($,m,b),A===null?M=$:A.sibling=$,A=$);return t&&D.forEach(function(G){return e(g,G)}),le&&ir(g,b),M}function x(g,m,k,w){if(typeof k=="object"&&k!==null&&k.type===Hr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Xi:e:{for(var M=k.key,A=m;A!==null;){if(A.key===M){if(M=k.type,M===Hr){if(A.tag===7){n(g,A.sibling),m=s(A,k.props.children),m.return=g,g=m;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Cn&&zf(M)===A.type){n(g,A.sibling),m=s(A,k.props),m.ref=Hs(g,A,k),m.return=g,g=m;break e}n(g,A);break}else e(g,A);A=A.sibling}k.type===Hr?(m=kr(k.props.children,g.mode,w,k.key),m.return=g,g=m):(w=jo(k.type,k.key,k.props,null,g.mode,w),w.ref=Hs(g,m,k),w.return=g,g=w)}return o(g);case $r:e:{for(A=k.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===k.containerInfo&&m.stateNode.implementation===k.implementation){n(g,m.sibling),m=s(m,k.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Ta(k,g.mode,w),m.return=g,g=m}return o(g);case Cn:return A=k._init,x(g,m,A(k._payload),w)}if(Gs(k))return p(g,m,k,w);if(Fs(k))return y(g,m,k,w);uo(g,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,k),m.return=g,g=m):(n(g,m),m=Na(k,g.mode,w),m.return=g,g=m),o(g)):n(g,m)}return x}var vs=qm(!0),Qm=qm(!1),Ui={},tn=Zn(Ui),bi=Zn(Ui),Ni=Zn(Ui);function fr(t){if(t===Ui)throw Error(T(174));return t}function Qd(t,e){switch(te(Ni,e),te(bi,t),te(tn,Ui),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pu(e,t)}se(tn),te(tn,e)}function xs(){se(tn),se(bi),se(Ni)}function Gm(t){fr(Ni.current);var e=fr(tn.current),n=pu(e,t.type);e!==n&&(te(bi,t),te(tn,n))}function Gd(t){bi.current===t&&(se(tn),se(bi))}var ue=Zn(0);function Yo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sa=[];function Yd(){for(var t=0;t<Sa.length;t++)Sa[t]._workInProgressVersionPrimary=null;Sa.length=0}var Eo=yn.ReactCurrentDispatcher,wa=yn.ReactCurrentBatchConfig,br=0,de=null,Ce=null,Te=null,Xo=!1,li=!1,Ti=0,Rk=0;function Ve(){throw Error(T(321))}function Xd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function Zd(t,e,n,r,s,i){if(br=i,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eo.current=t===null||t.memoizedState===null?Fk:Bk,t=n(r,s),li){i=0;do{if(li=!1,Ti=0,25<=i)throw Error(T(301));i+=1,Te=Ce=null,e.updateQueue=null,Eo.current=_k,t=n(r,s)}while(li)}if(Eo.current=Zo,e=Ce!==null&&Ce.next!==null,br=0,Te=Ce=de=null,Xo=!1,e)throw Error(T(300));return t}function ec(){var t=Ti!==0;return Ti=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?de.memoizedState=Te=t:Te=Te.next=t,Te}function Ot(){if(Ce===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=Te===null?de.memoizedState:Te.next;if(e!==null)Te=e,Ce=t;else{if(t===null)throw Error(T(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?de.memoizedState=Te=t:Te=Te.next=t}return Te}function Oi(t,e){return typeof e=="function"?e(t):e}function Ca(t){var e=Ot(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((br&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,de.lanes|=d,Nr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,$t(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,de.lanes|=i,Nr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ma(t){var e=Ot(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);$t(i,e.memoizedState)||(it=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ym(){}function Xm(t,e){var n=de,r=Ot(),s=e(),i=!$t(r.memoizedState,s);if(i&&(r.memoizedState=s,it=!0),r=r.queue,tc(tg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,ji(9,eg.bind(null,n,r,s,e),void 0,null),Oe===null)throw Error(T(349));br&30||Zm(n,e,s)}return s}function Zm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eg(t,e,n,r){e.value=n,e.getSnapshot=r,ng(e)&&rg(t)}function tg(t,e,n){return n(function(){ng(e)&&rg(t)})}function ng(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function rg(t){var e=mn(t,1);e!==null&&_t(e,t,1,-1)}function Ff(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},e.queue=t,t=t.dispatch=zk.bind(null,de,t),[e.memoizedState,t]}function ji(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sg(){return Ot().memoizedState}function bo(t,e,n,r){var s=Jt();de.flags|=t,s.memoizedState=ji(1|e,n,void 0,r===void 0?null:r)}function Pl(t,e,n,r){var s=Ot();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var o=Ce.memoizedState;if(i=o.destroy,r!==null&&Xd(r,o.deps)){s.memoizedState=ji(e,n,i,r);return}}de.flags|=t,s.memoizedState=ji(1|e,n,i,r)}function Bf(t,e){return bo(8390656,8,t,e)}function tc(t,e){return Pl(2048,8,t,e)}function ig(t,e){return Pl(4,2,t,e)}function og(t,e){return Pl(4,4,t,e)}function lg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ag(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4,4,lg.bind(null,e,t),n)}function nc(){}function ug(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cg(t,e,n){return br&21?($t(n,e)||(n=pm(),de.lanes|=n,Nr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function Ik(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var r=wa.transition;wa.transition={};try{t(!1),e()}finally{Z=n,wa.transition=r}}function fg(){return Ot().memoizedState}function Lk(t,e,n){var r=$n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hg(t))pg(e,n);else if(n=Um(t,e,n,r),n!==null){var s=Ye();_t(n,t,r,s),mg(n,e,r)}}function zk(t,e,n){var r=$n(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hg(t))pg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,$t(l,o)){var a=e.interleaved;a===null?(s.next=s,Jd(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Um(t,e,s,r),n!==null&&(s=Ye(),_t(n,t,r,s),mg(n,e,r))}}function hg(t){var e=t.alternate;return t===de||e!==null&&e===de}function pg(t,e){li=Xo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pd(t,n)}}var Zo={readContext:Tt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Fk={readContext:Tt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Tt,useEffect:Bf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bo(4194308,4,lg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bo(4194308,4,t,e)},useInsertionEffect:function(t,e){return bo(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Lk.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:Ff,useDebugValue:nc,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Ff(!1),e=t[0];return t=Ik.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,s=Jt();if(le){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Oe===null)throw Error(T(349));br&30||Zm(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Bf(tg.bind(null,r,i,t),[t]),r.flags|=2048,ji(9,eg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Jt(),e=Oe.identifierPrefix;if(le){var n=dn,r=un;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ti++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Rk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bk={readContext:Tt,useCallback:ug,useContext:Tt,useEffect:tc,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:og,useMemo:dg,useReducer:Ca,useRef:sg,useState:function(){return Ca(Oi)},useDebugValue:nc,useDeferredValue:function(t){var e=Ot();return cg(e,Ce.memoizedState,t)},useTransition:function(){var t=Ca(Oi)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:fg,unstable_isNewReconciler:!1},_k={readContext:Tt,useCallback:ug,useContext:Tt,useEffect:tc,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:og,useMemo:dg,useReducer:Ma,useRef:sg,useState:function(){return Ma(Oi)},useDebugValue:nc,useDeferredValue:function(t){var e=Ot();return Ce===null?e.memoizedState=t:cg(e,Ce.memoizedState,t)},useTransition:function(){var t=Ma(Oi)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:fg,unstable_isNewReconciler:!1};function Ss(t,e){try{var n="",r=e;do n+=p1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ea(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vk=typeof WeakMap=="function"?WeakMap:Map;function gg(t,e,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tl||(tl=!0,Ju=r),zu(t,e)},n}function yg(t,e,n){n=cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zu(t,e),typeof r!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _f(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=tv.bind(null,t,e,n),e.then(t,t))}function Vf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $f(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cn(-1,1),e.tag=2,_n(n,e,1))),n.lanes|=1),t)}var $k=yn.ReactCurrentOwner,it=!1;function Qe(t,e,n,r){e.child=t===null?Qm(e,null,n,r):vs(e,t.child,n,r)}function Hf(t,e,n,r,s){n=n.render;var i=e.ref;return as(e,s),r=Zd(t,e,n,r,i,s),n=ec(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gn(t,e,s)):(le&&n&&Vd(e),e.flags|=1,Qe(t,e,r,s),e.child)}function Uf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!dc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kg(t,e,i,r,s)):(t=jo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wi,n(o,r)&&t.ref===e.ref)return gn(t,e,s)}return e.flags|=1,t=Hn(i,r),t.ref=e.ref,t.return=e,e.child=t}function kg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wi(i,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,gn(t,e,s)}return Fu(t,e,n,r,s)}function vg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Zr,ft),ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Zr,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(Zr,ft),ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,te(Zr,ft),ft|=r;return Qe(t,e,s,n),e.child}function xg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fu(t,e,n,r,s){var i=lt(n)?Mr:Je.current;return i=ys(e,i),as(e,s),n=Zd(t,e,n,r,i,s),r=ec(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gn(t,e,s)):(le&&r&&Vd(e),e.flags|=1,Qe(t,e,n,s),e.child)}function Wf(t,e,n,r,s){if(lt(n)){var i=!0;Wo(e)}else i=!1;if(as(e,s),e.stateNode===null)No(t,e),Jm(e,n,r),Lu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=lt(n)?Mr:Je.current,u=ys(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Lf(e,o,r,u),Mn=!1;var f=e.memoizedState;o.state=f,Go(e,r,o,s),a=e.memoizedState,l!==r||f!==a||ot.current||Mn?(typeof d=="function"&&(Iu(e,n,d,r),a=e.memoizedState),(l=Mn||If(e,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wm(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Pt(e.type,l),o.props=u,c=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=lt(n)?Mr:Je.current,a=ys(e,a));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Lf(e,o,r,a),Mn=!1,f=e.memoizedState,o.state=f,Go(e,r,o,s);var p=e.memoizedState;l!==c||f!==p||ot.current||Mn?(typeof h=="function"&&(Iu(e,n,h,r),p=e.memoizedState),(u=Mn||If(e,n,u,r,f,p,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Bu(t,e,n,r,i,s)}function Bu(t,e,n,r,s,i){xg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jf(e,n,!1),gn(t,e,i);r=e.stateNode,$k.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vs(e,t.child,null,i),e.child=vs(e,null,l,i)):Qe(t,e,l,i),e.memoizedState=r.state,s&&jf(e,n,!0),e.child}function Sg(t){var e=t.stateNode;e.pendingContext?Of(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Of(t,e.context,!1),Qd(t,e.containerInfo)}function Kf(t,e,n,r,s){return ks(),Hd(s),e.flags|=256,Qe(t,e,n,r),e.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function Vu(t){return{baseLanes:t,cachePool:null,transitions:null}}function wg(t,e,n){var r=e.pendingProps,s=ue.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(ue,s&1),t===null)return Pu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ll(o,r,0,null),t=kr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vu(n),e.memoizedState=_u,t):rc(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Hk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Hn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Hn(l,i):(i=kr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Vu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=_u,r}return i=t.child,t=i.sibling,r=Hn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rc(t,e){return e=Ll({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function co(t,e,n,r){return r!==null&&Hd(r),vs(e,t.child,null,n),t=rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ea(Error(T(422))),co(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ll({mode:"visible",children:r.children},s,0,null),i=kr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&vs(e,t.child,null,o),e.child.memoizedState=Vu(o),e.memoizedState=_u,i);if(!(e.mode&1))return co(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=Ea(i,r,void 0),co(t,e,o,r)}if(l=(o&t.childLanes)!==0,it||l){if(r=Oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mn(t,s),_t(r,t,s,-1))}return uc(),r=Ea(Error(T(421))),co(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=nv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pt=Bn(s.nextSibling),mt=e,le=!0,It=null,t!==null&&(St[wt++]=un,St[wt++]=dn,St[wt++]=Er,un=t.id,dn=t.overflow,Er=e),e=rc(e,r.children),e.flags|=4096,e)}function Jf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ru(t.return,e,n)}function ba(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qe(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,n,e);else if(t.tag===19)Jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ba(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ba(e,!0,n,null,i);break;case"together":ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function No(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Uk(t,e,n){switch(e.tag){case 3:Sg(e),ks();break;case 5:Gm(e);break;case 1:lt(e.type)&&Wo(e);break;case 4:Qd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;te(qo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?wg(t,e,n):(te(ue,ue.current&1),t=gn(t,e,n),t!==null?t.sibling:null);te(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,vg(t,e,n)}return gn(t,e,n)}var Mg,$u,Eg,bg;Mg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$u=function(){};Eg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fr(tn.current);var i=null;switch(n){case"input":s=du(t,s),r=du(t,r),i=[];break;case"select":s=ce({},s,{value:void 0}),r=ce({},r,{value:void 0}),i=[];break;case"textarea":s=hu(t,s),r=hu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ho)}mu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ne("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};bg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wk(t,e,n){var r=e.pendingProps;switch($d(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return lt(e.type)&&Uo(),$e(e),null;case 3:return r=e.stateNode,xs(),se(ot),se(Je),Yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ao(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(Gu(It),It=null))),$u(t,e),$e(e),null;case 5:Gd(e);var s=fr(Ni.current);if(n=e.type,t!==null&&e.stateNode!=null)Eg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return $e(e),null}if(t=fr(tn.current),ao(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qt]=e,r[Ei]=i,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Xs.length;s++)ne(Xs[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":tf(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":rf(r,i),ne("invalid",r)}mu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,l,t),s=["children",""+l]):mi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":Zi(r),nf(r,i,!0);break;case"textarea":Zi(r),sf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ho)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qt]=e,t[Ei]=r,Mg(t,e,!1,!1),e.stateNode=t;e:{switch(o=gu(n,r),n){case"dialog":ne("cancel",t),ne("close",t),s=r;break;case"iframe":case"object":case"embed":ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xs.length;s++)ne(Xs[s],t);s=r;break;case"source":ne("error",t),s=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=r;break;case"details":ne("toggle",t),s=r;break;case"input":tf(t,r),s=du(t,r),ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ce({},r,{value:void 0}),ne("invalid",t);break;case"textarea":rf(t,r),s=hu(t,r),ne("invalid",t);break;default:s=r}mu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?nm(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&em(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&gi(t,a):typeof a=="number"&&gi(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mi.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ne("scroll",t):a!=null&&Nd(t,i,a,o))}switch(n){case"input":Zi(t),nf(t,r,!1);break;case"textarea":Zi(t),sf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?rs(t,!!r.multiple,i,!1):r.defaultValue!=null&&rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)bg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=fr(Ni.current),fr(tn.current),ao(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qt]=e,(i=r.nodeValue!==n)&&(t=mt,t!==null))switch(t.tag){case 3:lo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=e,e.stateNode=r}return $e(e),null;case 13:if(se(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&pt!==null&&e.mode&1&&!(e.flags&128))Hm(),ks(),e.flags|=98560,i=!1;else if(i=ao(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Qt]=e}else ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),i=!1}else It!==null&&(Gu(It),It=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Ee===0&&(Ee=3):uc())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return xs(),$u(t,e),t===null&&Ci(e.stateNode.containerInfo),$e(e),null;case 10:return Kd(e.type._context),$e(e),null;case 17:return lt(e.type)&&Uo(),$e(e),null;case 19:if(se(ue),i=e.memoizedState,i===null)return $e(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Us(i,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yo(t),o!==null){for(e.flags|=128,Us(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(ue,ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&ve()>ws&&(e.flags|=128,r=!0,Us(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!le)return $e(e),null}else 2*ve()-i.renderingStartTime>ws&&n!==1073741824&&(e.flags|=128,r=!0,Us(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ve(),e.sibling=null,n=ue.current,te(ue,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return ac(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ft&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Kk(t,e){switch($d(e),e.tag){case 1:return lt(e.type)&&Uo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xs(),se(ot),se(Je),Yd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gd(e),null;case 13:if(se(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(ue),null;case 4:return xs(),null;case 10:return Kd(e.type._context),null;case 22:case 23:return ac(),null;case 24:return null;default:return null}}var fo=!1,Ue=!1,Jk=typeof WeakSet=="function"?WeakSet:Set,L=null;function Xr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(t,e,r)}else n.current=null}function Hu(t,e,n){try{n()}catch(r){he(t,e,r)}}var qf=!1;function qk(t,e){if(bu=_o,t=jm(),_d(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var h;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==i||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(h=c.firstChild)!==null;)f=c,c=h;for(;;){if(c===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(a=o),(h=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nu={focusedElem:t,selectionRange:n},_o=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pt(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){he(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=qf,qf=!1,p}function ai(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hu(e,n,i)}s=s.next}while(s!==r)}}function Rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ng(t){var e=t.alternate;e!==null&&(t.alternate=null,Ng(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qt],delete e[Ei],delete e[ju],delete e[jk],delete e[Ak])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tg(t){return t.tag===5||t.tag===3||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ho));else if(r!==4&&(t=t.child,t!==null))for(Wu(t,e,n),t=t.sibling;t!==null;)Wu(t,e,n),t=t.sibling}function Ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}var Re=null,Rt=!1;function vn(t,e,n){for(n=n.child;n!==null;)Og(t,e,n),n=n.sibling}function Og(t,e,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 5:Ue||Xr(n,e);case 6:var r=Re,s=Rt;Re=null,vn(t,e,n),Re=r,Rt=s,Re!==null&&(Rt?(t=Re,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Rt?(t=Re,n=n.stateNode,t.nodeType===8?va(t.parentNode,n):t.nodeType===1&&va(t,n),xi(t)):va(Re,n.stateNode));break;case 4:r=Re,s=Rt,Re=n.stateNode.containerInfo,Rt=!0,vn(t,e,n),Re=r,Rt=s;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hu(n,e,o),s=s.next}while(s!==r)}vn(t,e,n);break;case 1:if(!Ue&&(Xr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){he(n,e,l)}vn(t,e,n);break;case 21:vn(t,e,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,vn(t,e,n),Ue=r):vn(t,e,n);break;default:vn(t,e,n)}}function Gf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jk),e.forEach(function(r){var s=rv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,Rt=!1;break e;case 3:Re=l.stateNode.containerInfo,Rt=!0;break e;case 4:Re=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(Re===null)throw Error(T(160));Og(i,o,s),Re=null,Rt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){he(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jg(e,t),e=e.sibling}function jg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dt(e,t),Kt(t),r&4){try{ai(3,t,t.return),Rl(3,t)}catch(y){he(t,t.return,y)}try{ai(5,t,t.return)}catch(y){he(t,t.return,y)}}break;case 1:Dt(e,t),Kt(t),r&512&&n!==null&&Xr(n,n.return);break;case 5:if(Dt(e,t),Kt(t),r&512&&n!==null&&Xr(n,n.return),t.flags&32){var s=t.stateNode;try{gi(s,"")}catch(y){he(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yp(s,i),gu(l,o);var u=gu(l,i);for(o=0;o<a.length;o+=2){var d=a[o],c=a[o+1];d==="style"?nm(s,c):d==="dangerouslySetInnerHTML"?em(s,c):d==="children"?gi(s,c):Nd(s,d,c,u)}switch(l){case"input":cu(s,i);break;case"textarea":Xp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?rs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?rs(s,!!i.multiple,i.defaultValue,!0):rs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ei]=i}catch(y){he(t,t.return,y)}}break;case 6:if(Dt(e,t),Kt(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){he(t,t.return,y)}}break;case 3:if(Dt(e,t),Kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xi(e.containerInfo)}catch(y){he(t,t.return,y)}break;case 4:Dt(e,t),Kt(t);break;case 13:Dt(e,t),Kt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(oc=ve())),r&4&&Gf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ue=(u=Ue)||d,Dt(e,t),Ue=u):Dt(e,t),Kt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(L=t,d=t.child;d!==null;){for(c=L=d;L!==null;){switch(f=L,h=f.child,f.tag){case 0:case 11:case 14:case 15:ai(4,f,f.return);break;case 1:Xr(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){he(r,n,y)}}break;case 5:Xr(f,f.return);break;case 22:if(f.memoizedState!==null){Xf(c);continue}}h!==null?(h.return=f,L=h):Xf(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tm("display",o))}catch(y){he(t,t.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){he(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Dt(e,t),Kt(t),r&4&&Gf(t);break;case 21:break;default:Dt(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tg(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gi(s,""),r.flags&=-33);var i=Qf(t);Ku(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Qf(t);Wu(t,l,o);break;default:throw Error(T(161))}}catch(a){he(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qk(t,e,n){L=t,Ag(t)}function Ag(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fo;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ue;l=fo;var u=Ue;if(fo=o,(Ue=a)&&!u)for(L=s;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?Zf(s):a!==null?(a.return=o,L=a):Zf(s);for(;i!==null;)L=i,Ag(i),i=i.sibling;L=s,fo=l,Ue=u}Yf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):Yf(t)}}function Yf(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ue||Rl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rf(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&xi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ue||e.flags&512&&Uu(e)}catch(f){he(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Xf(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Zf(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rl(4,e)}catch(a){he(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){he(e,s,a)}}var i=e.return;try{Uu(e)}catch(a){he(e,i,a)}break;case 5:var o=e.return;try{Uu(e)}catch(a){he(e,o,a)}}}catch(a){he(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var Gk=Math.ceil,el=yn.ReactCurrentDispatcher,sc=yn.ReactCurrentOwner,bt=yn.ReactCurrentBatchConfig,X=0,Oe=null,xe=null,ze=0,ft=0,Zr=Zn(0),Ee=0,Ai=null,Nr=0,Il=0,ic=0,ui=null,st=null,oc=0,ws=1/0,on=null,tl=!1,Ju=null,Vn=null,ho=!1,jn=null,nl=0,di=0,qu=null,To=-1,Oo=0;function Ye(){return X&6?ve():To!==-1?To:To=ve()}function $n(t){return t.mode&1?X&2&&ze!==0?ze&-ze:Pk.transition!==null?(Oo===0&&(Oo=pm()),Oo):(t=Z,t!==0||(t=window.event,t=t===void 0?16:Sm(t.type)),t):1}function _t(t,e,n,r){if(50<di)throw di=0,qu=null,Error(T(185));Vi(t,n,r),(!(X&2)||t!==Oe)&&(t===Oe&&(!(X&2)&&(Il|=n),Ee===4&&Nn(t,ze)),at(t,r),n===1&&X===0&&!(e.mode&1)&&(ws=ve()+500,Al&&er()))}function at(t,e){var n=t.callbackNode;P1(t,e);var r=Bo(t,t===Oe?ze:0);if(r===0)n!==null&&af(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&af(n),e===1)t.tag===0?Dk(eh.bind(null,t)):_m(eh.bind(null,t)),Tk(function(){!(X&6)&&er()}),n=null;else{switch(mm(r)){case 1:n=Dd;break;case 4:n=fm;break;case 16:n=Fo;break;case 536870912:n=hm;break;default:n=Fo}n=Bg(n,Dg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dg(t,e){if(To=-1,Oo=0,X&6)throw Error(T(327));var n=t.callbackNode;if(us()&&t.callbackNode!==n)return null;var r=Bo(t,t===Oe?ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rl(t,r);else{e=r;var s=X;X|=2;var i=Rg();(Oe!==t||ze!==e)&&(on=null,ws=ve()+500,yr(t,e));do try{Zk();break}catch(l){Pg(t,l)}while(1);Wd(),el.current=i,X=s,xe!==null?e=0:(Oe=null,ze=0,e=Ee)}if(e!==0){if(e===2&&(s=Su(t),s!==0&&(r=s,e=Qu(t,s))),e===1)throw n=Ai,yr(t,0),Nn(t,r),at(t,ve()),n;if(e===6)Nn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Yk(s)&&(e=rl(t,r),e===2&&(i=Su(t),i!==0&&(r=i,e=Qu(t,i))),e===1))throw n=Ai,yr(t,0),Nn(t,r),at(t,ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:or(t,st,on);break;case 3:if(Nn(t,r),(r&130023424)===r&&(e=oc+500-ve(),10<e)){if(Bo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ou(or.bind(null,t,st,on),e);break}or(t,st,on);break;case 4:if(Nn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gk(r/1960))-r,10<r){t.timeoutHandle=Ou(or.bind(null,t,st,on),r);break}or(t,st,on);break;case 5:or(t,st,on);break;default:throw Error(T(329))}}}return at(t,ve()),t.callbackNode===n?Dg.bind(null,t):null}function Qu(t,e){var n=ui;return t.current.memoizedState.isDehydrated&&(yr(t,e).flags|=256),t=rl(t,e),t!==2&&(e=st,st=n,e!==null&&Gu(e)),t}function Gu(t){st===null?st=t:st.push.apply(st,t)}function Yk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!$t(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(t,e){for(e&=~ic,e&=~Il,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function eh(t){if(X&6)throw Error(T(327));us();var e=Bo(t,0);if(!(e&1))return at(t,ve()),null;var n=rl(t,e);if(t.tag!==0&&n===2){var r=Su(t);r!==0&&(e=r,n=Qu(t,r))}if(n===1)throw n=Ai,yr(t,0),Nn(t,e),at(t,ve()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,or(t,st,on),at(t,ve()),null}function lc(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(ws=ve()+500,Al&&er())}}function Tr(t){jn!==null&&jn.tag===0&&!(X&6)&&us();var e=X;X|=1;var n=bt.transition,r=Z;try{if(bt.transition=null,Z=1,t)return t()}finally{Z=r,bt.transition=n,X=e,!(X&6)&&er()}}function ac(){ft=Zr.current,se(Zr)}function yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nk(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch($d(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uo();break;case 3:xs(),se(ot),se(Je),Yd();break;case 5:Gd(r);break;case 4:xs();break;case 13:se(ue);break;case 19:se(ue);break;case 10:Kd(r.type._context);break;case 22:case 23:ac()}n=n.return}if(Oe=t,xe=t=Hn(t.current,null),ze=ft=e,Ee=0,Ai=null,ic=Il=Nr=0,st=ui=null,cr!==null){for(e=0;e<cr.length;e++)if(n=cr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return t}function Pg(t,e){do{var n=xe;try{if(Wd(),Eo.current=Zo,Xo){for(var r=de.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xo=!1}if(br=0,Te=Ce=de=null,li=!1,Ti=0,sc.current=null,n===null||n.return===null){Ee=1,Ai=e,xe=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ze,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Vf(o);if(h!==null){h.flags&=-257,$f(h,o,l,i,e),h.mode&1&&_f(i,u,e),e=h,a=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(a),e.updateQueue=y}else p.add(a);break e}else{if(!(e&1)){_f(i,u,e),uc();break e}a=Error(T(426))}}else if(le&&l.mode&1){var x=Vf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$f(x,o,l,i,e),Hd(Ss(a,l));break e}}i=a=Ss(a,l),Ee!==4&&(Ee=2),ui===null?ui=[i]:ui.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=gg(i,a,e);Pf(i,g);break e;case 1:l=a;var m=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Vn===null||!Vn.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=yg(i,l,e);Pf(i,w);break e}}i=i.return}while(i!==null)}Lg(n)}catch(M){e=M,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(1)}function Rg(){var t=el.current;return el.current=Zo,t===null?Zo:t}function uc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Oe===null||!(Nr&268435455)&&!(Il&268435455)||Nn(Oe,ze)}function rl(t,e){var n=X;X|=2;var r=Rg();(Oe!==t||ze!==e)&&(on=null,yr(t,e));do try{Xk();break}catch(s){Pg(t,s)}while(1);if(Wd(),X=n,el.current=r,xe!==null)throw Error(T(261));return Oe=null,ze=0,Ee}function Xk(){for(;xe!==null;)Ig(xe)}function Zk(){for(;xe!==null&&!M1();)Ig(xe)}function Ig(t){var e=Fg(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?Lg(t):xe=e,sc.current=null}function Lg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kk(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,xe=null;return}}else if(n=Wk(n,e,ft),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Ee===0&&(Ee=5)}function or(t,e,n){var r=Z,s=bt.transition;try{bt.transition=null,Z=1,ev(t,e,n,r)}finally{bt.transition=s,Z=r}return null}function ev(t,e,n,r){do us();while(jn!==null);if(X&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(R1(t,i),t===Oe&&(xe=Oe=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ho||(ho=!0,Bg(Fo,function(){return us(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bt.transition,bt.transition=null;var o=Z;Z=1;var l=X;X|=4,sc.current=null,qk(t,n),jg(n,t),xk(Nu),_o=!!bu,Nu=bu=null,t.current=n,Qk(n),E1(),X=l,Z=o,bt.transition=i}else t.current=n;if(ho&&(ho=!1,jn=t,nl=s),i=t.pendingLanes,i===0&&(Vn=null),T1(n.stateNode),at(t,ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tl)throw tl=!1,t=Ju,Ju=null,t;return nl&1&&t.tag!==0&&us(),i=t.pendingLanes,i&1?t===qu?di++:(di=0,qu=t):di=0,er(),null}function us(){if(jn!==null){var t=mm(nl),e=bt.transition,n=Z;try{if(bt.transition=null,Z=16>t?16:t,jn===null)var r=!1;else{if(t=jn,jn=null,nl=0,X&6)throw Error(T(331));var s=X;for(X|=4,L=t.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:ai(8,d,i)}var c=d.child;if(c!==null)c.return=d,L=c;else for(;L!==null;){d=L;var f=d.sibling,h=d.return;if(Ng(d),d===u){L=null;break}if(f!==null){f.return=h,L=f;break}L=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ai(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,L=g;break e}L=i.return}}var m=t.current;for(L=m;L!==null;){o=L;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,L=k;else e:for(o=m;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rl(9,l)}}catch(M){he(l,l.return,M)}if(l===o){L=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,L=w;break e}L=l.return}}if(X=s,er(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(bl,t)}catch{}r=!0}return r}finally{Z=n,bt.transition=e}}return!1}function th(t,e,n){e=Ss(n,e),e=gg(t,e,1),t=_n(t,e,1),e=Ye(),t!==null&&(Vi(t,1,e),at(t,e))}function he(t,e,n){if(t.tag===3)th(t,t,n);else for(;e!==null;){if(e.tag===3){th(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vn===null||!Vn.has(r))){t=Ss(n,t),t=yg(e,t,1),e=_n(e,t,1),t=Ye(),e!==null&&(Vi(e,1,t),at(e,t));break}}e=e.return}}function tv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&(ze&n)===n&&(Ee===4||Ee===3&&(ze&130023424)===ze&&500>ve()-oc?yr(t,0):ic|=n),at(t,e)}function zg(t,e){e===0&&(t.mode&1?(e=no,no<<=1,!(no&130023424)&&(no=4194304)):e=1);var n=Ye();t=mn(t,e),t!==null&&(Vi(t,e,n),at(t,n))}function nv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zg(t,n)}function rv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),zg(t,n)}var Fg;Fg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,Uk(t,e,n);it=!!(t.flags&131072)}else it=!1,le&&e.flags&1048576&&Vm(e,Jo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;No(t,e),t=e.pendingProps;var s=ys(e,Je.current);as(e,n),s=Zd(null,e,r,t,s,n);var i=ec();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(i=!0,Wo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qd(e),s.updater=Dl,e.stateNode=s,s._reactInternals=e,Lu(e,r,t,n),e=Bu(null,e,r,!0,i,n)):(e.tag=0,le&&i&&Vd(e),Qe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(No(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=iv(r),t=Pt(r,t),s){case 0:e=Fu(null,e,r,t,n);break e;case 1:e=Wf(null,e,r,t,n);break e;case 11:e=Hf(null,e,r,t,n);break e;case 14:e=Uf(null,e,r,Pt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),Fu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),Wf(t,e,r,s,n);case 3:e:{if(Sg(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Wm(t,e),Go(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ss(Error(T(423)),e),e=Kf(t,e,r,n,s);break e}else if(r!==s){s=Ss(Error(T(424)),e),e=Kf(t,e,r,n,s);break e}else for(pt=Bn(e.stateNode.containerInfo.firstChild),mt=e,le=!0,It=null,n=Qm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),r===s){e=gn(t,e,n);break e}Qe(t,e,r,n)}e=e.child}return e;case 5:return Gm(e),t===null&&Pu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Tu(r,s)?o=null:i!==null&&Tu(r,i)&&(e.flags|=32),xg(t,e),Qe(t,e,o,n),e.child;case 6:return t===null&&Pu(e),null;case 13:return wg(t,e,n);case 4:return Qd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vs(e,null,r,n):Qe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),Hf(t,e,r,s,n);case 7:return Qe(t,e,e.pendingProps,n),e.child;case 8:return Qe(t,e,e.pendingProps.children,n),e.child;case 12:return Qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,te(qo,r._currentValue),r._currentValue=o,i!==null)if($t(i.value,o)){if(i.children===s.children&&!ot.current){e=gn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=cn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ru(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ru(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,as(e,n),s=Tt(s),r=r(s),e.flags|=1,Qe(t,e,r,n),e.child;case 14:return r=e.type,s=Pt(r,e.pendingProps),s=Pt(r.type,s),Uf(t,e,r,s,n);case 15:return kg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pt(r,s),No(t,e),e.tag=1,lt(r)?(t=!0,Wo(e)):t=!1,as(e,n),Jm(e,r,s),Lu(e,r,s,n),Bu(null,e,r,!0,t,n);case 19:return Cg(t,e,n);case 22:return vg(t,e,n)}throw Error(T(156,e.tag))};function Bg(t,e){return cm(t,e)}function sv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new sv(t,e,n,r)}function dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iv(t){if(typeof t=="function")return dc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Od)return 11;if(t===jd)return 14}return 2}function Hn(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")dc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hr:return kr(n.children,s,i,e);case Td:o=8,s|=8;break;case ou:return t=Mt(12,n,e,s|2),t.elementType=ou,t.lanes=i,t;case lu:return t=Mt(13,n,e,s),t.elementType=lu,t.lanes=i,t;case au:return t=Mt(19,n,e,s),t.elementType=au,t.lanes=i,t;case qp:return Ll(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kp:o=10;break e;case Jp:o=9;break e;case Od:o=11;break e;case jd:o=14;break e;case Cn:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=Mt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function kr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function Ll(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=qp,t.lanes=n,t.stateNode={isHidden:!1},t}function Na(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function Ta(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ov(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aa(0),this.expirationTimes=aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cc(t,e,n,r,s,i,o,l,a){return t=new ov(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(i),t}function lv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _g(t){if(!t)return Gn;t=t._reactInternals;e:{if(Pr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(lt(n))return Bm(t,n,e)}return e}function Vg(t,e,n,r,s,i,o,l,a){return t=cc(n,r,!0,t,s,i,o,l,a),t.context=_g(null),n=t.current,r=Ye(),s=$n(n),i=cn(r,s),i.callback=e??null,_n(n,i,s),t.current.lanes=s,Vi(t,s,r),at(t,r),t}function zl(t,e,n,r){var s=e.current,i=Ye(),o=$n(s);return n=_g(n),e.context===null?e.context=n:e.pendingContext=n,e=cn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_n(s,e,o),t!==null&&(_t(t,s,o,i),Mo(t,s,o)),o}function sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fc(t,e){nh(t,e),(t=t.alternate)&&nh(t,e)}function av(){return null}var $g=typeof reportError=="function"?reportError:function(t){console.error(t)};function hc(t){this._internalRoot=t}Fl.prototype.render=hc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));zl(t,e,null,null)};Fl.prototype.unmount=hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tr(function(){zl(null,t,null,null)}),e[pn]=null}};function Fl(t){this._internalRoot=t}Fl.prototype.unstable_scheduleHydration=function(t){if(t){var e=km();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bn.length&&e!==0&&e<bn[n].priority;n++);bn.splice(n,0,t),n===0&&xm(t)}};function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rh(){}function uv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=sl(o);i.call(u)}}var o=Vg(e,r,t,0,null,!1,!1,"",rh);return t._reactRootContainer=o,t[pn]=o.current,Ci(t.nodeType===8?t.parentNode:t),Tr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=sl(a);l.call(u)}}var a=cc(t,0,!1,null,null,!1,!1,"",rh);return t._reactRootContainer=a,t[pn]=a.current,Ci(t.nodeType===8?t.parentNode:t),Tr(function(){zl(e,a,n,r)}),a}function _l(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=sl(o);l.call(a)}}zl(e,o,t,s)}else o=uv(n,e,t,s,r);return sl(o)}gm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ys(e.pendingLanes);n!==0&&(Pd(e,n|1),at(e,ve()),!(X&6)&&(ws=ve()+500,er()))}break;case 13:Tr(function(){var r=mn(t,1);if(r!==null){var s=Ye();_t(r,t,1,s)}}),fc(t,1)}};Rd=function(t){if(t.tag===13){var e=mn(t,134217728);if(e!==null){var n=Ye();_t(e,t,134217728,n)}fc(t,134217728)}};ym=function(t){if(t.tag===13){var e=$n(t),n=mn(t,e);if(n!==null){var r=Ye();_t(n,t,e,r)}fc(t,e)}};km=function(){return Z};vm=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};ku=function(t,e,n){switch(e){case"input":if(cu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=jl(r);if(!s)throw Error(T(90));Gp(r),cu(r,s)}}}break;case"textarea":Xp(t,n);break;case"select":e=n.value,e!=null&&rs(t,!!n.multiple,e,!1)}};im=lc;om=Tr;var dv={usingClientEntryPoint:!1,Events:[Hi,Jr,jl,rm,sm,lc]},Ws={findFiberByHostInstance:dr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cv={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=um(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{bl=po.inject(cv),en=po}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dv;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(e))throw Error(T(200));return lv(t,e,null,n)};yt.createRoot=function(t,e){if(!pc(t))throw Error(T(299));var n=!1,r="",s=$g;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cc(t,1,!1,null,null,n,!1,r,s),t[pn]=e.current,Ci(t.nodeType===8?t.parentNode:t),new hc(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=um(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return Tr(t)};yt.hydrate=function(t,e,n){if(!Bl(e))throw Error(T(200));return _l(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!pc(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$g;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Vg(e,null,t,1,n??null,s,!1,i,o),t[pn]=e.current,Ci(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Fl(e)};yt.render=function(t,e,n){if(!Bl(e))throw Error(T(200));return _l(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(T(40));return t._reactRootContainer?(Tr(function(){_l(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};yt.unstable_batchedUpdates=lc;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bl(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return _l(t,e,n,!1,r)};yt.version="18.2.0-next-9e3b772b8-20220608";function Hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hg)}catch(t){console.error(t)}}Hg(),Vp.exports=yt;var mc=Vp.exports;const fv=jp(mc);var sh=mc;su.createRoot=sh.createRoot,su.hydrateRoot=sh.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Di.apply(this,arguments)}var An;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(An||(An={}));const ih="popstate";function hv(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Yu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:il(s)}return mv(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pv(){return Math.random().toString(36).substr(2,8)}function oh(t,e){return{usr:t.state,key:t.key,idx:e}}function Yu(t,e,n,r){return n===void 0&&(n=null),Di({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rs(e):e,{state:n,key:e&&e.key||r||pv()})}function il(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mv(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=An.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(Di({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){l=An.Pop;let x=d(),g=x==null?null:x-u;u=x,a&&a({action:l,location:y.location,delta:g})}function f(x,g){l=An.Push;let m=Yu(y.location,x,g);n&&n(m,x),u=d()+1;let k=oh(m,u),w=y.createHref(m);try{o.pushState(k,"",w)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(w)}i&&a&&a({action:l,location:y.location,delta:1})}function h(x,g){l=An.Replace;let m=Yu(y.location,x,g);n&&n(m,x),u=d();let k=oh(m,u),w=y.createHref(m);o.replaceState(k,"",w),i&&a&&a({action:l,location:y.location,delta:0})}function p(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:il(x);return Se(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return l},get location(){return t(s,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(ih,c),a=x,()=>{s.removeEventListener(ih,c),a=null}},createHref(x){return e(s,x)},createURL:p,encodeLocation(x){let g=p(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(x){return o.go(x)}};return y}var lh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lh||(lh={}));function gv(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Rs(e):e,s=yc(r.pathname||"/",n);if(s==null)return null;let i=Ug(t);yv(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=bv(i[l],Ov(s));return o}function Ug(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Se(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Un([r,a.relativePath]),d=n.concat(a);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ug(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Mv(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of Wg(i.path))s(i,o,a)}),e}function Wg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Wg(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function yv(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ev(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kv=/^:\w+$/,vv=3,xv=2,Sv=1,wv=10,Cv=-2,ah=t=>t==="*";function Mv(t,e){let n=t.split("/"),r=n.length;return n.some(ah)&&(r+=Cv),e&&(r+=xv),n.filter(s=>!ah(s)).reduce((s,i)=>s+(kv.test(i)?vv:i===""?Sv:wv),r)}function Ev(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bv(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Nv({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!d)return null;Object.assign(r,d.params);let c=l.route;i.push({params:r,pathname:Un([s,d.pathname]),pathnameBase:Pv(Un([s,d.pathnameBase])),route:c}),d.pathnameBase!=="/"&&(s=Un([s,d.pathnameBase]))}return i}function Nv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tv(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,c)=>{if(d==="*"){let f=l[c]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return u[d]=jv(l[c]||"",d),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Tv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Ov(t){try{return decodeURI(t)}catch(e){return gc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jv(t,e){try{return decodeURIComponent(t)}catch(n){return gc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function yc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Av(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rs(t):t;return{pathname:n?n.startsWith("/")?n:Dv(n,e):e,search:Rv(r),hash:Iv(s)}}function Dv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Oa(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Rs(t):(s=Di({},t),Se(!s.pathname||!s.pathname.includes("?"),Oa("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),Oa("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),Oa("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(r||o==null)l=n;else{let c=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;s.pathname=f.join("/")}l=c>=0?e[c]:"/"}let a=Av(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const Un=t=>t.join("/").replace(/\/\/+/g,"/"),Pv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Iv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Lv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qg=["post","put","patch","delete"];new Set(qg);const zv=["get",...qg];new Set(zv);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}const kc=j.createContext(null),Fv=j.createContext(null),Is=j.createContext(null),Vl=j.createContext(null),Rr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Qg=j.createContext(null);function Bv(t,e){let{relative:n}=e===void 0?{}:e;Wi()||Se(!1);let{basename:r,navigator:s}=j.useContext(Is),{hash:i,pathname:o,search:l}=Yg(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Un([r,o])),s.createHref({pathname:a,search:l,hash:i})}function Wi(){return j.useContext(Vl)!=null}function Ki(){return Wi()||Se(!1),j.useContext(Vl).location}function Gg(t){j.useContext(Is).static||j.useLayoutEffect(t)}function $l(){let{isDataRoute:t}=j.useContext(Rr);return t?Xv():_v()}function _v(){Wi()||Se(!1);let t=j.useContext(kc),{basename:e,navigator:n}=j.useContext(Is),{matches:r}=j.useContext(Rr),{pathname:s}=Ki(),i=JSON.stringify(Kg(r).map(a=>a.pathnameBase)),o=j.useRef(!1);return Gg(()=>{o.current=!0}),j.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let d=Jg(a,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Un([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}function Yg(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=j.useContext(Rr),{pathname:s}=Ki(),i=JSON.stringify(Kg(r).map(o=>o.pathnameBase));return j.useMemo(()=>Jg(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function Vv(t,e){return $v(t,e)}function $v(t,e,n){Wi()||Se(!1);let{navigator:r}=j.useContext(Is),{matches:s}=j.useContext(Rr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let a=Ki(),u;if(e){var d;let y=typeof e=="string"?Rs(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Se(!1),u=y}else u=a;let c=u.pathname||"/",f=l==="/"?c:c.slice(l.length)||"/",h=gv(t,{pathname:f}),p=Jv(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Un([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Un([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n);return e&&p?j.createElement(Vl.Provider,{value:{location:ol({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:An.Pop}},p):p}function Hv(){let t=Yv(),e=Lv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,i)}const Uv=j.createElement(Hv,null);class Wv extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?j.createElement(Rr.Provider,{value:this.props.routeContext},j.createElement(Qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kv(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(kc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Rr.Provider,{value:e},r)}function Jv(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=i.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||Se(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,a,u)=>{let d=a.route.id?o==null?void 0:o[a.route.id]:null,c=null;n&&(c=a.route.errorElement||Uv);let f=e.concat(i.slice(0,u+1)),h=()=>{let p;return d?p=c:a.route.Component?p=j.createElement(a.route.Component,null):a.route.element?p=a.route.element:p=l,j.createElement(Kv,{match:a,routeContext:{outlet:l,matches:f,isDataRoute:n!=null},children:p})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?j.createElement(Wv,{location:n.location,revalidation:n.revalidation,component:c,error:d,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var Xu;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Xu||(Xu={}));var Pi;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Pi||(Pi={}));function qv(t){let e=j.useContext(kc);return e||Se(!1),e}function Qv(t){let e=j.useContext(Fv);return e||Se(!1),e}function Gv(t){let e=j.useContext(Rr);return e||Se(!1),e}function Xg(t){let e=Gv(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function Yv(){var t;let e=j.useContext(Qg),n=Qv(Pi.UseRouteError),r=Xg(Pi.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Xv(){let{router:t}=qv(Xu.UseNavigateStable),e=Xg(Pi.UseNavigateStable),n=j.useRef(!1);return Gg(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ol({fromRouteId:e},i)))},[t,e])}function lr(t){Se(!1)}function Zv(t){let{basename:e="/",children:n=null,location:r,navigationType:s=An.Pop,navigator:i,static:o=!1}=t;Wi()&&Se(!1);let l=e.replace(/^\/*/,"/"),a=j.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof r=="string"&&(r=Rs(r));let{pathname:u="/",search:d="",hash:c="",state:f=null,key:h="default"}=r,p=j.useMemo(()=>{let y=yc(u,l);return y==null?null:{location:{pathname:y,search:d,hash:c,state:f,key:h},navigationType:s}},[l,u,d,c,f,h,s]);return p==null?null:j.createElement(Is.Provider,{value:a},j.createElement(Vl.Provider,{children:n,value:p}))}function ex(t){let{children:e,location:n}=t;return Vv(Zu(e),n)}var uh;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(uh||(uh={}));new Promise(()=>{});function Zu(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Zu(r.props.children,i));return}r.type!==lr&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function tx(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function nx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rx(t,e){return t.button===0&&(!e||e==="_self")&&!nx(t)}const sx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ix="startTransition",dh=n1[ix];function ox(t){let{basename:e,children:n,future:r,window:s}=t,i=j.useRef();i.current==null&&(i.current=hv({window:s,v5Compat:!0}));let o=i.current,[l,a]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=j.useCallback(c=>{u&&dh?dh(()=>a(c)):a(c)},[a,u]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(Zv,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o})}const lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ds=j.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:u,preventScrollReset:d}=e,c=tx(e,sx),{basename:f}=j.useContext(Is),h,p=!1;if(typeof u=="string"&&ax.test(u)&&(h=u,lx))try{let m=new URL(window.location.href),k=u.startsWith("//")?new URL(m.protocol+u):new URL(u),w=yc(k.pathname,f);k.origin===m.origin&&w!=null?u=w+k.search+k.hash:p=!0}catch{}let y=Bv(u,{relative:s}),x=ux(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:s});function g(m){r&&r(m),m.defaultPrevented||x(m)}return j.createElement("a",ed({},c,{href:h||y,onClick:p||i?r:g,ref:n,target:a}))});var ch;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(ch||(ch={}));var fh;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fh||(fh={}));function ux(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,l=$l(),a=Ki(),u=Yg(t,{relative:o});return j.useCallback(d=>{if(rx(d,n)){d.preventDefault();let c=r!==void 0?r:il(a)===il(u);l(t,{replace:c,state:s,preventScrollReset:i,relative:o})}},[a,l,u,r,s,n,t,i,o])}function dx({className:t}){return S.jsx(S.Fragment,{children:S.jsxs("svg",{className:t,width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M30.8911 14.2254H29.75V14.1666H17V19.8333H25.0063C23.8382 23.132 20.6996 25.4999 17 25.4999C12.3059 25.4999 8.49998 21.694 8.49998 16.9999C8.49998 12.3058 12.3059 8.49992 17 8.49992C19.1668 8.49992 21.1381 9.31734 22.639 10.6525L26.6461 6.6455C24.1159 4.28746 20.7315 2.83325 17 2.83325C9.17644 2.83325 2.83331 9.17638 2.83331 16.9999C2.83331 24.8235 9.17644 31.1666 17 31.1666C24.8235 31.1666 31.1666 24.8235 31.1666 16.9999C31.1666 16.05 31.0689 15.1228 30.8911 14.2254Z",fill:"#FFC107"}),S.jsx("path",{d:"M4.46674 10.406L9.12119 13.8195C10.3806 10.7014 13.4307 8.49992 17 8.49992C19.1668 8.49992 21.1381 9.31733 22.639 10.6525L26.6461 6.6455C24.1159 4.28746 20.7315 2.83325 17 2.83325C11.5586 2.83325 6.83965 5.90529 4.46674 10.406Z",fill:"#FF3D00"}),S.jsx("path",{d:"M17 31.1667C20.6592 31.1667 23.9842 29.7663 26.498 27.489L22.1135 23.7787C20.6433 24.8968 18.8469 25.5015 17 25.5C13.3152 25.5 10.1865 23.1505 9.00787 19.8716L4.38812 23.431C6.73271 28.0188 11.4941 31.1667 17 31.1667Z",fill:"#4CAF50"}),S.jsx("path",{d:"M30.8911 14.2255H29.75V14.1667H17V19.8334H25.0063C24.4476 21.4034 23.4411 22.7752 22.1113 23.7795L22.1135 23.7781L26.498 27.4884C26.1878 27.7703 31.1667 24.0834 31.1667 17.0001C31.1667 16.0502 31.0689 15.123 30.8911 14.2255Z",fill:"#1976D2"})]})})}function cx(){const t=$l(),e=async()=>({state:Math.random()>=.5,user:{name:"",email:""}}),n=async()=>{(await e()).state?t("/main"):t("/signup")};return j.useEffect(()=>{},[]),S.jsx(S.Fragment,{children:S.jsx("div",{className:"bg-[#D0956A] w-screen h-screen relative",children:S.jsxs("footer",{className:"absolute bottom-0 left-0 w-full h-[276px] bg-white rounded-t-[40px] ",children:["구글 로그인 버튼 여기",S.jsx(fx,{}),S.jsxs("button",{className:"relative top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 w-[90%] h-[60px] border-2 rounded-[80px] border-[#BABABA] text-center text-xl font-bold items-center ",onClick:n,children:["로그인",S.jsx(dx,{className:"absolute top-1/2 translate-x-16 -translate-y-1/2"})]})]})})})}function fx(){return j.useEffect(()=>{const t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,document.body.appendChild(t)}),S.jsxs("div",{className:"w-full h-20",children:[S.jsx("div",{id:"g_id_onload","data-client_id":"902167606195-6bgoqc612htvos2keu48bjt9agfi6aib.apps.googleusercontent.com","data-context":"use","data-ux_mode":"redirect","data-login_uri":"https://project-writers.github.io/ilsang-0gam/signup","data-auto_select":"true","data-itp_support":"true"}),S.jsx("div",{className:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left"})]})}function hx(){const[t,e]=j.useState({res:null,message:"ㅤ"}),n=j.useRef(null),r=$l(),s=o=>{n.current&&(n.current.value==="홍길동"?e({res:!0,message:"사용이 가능합니다"}):e({res:!1,message:"이미 존재하는 필명입니다"}),o.key==="Enter"&&i())},i=async()=>{if(!t.res||!n.current)return;({state:Math.random()>=.5}).state?r("/main"):e({res:!1,message:"유효하지 않은 필명입니다"})};return S.jsx("div",{className:"w-screen h-screen relative",children:S.jsxs("div",{className:"absolute top-0 left-0 w-full h-full flex flex-col justify-center gap-[17px] px-[5%]",children:[S.jsx("div",{className:"w-full text-center font-bold text-2xl",children:"당신의 필명은?"}),S.jsxs("div",{className:"h-[60px] rounded-[80px] text-center text-xl font-bold items-center bg-white border-2 border-[#BABABA] overflow-hidden relative",children:[S.jsx("input",{ref:n,type:"text",maxLength:20,className:"absolute top-0 left-0 w-full h-full outline-none text-center text-xl font-bold items-center content-center",onKeyDown:s}),S.jsx("div",{className:"absolute top-0 right-0 w-32 h-full p-1",children:S.jsx("button",{className:"w-full h-full bg-amber-300 rounded-full",onClick:i,children:"확인"})})]}),S.jsx("div",{className:`opacity-0 ${t.res?"text-green-300 opacity-100":"text-red-300 opacity-100"}`,children:t.message})]})})}function vc(){const t=()=>"test-user";return S.jsxs("div",{className:"bg-zinc-100 w-full h-16 fixed bottom-0 z-50 flex justify-around items-center ",children:[S.jsx(ds,{to:"/mypage/"+t(),children:S.jsx(px,{})}),S.jsx(ds,{to:"/main",children:S.jsx(mx,{})}),S.jsx(ds,{to:"/write",children:S.jsx(gx,{})})]})}function px(){return S.jsx("svg",{className:"w-8 h-8",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M10 10C8.625 10 7.44792 9.51042 6.46875 8.53125C5.48958 7.55208 5 6.375 5 5C5 3.625 5.48958 2.44792 6.46875 1.46875C7.44792 0.489584 8.625 0 10 0C11.375 0 12.5521 0.489584 13.5312 1.46875C14.5104 2.44792 15 3.625 15 5C15 6.375 14.5104 7.55208 13.5312 8.53125C12.5521 9.51042 11.375 10 10 10ZM0 20V16.5C0 15.7917 0.1825 15.1404 0.5475 14.5463C0.9125 13.9521 1.39667 13.4992 2 13.1875C3.29167 12.5417 4.60417 12.0571 5.9375 11.7338C7.27083 11.4104 8.625 11.2492 10 11.25C11.375 11.25 12.7292 11.4117 14.0625 11.735C15.3958 12.0583 16.7083 12.5425 18 13.1875C18.6042 13.5 19.0887 13.9533 19.4537 14.5475C19.8187 15.1417 20.0008 15.7925 20 16.5V20H0Z",fill:"black"})})}function mx(){return S.jsx("svg",{className:"w-8 h-8",width:"29",height:"33",viewBox:"0 0 29 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M27.3888 9.92761L17.7222 1.25898C16.8361 0.448226 15.6889 0 14.5 0C13.3112 0 12.164 0.448226 11.2779 1.25898L1.61125 9.92761C1.09952 10.3958 0.691153 10.9701 0.413354 11.6123C0.135556 12.2545 -0.00530464 12.9499 0.000152723 13.6522V28.0559C0.000152723 29.3672 0.509374 30.6247 1.41579 31.5519C2.32221 32.4791 3.55158 33 4.83345 33H24.1666C25.4485 33 26.6779 32.4791 27.5843 31.5519C28.4907 30.6247 28.9999 29.3672 28.9999 28.0559V13.6357C29.0031 12.9362 28.8611 12.244 28.5834 11.6048C28.3057 10.9656 27.8985 10.3939 27.3888 9.92761ZM17.7222 29.7039H11.2779V21.4638C11.2779 21.0267 11.4476 20.6075 11.7497 20.2985C12.0519 19.9894 12.4617 19.8158 12.8889 19.8158H16.1111C16.5384 19.8158 16.9482 19.9894 17.2504 20.2985C17.5525 20.6075 17.7222 21.0267 17.7222 21.4638V29.7039ZM25.7777 28.0559C25.7777 28.493 25.608 28.9122 25.3059 29.2212C25.0037 29.5303 24.5939 29.7039 24.1666 29.7039H20.9444V21.4638C20.9444 20.1526 20.4352 18.895 19.5288 17.9678C18.6224 17.0406 17.393 16.5197 16.1111 16.5197H12.8889C11.6071 16.5197 10.3777 17.0406 9.47129 17.9678C8.56487 18.895 8.05565 20.1526 8.05565 21.4638V29.7039H4.83345C4.40616 29.7039 3.99637 29.5303 3.69423 29.2212C3.39209 28.9122 3.22235 28.493 3.22235 28.0559V13.6357C3.22264 13.4017 3.27164 13.1704 3.36609 12.9573C3.46054 12.7442 3.59827 12.5541 3.77013 12.3997L13.4367 3.7475C13.7307 3.48329 14.1087 3.33758 14.5 3.33758C14.8914 3.33758 15.2694 3.48329 15.5634 3.7475L25.23 12.3997C25.4018 12.5541 25.5396 12.7442 25.634 12.9573C25.7285 13.1704 25.7775 13.4017 25.7777 13.6357V28.0559Z",fill:"#9F9F9F"})})}function gx(){return S.jsx("svg",{className:"w-8 h-8",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M32 8.3834C32.0012 8.17285 31.9608 7.96412 31.8812 7.7692C31.8016 7.57427 31.6843 7.39698 31.536 7.24749L24.752 0.463992C24.6025 0.315713 24.4252 0.198401 24.2302 0.118784C24.0353 0.0391665 23.8266 -0.0011906 23.616 2.67409e-05C23.4054 -0.0011906 23.1967 0.0391665 23.0017 0.118784C22.8068 0.198401 22.6295 0.315713 22.48 0.463992L17.952 4.99165L0.464026 22.4783C0.315736 22.6278 0.198416 22.8051 0.118793 23.0001C0.0391693 23.195 -0.00119068 23.4037 2.67428e-05 23.6143V30.3978C2.67428e-05 30.8221 0.168597 31.229 0.468655 31.529C0.768713 31.8291 1.17568 31.9976 1.60002 31.9976H8.38401C8.6079 32.0098 8.83184 31.9748 9.04132 31.8949C9.25081 31.8149 9.44115 31.6919 9.60001 31.5337L26.992 14.047L31.536 9.59931C31.682 9.44425 31.801 9.26579 31.888 9.07135C31.9034 8.94382 31.9034 8.8149 31.888 8.68738C31.8955 8.6129 31.8955 8.53787 31.888 8.46339L32 8.3834ZM7.72801 28.7979H3.20002V24.2702L19.088 8.3834L23.616 12.9111L7.72801 28.7979ZM25.872 10.6552L21.344 6.12757L23.616 3.87174L28.128 8.3834L25.872 10.6552Z",fill:"#9F9F9F"})})}function Zg({bgColor:t}){const e=j.useRef(null);return j.useEffect(()=>{const n=e.current,r=s=>{n&&n.scrollTo({left:n.scrollLeft+s.deltaY*.5,behavior:"auto"}),s.preventDefault()};return n&&n.addEventListener("wheel",r,{passive:!1}),()=>{n&&n.removeEventListener("wheel",r)}},[]),S.jsxs("div",{ref:e,className:"mt-4 overflow-auto whitespace-nowrap scrollbar-hide",children:[S.jsx("button",{className:`mr-2 px-4 py-2 border rounded-full bg-[${t}]`,children:"#자전거"}),S.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#밤"}),S.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#글귀"}),S.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#회사"}),S.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#개발"}),S.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#곰발"}),S.jsx("button",{className:"mr-2 px-4 py-2 border rounded-full",children:"#새발"})]})}var Ji=t=>t.type==="checkbox",es=t=>t instanceof Date,Ge=t=>t==null;const ey=t=>typeof t=="object";var Ne=t=>!Ge(t)&&!Array.isArray(t)&&ey(t)&&!es(t),yx=t=>Ne(t)&&t.target?Ji(t.target)?t.target.checked:t.target.value:t,kx=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,vx=(t,e)=>t.has(kx(e)),xx=t=>{const e=t.constructor&&t.constructor.prototype;return Ne(e)&&e.hasOwnProperty("isPrototypeOf")},xc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Sn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(xc&&(t instanceof Blob||t instanceof FileList))&&(n||Ne(t)))if(e=n?[]:{},!n&&!xx(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Sn(t[r]));else return t;return e}var qi=t=>Array.isArray(t)?t.filter(Boolean):[],ye=t=>t===void 0,F=(t,e,n)=>{if(!e||!Ne(t))return n;const r=qi(e.split(/[,[\].]+?/)).reduce((s,i)=>Ge(s)?s:s[i],t);return ye(r)||r===t?ye(t[e])?n:t[e]:r};const hh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ke.createContext(null);var Sx=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==zt.all&&(e._proxyFormState[o]=!r||zt.all),n&&(n[o]=!0),t[o]}});return s},vt=t=>Ne(t)&&!Object.keys(t).length,wx=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return vt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||zt.all))},ja=t=>Array.isArray(t)?t:[t];function Cx(t){const e=ke.useRef(t);e.current=t,ke.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Yt=t=>typeof t=="string",Mx=(t,e,n,r,s)=>Yt(t)?(r&&e.watch.add(t),F(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),F(n,i))):(r&&(e.watchAll=!0),n),Sc=t=>/^\w*$/.test(t),ty=t=>qi(t.replace(/["|']|\]/g,"").split(/\.|\[/));function re(t,e,n){let r=-1;const s=Sc(e)?[e]:ty(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let a=n;if(r!==o){const u=t[l];a=Ne(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}t[l]=a,t=t[l]}return t}var Ex=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{};const td=(t,e,n)=>{for(const r of n||Object.keys(t)){const s=F(t,r);if(s){const{_f:i,...o}=s;if(i&&e(i.name)){if(i.ref.focus){i.ref.focus();break}else if(i.refs&&i.refs[0].focus){i.refs[0].focus();break}}else Ne(o)&&td(o,e)}}};var ph=t=>({isOnSubmit:!t||t===zt.onSubmit,isOnBlur:t===zt.onBlur,isOnChange:t===zt.onChange,isOnAll:t===zt.all,isOnTouch:t===zt.onTouched}),mh=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),bx=(t,e,n)=>{const r=qi(F(t,n));return re(r,"root",e[n]),re(t,n,r),t},cs=t=>typeof t=="boolean",wc=t=>t.type==="file",Dn=t=>typeof t=="function",ll=t=>{if(!xc)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ao=t=>Yt(t),Cc=t=>t.type==="radio",al=t=>t instanceof RegExp;const gh={value:!1,isValid:!1},yh={value:!0,isValid:!0};var ny=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ye(t[0].attributes.value)?ye(t[0].value)||t[0].value===""?yh:{value:t[0].value,isValid:!0}:yh:gh}return gh};const kh={isValid:!1,value:null};var ry=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kh):kh;function vh(t,e,n="validate"){if(Ao(t)||Array.isArray(t)&&t.every(Ao)||cs(t)&&!t)return{type:n,message:Ao(t)?t:"",ref:e}}var Fr=t=>Ne(t)&&!al(t)?t:{value:t,message:""},xh=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:l,maxLength:a,minLength:u,min:d,max:c,pattern:f,validate:h,name:p,valueAsNumber:y,mount:x,disabled:g}=t._f,m=F(e,p);if(!x||g)return{};const k=o?o[0]:i,w=G=>{r&&k.reportValidity&&(k.setCustomValidity(cs(G)?"":G||""),k.reportValidity())},M={},A=Cc(i),D=Ji(i),b=A||D,W=(y||wc(i))&&ye(i.value)&&ye(m)||ll(i)&&i.value===""||m===""||Array.isArray(m)&&!m.length,$=Ex.bind(null,p,n,M),ae=(G,K,ie,Be=sn.maxLength,_e=sn.minLength)=>{const rt=G?K:ie;M[p]={type:G?Be:_e,message:rt,ref:i,...$(G?Be:_e,rt)}};if(s?!Array.isArray(m)||!m.length:l&&(!b&&(W||Ge(m))||cs(m)&&!m||D&&!ny(o).isValid||A&&!ry(o).isValid)){const{value:G,message:K}=Ao(l)?{value:!!l,message:l}:Fr(l);if(G&&(M[p]={type:sn.required,message:K,ref:k,...$(sn.required,K)},!n))return w(K),M}if(!W&&(!Ge(d)||!Ge(c))){let G,K;const ie=Fr(c),Be=Fr(d);if(!Ge(m)&&!isNaN(m)){const _e=i.valueAsNumber||m&&+m;Ge(ie.value)||(G=_e>ie.value),Ge(Be.value)||(K=_e<Be.value)}else{const _e=i.valueAsDate||new Date(m),rt=U=>new Date(new Date().toDateString()+" "+U),P=i.type=="time",H=i.type=="week";Yt(ie.value)&&m&&(G=P?rt(m)>rt(ie.value):H?m>ie.value:_e>new Date(ie.value)),Yt(Be.value)&&m&&(K=P?rt(m)<rt(Be.value):H?m<Be.value:_e<new Date(Be.value))}if((G||K)&&(ae(!!G,ie.message,Be.message,sn.max,sn.min),!n))return w(M[p].message),M}if((a||u)&&!W&&(Yt(m)||s&&Array.isArray(m))){const G=Fr(a),K=Fr(u),ie=!Ge(G.value)&&m.length>+G.value,Be=!Ge(K.value)&&m.length<+K.value;if((ie||Be)&&(ae(ie,G.message,K.message),!n))return w(M[p].message),M}if(f&&!W&&Yt(m)){const{value:G,message:K}=Fr(f);if(al(G)&&!m.match(G)&&(M[p]={type:sn.pattern,message:K,ref:i,...$(sn.pattern,K)},!n))return w(K),M}if(h){if(Dn(h)){const G=await h(m,e),K=vh(G,k);if(K&&(M[p]={...K,...$(sn.validate,K.message)},!n))return w(K.message),M}else if(Ne(h)){let G={};for(const K in h){if(!vt(G)&&!n)break;const ie=vh(await h[K](m,e),k,K);ie&&(G={...ie,...$(K,ie.message)},w(ie.message),n&&(M[p]=G))}if(!vt(G)&&(M[p]={ref:k,...G},!n))return M}}return w(!0),M};function Nx(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ye(t)?r++:t[e[r++]];return t}function Tx(t){for(const e in t)if(t.hasOwnProperty(e)&&!ye(t[e]))return!1;return!0}function Pe(t,e){const n=Array.isArray(e)?e:Sc(e)?[e]:ty(e),r=n.length===1?t:Nx(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ne(r)&&vt(r)||Array.isArray(r)&&Tx(r))&&Pe(t,n.slice(0,-1)),t}function Aa(){let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}}var ul=t=>Ge(t)||!ey(t);function hr(t,e){if(ul(t)||ul(e))return t===e;if(es(t)&&es(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(es(i)&&es(o)||Ne(i)&&Ne(o)||Array.isArray(i)&&Array.isArray(o)?!hr(i,o):i!==o)return!1}}return!0}var sy=t=>t.type==="select-multiple",Ox=t=>Cc(t)||Ji(t),Da=t=>ll(t)&&t.isConnected,iy=t=>{for(const e in t)if(Dn(t[e]))return!0;return!1};function dl(t,e={}){const n=Array.isArray(t);if(Ne(t)||n)for(const r in t)Array.isArray(t[r])||Ne(t[r])&&!iy(t[r])?(e[r]=Array.isArray(t[r])?[]:{},dl(t[r],e[r])):Ge(t[r])||(e[r]=!0);return e}function oy(t,e,n){const r=Array.isArray(t);if(Ne(t)||r)for(const s in t)Array.isArray(t[s])||Ne(t[s])&&!iy(t[s])?ye(e)||ul(n[s])?n[s]=Array.isArray(t[s])?dl(t[s],[]):{...dl(t[s])}:oy(t[s],Ge(e)?{}:e[s],n[s]):n[s]=!hr(t[s],e[s]);return n}var Pa=(t,e)=>oy(t,e,dl(e)),ly=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ye(t)?t:e?t===""?NaN:t&&+t:n&&Yt(t)?new Date(t):r?r(t):t;function Ra(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return wc(e)?e.files:Cc(e)?ry(t.refs).value:sy(e)?[...e.selectedOptions].map(({value:n})=>n):Ji(e)?ny(t.refs).value:ly(ye(e.value)?t.ref.value:e.value,t)}var jx=(t,e,n,r)=>{const s={};for(const i of t){const o=F(e,i);o&&re(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ks=t=>ye(t)?t:al(t)?t.source:Ne(t)?al(t.value)?t.value.source:t.value:t,Ax=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Sh(t,e,n){const r=F(t,n);if(r||Sc(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=F(e,i),l=F(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var Dx=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Px=(t,e)=>!qi(F(t,e)).length&&Pe(t,e);const Rx={mode:zt.onSubmit,reValidateMode:zt.onChange,shouldFocusError:!0};function Ix(t={},e){let n={...Rx,...t},r={submitCount:0,isDirty:!1,isLoading:Dn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},i=Ne(n.defaultValues)||Ne(n.values)?Sn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Sn(i),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const c={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Aa(),array:Aa(),state:Aa()},h=t.resetOptions&&t.resetOptions.keepDirtyValues,p=ph(n.mode),y=ph(n.reValidateMode),x=n.criteriaMode===zt.all,g=v=>C=>{clearTimeout(d),d=setTimeout(v,C)},m=async v=>{if(c.isValid||v){const C=n.resolver?vt((await W()).errors):await ae(s,!0);C!==r.isValid&&f.state.next({isValid:C})}},k=v=>c.isValidating&&f.state.next({isValidating:v}),w=(v,C=[],E,B,R=!0,O=!0)=>{if(B&&E){if(l.action=!0,O&&Array.isArray(F(s,v))){const _=E(F(s,v),B.argA,B.argB);R&&re(s,v,_)}if(O&&Array.isArray(F(r.errors,v))){const _=E(F(r.errors,v),B.argA,B.argB);R&&re(r.errors,v,_),Px(r.errors,v)}if(c.touchedFields&&O&&Array.isArray(F(r.touchedFields,v))){const _=E(F(r.touchedFields,v),B.argA,B.argB);R&&re(r.touchedFields,v,_)}c.dirtyFields&&(r.dirtyFields=Pa(i,o)),f.state.next({name:v,isDirty:K(v,C),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else re(o,v,C)},M=(v,C)=>{re(r.errors,v,C),f.state.next({errors:r.errors})},A=(v,C,E,B)=>{const R=F(s,v);if(R){const O=F(o,v,ye(E)?F(i,v):E);ye(O)||B&&B.defaultChecked||C?re(o,v,C?O:Ra(R._f)):_e(v,O),l.mount&&m()}},D=(v,C,E,B,R)=>{let O=!1,_=!1;const fe={name:v};if(!E||B){c.isDirty&&(_=r.isDirty,r.isDirty=fe.isDirty=K(),O=_!==fe.isDirty);const ge=hr(F(i,v),C);_=F(r.dirtyFields,v),ge?Pe(r.dirtyFields,v):re(r.dirtyFields,v,!0),fe.dirtyFields=r.dirtyFields,O=O||c.dirtyFields&&_!==!ge}if(E){const ge=F(r.touchedFields,v);ge||(re(r.touchedFields,v,E),fe.touchedFields=r.touchedFields,O=O||c.touchedFields&&ge!==E)}return O&&R&&f.state.next(fe),O?fe:{}},b=(v,C,E,B)=>{const R=F(r.errors,v),O=c.isValid&&cs(C)&&r.isValid!==C;if(t.delayError&&E?(u=g(()=>M(v,E)),u(t.delayError)):(clearTimeout(d),u=null,E?re(r.errors,v,E):Pe(r.errors,v)),(E?!hr(R,E):R)||!vt(B)||O){const _={...B,...O&&cs(C)?{isValid:C}:{},errors:r.errors,name:v};r={...r,..._},f.state.next(_)}k(!1)},W=async v=>n.resolver(o,n.context,jx(v||a.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),$=async v=>{const{errors:C}=await W();if(v)for(const E of v){const B=F(C,E);B?re(r.errors,E,B):Pe(r.errors,E)}else r.errors=C;return C},ae=async(v,C,E={valid:!0})=>{for(const B in v){const R=v[B];if(R){const{_f:O,..._}=R;if(O){const fe=a.array.has(O.name),ge=await xh(R,o,x,n.shouldUseNativeValidation&&!C,fe);if(ge[O.name]&&(E.valid=!1,C))break;!C&&(F(ge,O.name)?fe?bx(r.errors,ge,O.name):re(r.errors,O.name,ge[O.name]):Pe(r.errors,O.name))}_&&await ae(_,C,E)}}return E.valid},G=()=>{for(const v of a.unMount){const C=F(s,v);C&&(C._f.refs?C._f.refs.every(E=>!Da(E)):!Da(C._f.ref))&&At(v)}a.unMount=new Set},K=(v,C)=>(v&&C&&re(o,v,C),!hr(oe(),i)),ie=(v,C,E)=>Mx(v,a,{...l.mount?o:ye(C)?i:Yt(v)?{[v]:C}:C},E,C),Be=v=>qi(F(l.mount?o:i,v,t.shouldUnregister?F(i,v,[]):[])),_e=(v,C,E={})=>{const B=F(s,v);let R=C;if(B){const O=B._f;O&&(!O.disabled&&re(o,v,ly(C,O)),R=ll(O.ref)&&Ge(C)?"":C,sy(O.ref)?[...O.ref.options].forEach(_=>_.selected=R.includes(_.value)):O.refs?Ji(O.ref)?O.refs.length>1?O.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(R)?!!R.find(fe=>fe===_.value):R===_.value)):O.refs[0]&&(O.refs[0].checked=!!R):O.refs.forEach(_=>_.checked=_.value===R):wc(O.ref)?O.ref.value="":(O.ref.value=R,O.ref.type||f.values.next({name:v,values:{...o}})))}(E.shouldDirty||E.shouldTouch)&&D(v,R,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&U(v)},rt=(v,C,E)=>{for(const B in C){const R=C[B],O=`${v}.${B}`,_=F(s,O);(a.array.has(v)||!ul(R)||_&&!_._f)&&!es(R)?rt(O,R,E):_e(O,R,E)}},P=(v,C,E={})=>{const B=F(s,v),R=a.array.has(v),O=Sn(C);re(o,v,O),R?(f.array.next({name:v,values:{...o}}),(c.isDirty||c.dirtyFields)&&E.shouldDirty&&f.state.next({name:v,dirtyFields:Pa(i,o),isDirty:K(v,O)})):B&&!B._f&&!Ge(O)?rt(v,O,E):_e(v,O,E),mh(v,a)&&f.state.next({...r}),f.values.next({name:v,values:{...o}}),!l.mount&&e()},H=async v=>{const C=v.target;let E=C.name,B=!0;const R=F(s,E),O=()=>C.type?Ra(R._f):yx(v);if(R){let _,fe;const ge=O(),Lr=v.type===hh.BLUR||v.type===hh.FOCUS_OUT,z0=!Ax(R._f)&&!n.resolver&&!F(r.errors,E)&&!R._f.deps||Dx(Lr,F(r.touchedFields,E),r.isSubmitted,y,p),ta=mh(E,a,Lr);re(o,E,ge),Lr?(R._f.onBlur&&R._f.onBlur(v),u&&u(0)):R._f.onChange&&R._f.onChange(v);const na=D(E,ge,Lr,!1),F0=!vt(na)||ta;if(!Lr&&f.values.next({name:E,type:v.type,values:{...o}}),z0)return c.isValid&&m(),F0&&f.state.next({name:E,...ta?{}:na});if(!Lr&&ta&&f.state.next({...r}),k(!0),n.resolver){const{errors:Jc}=await W([E]),B0=Sh(r.errors,s,E),qc=Sh(Jc,s,B0.name||E);_=qc.error,E=qc.name,fe=vt(Jc)}else _=(await xh(R,o,x,n.shouldUseNativeValidation))[E],B=isNaN(ge)||ge===F(o,E,ge),B&&(_?fe=!1:c.isValid&&(fe=await ae(s,!0)));B&&(R._f.deps&&U(R._f.deps),b(E,fe,_,na))}},U=async(v,C={})=>{let E,B;const R=ja(v);if(k(!0),n.resolver){const O=await $(ye(v)?v:R);E=vt(O),B=v?!R.some(_=>F(O,_)):E}else v?(B=(await Promise.all(R.map(async O=>{const _=F(s,O);return await ae(_&&_._f?{[O]:_}:_)}))).every(Boolean),!(!B&&!r.isValid)&&m()):B=E=await ae(s);return f.state.next({...!Yt(v)||c.isValid&&E!==r.isValid?{}:{name:v},...n.resolver||!v?{isValid:E}:{},errors:r.errors,isValidating:!1}),C.shouldFocus&&!B&&td(s,O=>O&&F(r.errors,O),v?R:a.mount),B},oe=v=>{const C={...i,...l.mount?o:{}};return ye(v)?C:Yt(v)?F(C,v):v.map(E=>F(C,E))},me=(v,C)=>({invalid:!!F((C||r).errors,v),isDirty:!!F((C||r).dirtyFields,v),isTouched:!!F((C||r).touchedFields,v),error:F((C||r).errors,v)}),Ir=v=>{v&&ja(v).forEach(C=>Pe(r.errors,C)),f.state.next({errors:v?r.errors:{}})},Wt=(v,C,E)=>{const B=(F(s,v,{_f:{}})._f||{}).ref;re(r.errors,v,{...C,ref:B}),f.state.next({name:v,errors:r.errors,isValid:!1}),E&&E.shouldFocus&&B&&B.focus&&B.focus()},zs=(v,C)=>Dn(v)?f.values.subscribe({next:E=>v(ie(void 0,C),E)}):ie(v,C,!0),At=(v,C={})=>{for(const E of v?ja(v):a.mount)a.mount.delete(E),a.array.delete(E),C.keepValue||(Pe(s,E),Pe(o,E)),!C.keepError&&Pe(r.errors,E),!C.keepDirty&&Pe(r.dirtyFields,E),!C.keepTouched&&Pe(r.touchedFields,E),!n.shouldUnregister&&!C.keepDefaultValue&&Pe(i,E);f.values.next({values:{...o}}),f.state.next({...r,...C.keepDirty?{isDirty:K()}:{}}),!C.keepIsValid&&m()},kn=(v,C={})=>{let E=F(s,v);const B=cs(C.disabled);return re(s,v,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:v}},name:v,mount:!0,...C}}),a.mount.add(v),ye(C.value)||re(o,v,C.value),E?B&&re(o,v,C.disabled?void 0:F(o,v,Ra(E._f))):A(v,!0,C.value),{...B?{disabled:C.disabled}:{},...n.progressive?{required:!!C.required,min:Ks(C.min),max:Ks(C.max),minLength:Ks(C.minLength),maxLength:Ks(C.maxLength),pattern:Ks(C.pattern)}:{},name:v,onChange:H,onBlur:H,ref:R=>{if(R){kn(v,C),E=F(s,v);const O=ye(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,_=Ox(O),fe=E._f.refs||[];if(_?fe.find(ge=>ge===O):O===E._f.ref)return;re(s,v,{_f:{...E._f,..._?{refs:[...fe.filter(Da),O,...Array.isArray(F(i,v))?[{}]:[]],ref:{type:O.type,name:v}}:{ref:O}}}),A(v,!1,void 0,O)}else E=F(s,v,{}),E._f&&(E._f.mount=!1),(n.shouldUnregister||C.shouldUnregister)&&!(vx(a.array,v)&&l.action)&&a.unMount.add(v)}}},Hc=()=>n.shouldFocusError&&td(s,v=>v&&F(r.errors,v),a.mount),Uc=(v,C)=>async E=>{E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let B=Sn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:R,values:O}=await W();r.errors=R,B=O}else await ae(s);Pe(r.errors,"root"),vt(r.errors)?(f.state.next({errors:{}}),await v(B,E)):(C&&await C({...r.errors},E),Hc(),setTimeout(Hc)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},L0=(v,C={})=>{F(s,v)&&(ye(C.defaultValue)?P(v,F(i,v)):(P(v,C.defaultValue),re(i,v,C.defaultValue)),C.keepTouched||Pe(r.touchedFields,v),C.keepDirty||(Pe(r.dirtyFields,v),r.isDirty=C.defaultValue?K(v,F(i,v)):K()),C.keepError||(Pe(r.errors,v),c.isValid&&m()),f.state.next({...r}))},Wc=(v,C={})=>{const E=v||i,B=Sn(E),R=v&&!vt(v)?B:i;if(C.keepDefaultValues||(i=E),!C.keepValues){if(C.keepDirtyValues||h)for(const O of a.mount)F(r.dirtyFields,O)?re(R,O,F(o,O)):P(O,F(R,O));else{if(xc&&ye(v))for(const O of a.mount){const _=F(s,O);if(_&&_._f){const fe=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(ll(fe)){const ge=fe.closest("form");if(ge){ge.reset();break}}}}s={}}o=t.shouldUnregister?C.keepDefaultValues?Sn(i):{}:Sn(R),f.array.next({values:{...R}}),f.values.next({values:{...R}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!c.isValid||!!C.keepIsValid,l.watch=!!t.shouldUnregister,f.state.next({submitCount:C.keepSubmitCount?r.submitCount:0,isDirty:C.keepDirty?r.isDirty:!!(C.keepDefaultValues&&!hr(v,i)),isSubmitted:C.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:C.keepDirtyValues?r.dirtyFields:C.keepDefaultValues&&v?Pa(i,v):{},touchedFields:C.keepTouched?r.touchedFields:{},errors:C.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Kc=(v,C)=>Wc(Dn(v)?v(o):v,C);return{control:{register:kn,unregister:At,getFieldState:me,handleSubmit:Uc,setError:Wt,_executeSchema:W,_getWatch:ie,_getDirty:K,_updateValid:m,_removeUnmounted:G,_updateFieldArray:w,_getFieldArray:Be,_reset:Wc,_resetDefaultValues:()=>Dn(n.defaultValues)&&n.defaultValues().then(v=>{Kc(v,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:v=>{r={...r,...v}},_subjects:f,_proxyFormState:c,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(v){l=v},get _defaultValues(){return i},get _names(){return a},set _names(v){a=v},get _formState(){return r},set _formState(v){r=v},get _options(){return n},set _options(v){n={...n,...v}}},trigger:U,register:kn,handleSubmit:Uc,watch:zs,setValue:P,getValues:oe,reset:Kc,resetField:L0,clearErrors:Ir,unregister:At,setError:Wt,setFocus:(v,C={})=>{const E=F(s,v),B=E&&E._f;if(B){const R=B.refs?B.refs[0]:B.ref;R.focus&&(R.focus(),C.shouldSelect&&R.select())}},getFieldState:me}}function Lx(t={}){const e=ke.useRef(),n=ke.useRef(),[r,s]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Dn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Dn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Ix(t,()=>s(o=>({...o}))),formState:r});const i=e.current.control;return i._options=t,Cx({subject:i._subjects.state,next:o=>{wx(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ke.useEffect(()=>{t.values&&!hr(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values):i._resetDefaultValues()},[t.values,i]),ke.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Sx(r,i),e.current}function zx(){const t=[{title:"lack",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Summers"},{title:"bend",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Jensen"},{title:"current",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Pierce"},{title:"trunk",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Cunningham"},{title:"same",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",penname:"Springs"}],e=$l(),{register:n,handleSubmit:r,setFocus:s}=Lx(),i=o=>{e(`/watch?keyword=${o.keyword}`)};return S.jsxs("div",{className:"w-full h-full relative bg-[#F7F7F7]",children:[S.jsx("div",{className:"pt-9 pl-6",children:"로고영역"}),S.jsxs("div",{className:"w-full pt-9 px-6 flex flex-col",children:[S.jsx("div",{className:"font-bold text-2xl",children:"일상공감"}),S.jsxs("form",{className:"mt-3 flex items-center relative",onSubmit:r(i),children:[S.jsx("input",{...n("keyword"),className:"w-full pl-5 py-1 border rounded-[20px] border-[#D9D9D9]",placeholder:"검색"}),S.jsx("svg",{className:"absolute right-5",onClick:()=>{s("keyword")},width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M20 18.4444L13 11.4444C13.4444 10.8889 13.7963 10.25 14.0556 9.52778C14.3148 8.80556 14.4444 8.03704 14.4444 7.22222C14.4444 5.2037 13.7452 3.49556 12.3467 2.09778C10.9481 0.700001 9.24 0.000741145 7.22222 3.15693e-07C5.2037 2.27461e-07 3.49556 0.699259 2.09778 2.09778C0.7 3.4963 0.000740513 5.20444 -3.15693e-07 7.22222C-4.03926e-07 9.24074 0.699259 10.9489 2.09778 12.3467C3.4963 13.7444 5.20444 14.4437 7.22222 14.4444C8.03704 14.4444 8.80556 14.3148 9.52778 14.0556C10.25 13.7963 10.8889 13.4444 11.4444 13L18.4444 20L20 18.4444ZM12.2222 7.22222C12.2222 8.61111 11.7359 9.79185 10.7633 10.7644C9.79074 11.737 8.61037 12.223 7.22222 12.2222C5.83333 12.2222 4.65259 11.7359 3.68 10.7633C2.70741 9.79074 2.22148 8.61037 2.22222 7.22222C2.22222 5.83333 2.70852 4.65259 3.68111 3.68C4.6537 2.70741 5.83407 2.22148 7.22222 2.22222C8.61111 2.22222 9.79185 2.70852 10.7644 3.68111C11.737 4.6537 12.223 5.83407 12.2222 7.22222Z",fill:"#D0D0D0"})})]}),S.jsx(Zg,{bgColor:"#FFCE52"}),t.map(o=>S.jsxs(ds,{to:"/watch",className:"relative mt-4 px-5 py-5 h-44 border rounded-[20px] bg-white",children:[S.jsx("div",{className:"font-bold text-base",children:o.title}),S.jsx("div",{className:"mt-4 text-xs line-clamp-5",children:o.content}),S.jsxs(ds,{to:"/mypage",className:"absolute mt-1 right-5 text-xs",children:[o.penname,"님의 글"]})]},o.penname))]}),S.jsx(vc,{})]})}function Mc({name:t}){return S.jsxs("header",{className:"fixed top-0 left-0 z-20 w-full h-[48px] text-center items-center bg-zinc-100",children:[S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 font-bold text-lg select-none",children:t}),S.jsx(ds,{to:"/main",className:"absolute top-1/2 left-[18px]  -translate-y-1/2",children:S.jsx(Fx,{})})]})}function Fx(){return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",children:S.jsx("path",{d:"M12 17.1336L4.583 9.7166L12 2.2834L9.7166 0L0 9.7166L9.7166 19.4332L12 17.1336Z",fill:"black"})})}function Bx(){return S.jsxs("div",{className:"w-screen h-screen relative overflow-hidden",children:[S.jsx(Mc,{name:"무지님의 글"}),S.jsx("div",{className:"translate-y-[90px] w-full px-6",children:S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"font-bold text-2xl",children:"lack"}),S.jsx("div",{className:"mt-4 text-base",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})}),S.jsx("div",{className:"translate-y-[90px] px-6",children:S.jsx(Zg,{bgColor:""})}),S.jsx(vc,{})]})}function Ie(t){this.content=t}Ie.prototype={constructor:Ie,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Ie(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ie(n)},addToStart:function(t,e){return new Ie([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ie(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Ie(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ie.from(t),t.size?new Ie(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ie.from(t),t.size?new Ie(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ie.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ie.from=function(t){if(t instanceof Ie)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ie(e)};function ay(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=ay(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function uy(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),l=e.child(--i),a=o.nodeSize;if(o==l){n-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,d=Math.min(o.text.length,l.text.length);for(;u<d&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=uy(o.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class N{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,l=0;l<n;o++){let a=this.content[o],u=l+a.nodeSize;if(u>e&&r(a,s+l,i||null,o)!==!1&&a.content.size){let d=l+1;a.nodesBetween(Math.max(0,e-d),Math.min(a.content.size,n-d),r,s+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(l,a)=>{l.isText?(i+=l.text.slice(Math.max(e,a)-a,n-a),o=!r):l.isLeaf?(s?i+=typeof s=="function"?s(l):s:l.type.spec.leafText&&(i+=l.type.spec.leafText(l)),o=!r):!o&&l.isBlock&&(i+=r,o=!0)},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new N(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let l=this.content[i],a=o+l.nodeSize;a>e&&((o<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),s+=l.nodeSize),o=a}return new N(r,s)}cutByIndex(e,n){return e==n?N.empty:e==0&&n==this.content.length?this:new N(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new N(s,i)}addToStart(e){return new N([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new N(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return ay(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return uy(this,e,n,r)}findIndex(e,n=-1){if(e==0)return mo(0,e);if(e==this.size)return mo(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=e)return o==e||n>0?mo(r+1,o):mo(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return N.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new N(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return N.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new N(n||e,r)}static from(e){if(!e)return N.empty;if(e instanceof N)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new N([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}N.empty=new N([],0);const Ia={index:0,offset:0};function mo(t,e){return Ia.index=t,Ia.offset=e,Ia}function cl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!cl(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!cl(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let ee=class nd{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&cl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return nd.none;if(e instanceof nd)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};ee.none=[];class fl extends Error{}class I{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=cy(this.content,e+this.openStart,n);return r&&new I(r,this.openStart,this.openEnd)}removeBetween(e,n){return new I(dy(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return I.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new I(N.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new I(e,r,s)}}I.empty=new I(N.empty,0,0);function dy(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(dy(i.content,e-s-1,n-s-1)))}function cy(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=cy(o.content,e-i-1,n);return l&&t.replaceChild(s,o.copy(l))}function _x(t,e,n){if(n.openStart>t.depth)throw new fl("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new fl("Inconsistent open depths");return fy(t,e,n,0)}function fy(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=fy(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return xr(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Vx(n,t);return xr(i,py(t,o,l,e,r))}else return xr(i,hl(t,e,r))}function hy(t,e){if(!e.type.compatibleContent(t.type))throw new fl("Cannot join "+e.type.name+" onto "+t.type.name)}function rd(t,e,n){let r=t.node(n);return hy(r,e.node(n)),r}function vr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ci(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(vr(t.nodeAfter,r),i++));for(let l=i;l<o;l++)vr(s.child(l),r);e&&e.depth==n&&e.textOffset&&vr(e.nodeBefore,r)}function xr(t,e){return t.type.checkContent(e),t.copy(e)}function py(t,e,n,r,s){let i=t.depth>s&&rd(t,e,s+1),o=r.depth>s&&rd(n,r,s+1),l=[];return ci(null,t,s,l),i&&o&&e.index(s)==n.index(s)?(hy(i,o),vr(xr(i,py(t,e,n,r,s+1)),l)):(i&&vr(xr(i,hl(t,e,s+1)),l),ci(e,n,s,l),o&&vr(xr(o,hl(n,r,s+1)),l)),ci(r,null,s,l),new N(l)}function hl(t,e,n){let r=[];if(ci(null,t,n,r),t.depth>n){let s=rd(t,e,n+1);vr(xr(s,hl(t,e,n+1)),r)}return ci(e,null,n,r),new N(r)}function Vx(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(N.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Ri{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ee.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new pl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(i),u=i-a;if(r.push(o,l,s+a),!u||(o=o.child(l),o.isText))break;i=u-1,s+=a+1}return new Ri(n,r,i)}static resolveCached(e,n){for(let s=0;s<La.length;s++){let i=La[s];if(i.pos==n&&i.doc==e)return i}let r=La[za]=Ri.resolve(e,n);return za=(za+1)%$x,r}}let La=[],za=0,$x=12;class pl{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Hx=Object.create(null);let Sr=class sd{constructor(e,n,r,s=ee.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||N.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&cl(this.attrs,n||e.defaultAttrs||Hx)&&ee.sameSet(this.marks,r||ee.none)}copy(e=null){return e==this.content?this:new sd(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new sd(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return I.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),l=s.start(o),u=s.node(o).content.cut(s.pos-l,i.pos-l);return new I(u,s.depth-o,i.depth-o)}replace(e,n,r){return _x(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Ri.resolveCached(this,e)}resolveNoCache(e){return Ri.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),my(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=N.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=s;a<i;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=ee.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!ee.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=N.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,s,r)}};Sr.prototype.text=void 0;class ml extends Sr{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):my(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ml(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ml(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function my(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Or{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Ux(e,n);if(r.next==null)return Or.empty;let s=gy(r);r.next&&r.err("Unexpected trailing text");let i=Yx(Gx(s));return Xx(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,l){let a=o.matchFragment(e,r);if(a&&(!n||a.validEnd))return N.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:d,next:c}=o.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(c)==-1){s.push(c);let f=i(c,l.concat(d));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:a}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}Or.empty=new Or(!0);class Ux{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function gy(t){let e=[];do e.push(Wx(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Wx(t){let e=[];do e.push(Kx(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Kx(t){let e=Qx(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Jx(t,e);else break;return e}function wh(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Jx(t,e){let n=wh(t),r=n;return t.eat(",")&&(t.next!="}"?r=wh(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function qx(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.groups.indexOf(e)>-1&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Qx(t){if(t.eat("(")){let e=gy(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=qx(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Gx(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,a){let u={term:a,to:l};return e[o].push(u),u}function s(o,l){o.forEach(a=>a.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((a,u)=>a.concat(i(u,l)),[]);if(o.type=="seq")for(let a=0;;a++){let u=i(o.exprs[a],l);if(a==o.exprs.length-1)return u;s(u,l=n())}else if(o.type=="star"){let a=n();return r(l,a),s(i(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=n();return s(i(o.expr,l),a),s(i(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(i(o.expr,l));if(o.type=="range"){let a=l;for(let u=0;u<o.min;u++){let d=n();s(i(o.expr,a),d),a=d}if(o.max==-1)s(i(o.expr,a),a);else for(let u=o.min;u<o.max;u++){let d=n();r(a,d),s(i(o.expr,a),d),a=d}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function yy(t,e){return e-t}function Ch(t,e){let n=[];return r(e),n.sort(yy);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:l,to:a}=i[o];!l&&n.indexOf(a)==-1&&r(a)}}}function Yx(t){let e=Object.create(null);return n(Ch(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let d=0;d<s.length;d++)s[d][0]==l&&(u=s[d][1]);Ch(t,a).forEach(d=>{u||s.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[r.join(",")]=new Or(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(yy);i.next.push({type:s[o][0],next:e[l.join(",")]||n(l)})}return i}}function Xx(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:a,next:u}=s.next[l];o.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ky(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function vy(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function xy(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Zx(t[n]);return e}let Mh=class Sy{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=xy(r.attrs),this.defaultAttrs=ky(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Or.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:vy(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Sr(this,this.computeAttrs(e),N.from(n),ee.setFrom(r))}createChecked(e=null,n,r){return n=N.from(n),this.checkContent(n),new Sr(this,this.computeAttrs(e),n,ee.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=N.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(N.empty,!0);return i?new Sr(this,e,n.append(i),ee.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ee.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new Sy(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class Zx{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Hl{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=xy(s.attrs),this.excluded=null;let i=ky(this.attrs);this.instance=i?new ee(this,i):null}create(e=null){return!e&&this.instance?this.instance:new ee(this,vy(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new Hl(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class eS{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Ie.from(e.nodes),n.marks=Ie.from(e.marks||{}),this.nodes=Mh.compile(this.spec.nodes,this),this.marks=Hl.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;i.contentMatch=r[o]||(r[o]=Or.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=l=="_"?null:l?Eh(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Eh(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Mh){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new ml(r,r.defaultAttrs,e,ee.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Sr.fromJSON(this,e)}markFromJSON(e){return ee.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Eh(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let l in t.marks){let a=t.marks[l];(s=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Cs{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Nh(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Nh(this,n,!0);return r.addAll(e,n.from,n.to),I.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(rS(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let a=o.getAttrs(n);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=Th(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=Th(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Cs(e,Cs.schemaRules(e)))}}const wy={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},tS={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Cy={ol:!0,ul:!0},gl=1,yl=2,fi=4;function bh(t,e,n){return e!=null?(e?gl:0)|(e==="full"?yl:0):t&&t.whitespace=="pre"?gl|yl:n&~fi}class go{constructor(e,n,r,s,i,o,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=l,this.content=[],this.activeMarks=ee.none,this.stashMarks=[],this.match=o||(l&fi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(N.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&gl)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=N.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(N.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):iS(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!wy.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Nh{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,o=bh(null,n.preserveWhitespace,0)|(r?fi:0);s?i=new go(s.type,s.attrs,ee.none,ee.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new go(null,null,ee.none,ee.none,!0,null,o):i=new go(e.schema.topNodeType,null,ee.none,ee.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let s=this.readStyles(sS(r));if(!s)return;let[i,o]=s,l=this.top;for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<i.length;a++)this.addPendingMark(i[a]);n();for(let a=0;a<i.length;a++)this.removePendingMark(i[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&yl||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&gl)r.options&yl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=e.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),s;Cy.hasOwnProperty(r)&&this.parser.normalizeLists&&nS(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(i?i.ignore:tS.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let o,l=this.top,a=this.needsBlock;if(wy.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),o&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?s:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=ee.none,r=ee.none;for(let s=0;s<e.length;s+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[s],e[s+1],this,i);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{o.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return[n,r]}addElementByRule(e,n,r){let s,i,o;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(e):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let l=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}s&&this.sync(l)&&this.open--,o&&this.removePendingMark(o,l)}addAll(e,n,r){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,o=r==null?null:e.childNodes[r];i!=o;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i);this.findAtPoint(e,s)}findPlace(e){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],o=i.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,r=i,!o.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(r=e.marks[s].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,r),s}enterInner(e,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=bh(e,s,i.options);i.options&fi&&i.content.length==0&&(o|=fi),this.nodes.push(new go(e,n,i.activeMarks,i.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=i;a--)if(o(l-1,a))return!0;return!1}else{let d=a>0||a==0&&s?this.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!d||d.name!=u&&d.groups.indexOf(u)==-1)return!1;a--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=oS(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let o=s.popFromStashMark(e);o&&s.type&&s.type.allowsMarkType(o.type)&&(s.activeMarks=o.addToSet(s.activeMarks))}if(s==n)break}}}function nS(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Cy.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function rS(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function sS(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Th(t){let e={};for(let n in t)e[n]=t[n];return e}function iS(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:d}=l.edge(a);if(u==e||i.indexOf(d)<0&&o(d))return!0}};if(o(s.contentMatch))return!0}}function oS(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Xt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Fa(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,a=0;for(;l<i.length&&a<o.marks.length;){let u=o.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)s=i.pop()[1];for(;a<o.marks.length;){let u=o.marks[a++],d=this.serializeMark(u,o.isInline,n);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Xt.renderSpec(Fa(n),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Xt.renderSpec(Fa(r),s(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let s=n[0],i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let o,l=r?e.createElementNS(r,s):e.createElement(s),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let d in a)if(a[d]!=null){let c=d.indexOf(" ");c>0?l.setAttributeNS(d.slice(0,c),d.slice(c+1),a[d]):l.setAttribute(d,a[d])}}for(let d=u;d<n.length;d++){let c=n[d];if(c===0){if(d<n.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:h}=Xt.renderSpec(e,c,r);if(l.appendChild(f),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:l,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Xt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Oh(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Oh(e.marks)}}function Oh(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Fa(t){return t.document||window.document}const My=65535,Ey=Math.pow(2,16);function lS(t,e){return t+e*Ey}function jh(t){return t&My}function aS(t){return(t-(t&My))/Ey}const by=1,Ny=2,Do=4,Ty=8;class id{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Ty)>0}get deletedBefore(){return(this.delInfo&(by|Do))>0}get deletedAfter(){return(this.delInfo&(Ny|Do))>0}get deletedAcross(){return(this.delInfo&Do)>0}}class Ct{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ct.empty)return Ct.empty}recover(e){let n=0,r=jh(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+aS(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?s:0);if(a>e)break;let u=this.ranges[l+i],d=this.ranges[l+o],c=a+u;if(e<=c){let f=u?e==a?-1:e==c?1:n:n,h=a+s+(f<0?0:d);if(r)return h;let p=e==(n<0?a:c)?null:lS(l/3,e-a),y=e==a?Ny:e==c?by:Do;return(n<0?e!=a:e!=c)&&(y|=Ty),new id(h,y,p)}s+=d-u}return r?e+s:new id(e+s,0,null)}touches(e,n){let r=0,s=jh(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+i],d=a+u;if(e<=d&&l==s*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),a=o+(this.inverted?0:i),u=this.ranges[s+n],d=this.ranges[s+r];e(l,l+u,a,a+d),i+=d-u}}invert(){return new Ct(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ct.empty:new Ct(e<0?[0,-e,0]:[0,0,e])}}Ct.empty=new Ct([]);class fs{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new fs(this.maps,this.mirror,e,n)}copy(){return new fs(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new fs;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],l=o.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this.maps[a].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new id(e,s,null)}}const Ba=Object.create(null);class ct{getMap(){return Ct.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ba[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ba)throw new RangeError("Duplicate use of step JSON ID "+e);return Ba[e]=n,n.prototype.jsonID=e,n}}class be{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new be(e,null)}static fail(e){return new be(null,e)}static fromReplace(e,n,r,s){try{return be.ok(e.replace(n,r,s))}catch(i){if(i instanceof fl)return be.fail(i.message);throw i}}}function Ec(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Ec(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return N.fromArray(r)}class Pn extends ct{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new I(Ec(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return be.fromReplace(e,this.from,this.to,i)}invert(){return new Zt(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Pn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Pn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pn(n.from,n.to,e.markFromJSON(n.mark))}}ct.jsonID("addMark",Pn);class Zt extends ct{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new I(Ec(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return be.fromReplace(e,this.from,this.to,r)}invert(){return new Pn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Zt(n.pos,r.pos,this.mark)}merge(e){return e instanceof Zt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Zt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Zt(n.from,n.to,e.markFromJSON(n.mark))}}ct.jsonID("removeMark",Zt);class Rn extends ct{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return be.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return be.fromReplace(e,this.pos,this.pos+1,new I(N.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Rn(this.pos,n.marks[s]);return new Rn(this.pos,this.mark)}}return new Ms(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Rn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rn(n.pos,e.markFromJSON(n.mark))}}ct.jsonID("addNodeMark",Rn);class Ms extends ct{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return be.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return be.fromReplace(e,this.pos,this.pos+1,new I(N.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Rn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ms(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ms(n.pos,e.markFromJSON(n.mark))}}ct.jsonID("removeNodeMark",Ms);class We extends ct{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&od(e,this.from,this.to)?be.fail("Structure replace would overwrite content"):be.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ct([this.from,this.to-this.from,this.slice.size])}invert(e){return new We(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new We(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof We)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new We(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new We(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new We(n.from,n.to,I.fromJSON(e,n.slice),!!n.structure)}}ct.jsonID("replace",We);class je extends ct{constructor(e,n,r,s,i,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(od(e,this.from,this.gapFrom)||od(e,this.gapTo,this.to)))return be.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return be.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?be.fromReplace(e,this.from,this.to,r):be.fail("Content does not fit in gap")}getMap(){return new Ct([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new je(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new je(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new je(n.from,n.to,n.gapFrom,n.gapTo,I.fromJSON(e,n.slice),n.insert,!!n.structure)}}ct.jsonID("replaceAround",je);function od(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function uS(t,e,n,r){let s=[],i=[],o,l;t.doc.nodesBetween(e,n,(a,u,d)=>{if(!a.isInline)return;let c=a.marks;if(!r.isInSet(c)&&d.type.allowsMarkType(r.type)){let f=Math.max(u,e),h=Math.min(u+a.nodeSize,n),p=r.addToSet(c);for(let y=0;y<c.length;y++)c[y].isInSet(p)||(o&&o.to==f&&o.mark.eq(c[y])?o.to=h:s.push(o=new Zt(f,h,c[y])));l&&l.to==f?l.to=h:i.push(l=new Pn(f,h,r))}}),s.forEach(a=>t.step(a)),i.forEach(a=>t.step(a))}function dS(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;i++;let a=null;if(r instanceof Hl){let u=o.marks,d;for(;d=r.isInSet(u);)(a||(a=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let u=Math.min(l+o.nodeSize,n);for(let d=0;d<a.length;d++){let c=a[d],f;for(let h=0;h<s.length;h++){let p=s[h];p.step==i-1&&c.eq(s[h].style)&&(f=p)}f?(f.to=u,f.step=i):s.push({style:c,from:Math.max(l,e),to:u,step:i})}}}),s.forEach(o=>t.step(new Zt(o.from,o.to,o.style)))}function cS(t,e,n,r=n.contentMatch){let s=t.doc.nodeAt(e),i=[],o=e+1;for(let l=0;l<s.childCount;l++){let a=s.child(l),u=o+a.nodeSize,d=r.matchType(a.type);if(!d)i.push(new We(o,u,I.empty));else{r=d;for(let c=0;c<a.marks.length;c++)n.allowsMarkType(a.marks[c].type)||t.step(new Zt(o,u,a.marks[c]))}o=u}if(!r.validEnd){let l=r.fillBefore(N.empty,!0);t.replace(o,o,new I(l,0,0))}for(let l=i.length-1;l>=0;l--)t.step(i[l])}function fS(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ls(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!fS(s,i,o))break}return null}function hS(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),l=s.after(i+1),a=o,u=l,d=N.empty,c=0;for(let p=i,y=!1;p>n;p--)y||r.index(p)>0?(y=!0,d=N.from(r.node(p).copy(d)),c++):a--;let f=N.empty,h=0;for(let p=i,y=!1;p>n;p--)y||s.after(p+1)<s.end(p)?(y=!0,f=N.from(s.node(p).copy(f)),h++):u++;t.step(new je(a,u,o,l,new I(d.append(f),c,h),d.size-c,!0))}function bc(t,e,n=null,r=t){let s=pS(t,e),i=s&&mS(r,e);return i?s.map(Ah).concat({type:e,attrs:n}).concat(i.map(Ah)):null}function Ah(t){return{type:t,attrs:null}}function pS(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function mS(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;a&&u<s;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:o}function gS(t,e,n){let r=N.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=N.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new je(s,i,s,i,new I(r,0,0),n.length,!0))}function yS(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{if(o.isTextblock&&!o.hasMarkup(r,s)&&kS(t.doc,t.mapping.slice(i).map(l),r)){t.clearIncompatible(t.mapping.slice(i).map(l,1),r);let a=t.mapping.slice(i),u=a.map(l,1),d=a.map(l+o.nodeSize,1);return t.step(new je(u,d,u+1,d-1,new I(N.from(r.create(s,null,o.marks)),0,0),1,!0)),!1}})}function kS(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function vS(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new je(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new I(N.from(o),0,0),1,!0))}function hs(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=n-2;u>i;u--,d--){let c=s.node(u),f=s.index(u);if(c.type.spec.isolating)return!1;let h=c.content.cutByIndex(f,c.childCount),p=r&&r[d+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let y=r&&r[d]||c;if(!c.canReplace(f+1,c.childCount)||!y.type.validContent(h))return!1}let l=s.indexAfter(i),a=r&&r[0];return s.node(i).canReplaceWith(l,l,a?a.type:s.node(i+1).type)}function xS(t,e,n=1,r){let s=t.doc.resolve(e),i=N.empty,o=N.empty;for(let l=s.depth,a=s.depth-n,u=n-1;l>a;l--,u--){i=N.from(s.node(l).copy(i));let d=r&&r[u];o=N.from(d?d.type.create(d.attrs,o):s.node(l).copy(o))}t.step(new We(e,e,new I(i.append(o),n,n),!0))}function tr(t,e){let n=t.resolve(e),r=n.index();return Oy(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Oy(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function jy(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),l++,o=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),o=r.node(s+1)),i&&!i.isTextblock&&Oy(i,o)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function SS(t,e,n){let r=new We(e-n,e+n,I.empty,!0);t.step(r)}function wS(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function Ay(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),u=r.node(o),d=!1;if(i==1)d=u.canReplace(a,a,s);else{let c=u.contentMatchAt(a).findWrapping(s.firstChild.type);d=c&&u.canReplaceWith(a,a,c[0])}if(d)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function Nc(t,e,n=e,r=I.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return Dy(s,i,r)?new We(e,n,r):new CS(s,i,r).fit()}function Dy(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class CS{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=N.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=N.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let a=new I(i,o,l);return e>-1?new je(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new We(r.pos,s.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=_a(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],d,c=null;if(n==1&&(o?u.matchType(o.type)||(c=u.fillBefore(N.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:c};if(n==2&&o&&(d=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_a(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new I(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_a(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new I(Zs(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new I(Zs(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,u=0,d=[],{match:c,type:f}=this.frontier[n];if(s){for(let y=0;y<s.childCount;y++)d.push(s.child(y));c=c.matchFragment(s)}let h=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let y=l.child(u),x=c.matchType(y.type);if(!x)break;u++,(u>1||a==0||y.content.size)&&(c=x,d.push(Py(y.mark(f.allowedMarks(y.marks)),u==1?a:0,u==l.childCount?h:-1)))}let p=u==l.childCount;p||(h=-1),this.placed=ei(this.placed,n,N.from(d)),this.frontier[n].match=c,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=l;y<h;y++){let g=x.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),x=g.content}this.unplaced=p?e==0?I.empty:new I(Zs(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new I(Zs(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Va(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Va(e,n,s,r,i);if(o){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],d=Va(e,l,u,a,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ei(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ei(this.placed,this.depth,N.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(N.empty,!0);n.childCount&&(this.placed=ei(this.placed,this.frontier.length,n))}}function Zs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Zs(t.firstChild.content,e-1,n)))}function ei(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ei(t.lastChild.content,e-1,n)))}function _a(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Py(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Py(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(N.empty,!0)))),t.copy(r)}function Va(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,o);return l&&!MS(n,i.content,o)?l:null}function MS(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ES(t){return t.spec.defining||t.spec.definingForContent}function bS(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(Dy(s,i,r))return t.step(new We(e,n,r));let o=Iy(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let f=s.depth,h=s.pos-1;f>0;f--,h--){let p=s.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?l=f:s.before(f)==h&&o.splice(1,0,-f)}let a=o.indexOf(l),u=[],d=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==r.openStart)break;f=p.content}for(let f=d-1;f>=0;f--){let h=u[f].type,p=ES(h);if(p&&s.node(a).type!=h)d=f;else if(p||!h.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+d+1)%(r.openStart+1),p=u[h];if(p)for(let y=0;y<o.length;y++){let x=o[(y+a)%o.length],g=!0;x<0&&(g=!1,x=-x);let m=s.node(x-1),k=s.index(x-1);if(m.canReplaceWith(k,k,p.type,p.marks))return t.replace(s.before(x),g?i.after(x):n,new I(Ry(r.content,0,r.openStart,h),h,r.openEnd))}}let c=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>c));f--){let h=o[f];h<0||(e=s.before(h),n=i.after(h))}}function Ry(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(Ry(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(N.empty,!0))}return t}function NS(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=wS(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new I(N.from(r),0,0))}function TS(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=Iy(r,s);for(let o=0;o<i.length;o++){let l=i[o],a=o==i.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function Iy(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class ps extends ct{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return be.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return be.fromReplace(e,this.pos,this.pos+1,new I(N.from(s),0,n.isLeaf?0:1))}getMap(){return Ct.empty}invert(e){return new ps(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ps(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ps(n.pos,n.attr,n.value)}}ct.jsonID("attr",ps);let Es=class extends Error{};Es=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Es.prototype=Object.create(Error.prototype);Es.prototype.constructor=Es;Es.prototype.name="TransformError";class OS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fs}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Es(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=I.empty){let s=Nc(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new I(N.from(r),0,0))}delete(e,n){return this.replace(e,n,I.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return bS(this,e,n,r),this}replaceRangeWith(e,n,r){return NS(this,e,n,r),this}deleteRange(e,n){return TS(this,e,n),this}lift(e,n){return hS(this,e,n),this}join(e,n=1){return SS(this,e,n),this}wrap(e,n){return gS(this,e,n),this}setBlockType(e,n=e,r,s=null){return yS(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return vS(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new ps(e,n,r)),this}addNodeMark(e,n){return this.step(new Rn(e,n)),this}removeNodeMark(e,n){if(!(n instanceof ee)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Ms(e,n)),this}split(e,n=1,r){return xS(this,e,n,r),this}addMark(e,n,r){return uS(this,e,n,r),this}removeMark(e,n,r){return dS(this,e,n,r),this}clearIncompatible(e,n,r){return cS(this,e,n,r),this}}const $a=Object.create(null);class q{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new jS(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=I.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],d=e.mapping.slice(i);e.replaceRange(d.map(a.pos),d.map(u.pos),l?I.empty:n),l==0&&Rh(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],a=e.mapping.slice(r),u=a.map(o.pos),d=a.map(l.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),Rh(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Q(e):_r(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?_r(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):_r(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Vt(e.node(0))}static atStart(e){return _r(e,e,0,0,1)||new Vt(e)}static atEnd(e){return _r(e,e,e.content.size,e.childCount,-1)||new Vt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=$a[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in $a)throw new RangeError("Duplicate use of selection JSON ID "+e);return $a[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Q.between(this.$anchor,this.$head).getBookmark()}}q.prototype.visible=!0;class jS{constructor(e,n){this.$from=e,this.$to=n}}let Dh=!1;function Ph(t){!Dh&&!t.parent.inlineContent&&(Dh=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Q extends q{constructor(e,n=e){Ph(e),Ph(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return q.near(r);let s=e.resolve(n.map(this.anchor));return new Q(s.parent.inlineContent?s:r,r)}replace(e,n=I.empty){if(super.replace(e,n),n==I.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Q&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ul(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Q(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=q.findFrom(n,r,!0)||q.findFrom(n,-r,!0);if(i)n=i.$head;else return q.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(q.findFrom(e,-r,!0)||q.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Q(e,n)}}q.jsonID("text",Q);class Ul{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ul(e.map(this.anchor),e.map(this.head))}resolve(e){return Q.between(e.resolve(this.anchor),e.resolve(this.head))}}class V extends q{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?q.near(i):new V(i)}content(){return new I(N.from(this.node),0,0)}eq(e){return e instanceof V&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Tc(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new V(e.resolve(n.anchor))}static create(e,n){return new V(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}V.prototype.visible=!1;q.jsonID("node",V);class Tc{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ul(r,r):new Tc(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&V.isSelectable(r)?new V(n):q.near(n)}}class Vt extends q{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=I.empty){if(n==I.empty){e.delete(0,e.doc.content.size);let r=q.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Vt(e)}map(e){return new Vt(e)}eq(e){return e instanceof Vt}getBookmark(){return AS}}q.jsonID("all",Vt);const AS={map(){return this},resolve(t){return new Vt(t)}};function _r(t,e,n,r,s,i=!1){if(e.inlineContent)return Q.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&V.isSelectable(l))return V.create(t,n-(s<0?l.nodeSize:0))}else{let a=_r(t,l,n+s,s<0?l.childCount:0,s,i);if(a)return a}n+=l.nodeSize*s}return null}function Rh(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof We||s instanceof je))return;let i=t.mapping.maps[r],o;i.forEach((l,a,u,d)=>{o==null&&(o=d)}),t.setSelection(q.near(t.doc.resolve(o),n))}const Ih=1,yo=2,Lh=4;class DS extends OS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ih)&~yo,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ih)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=yo,this}ensureMarks(e){return ee.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&yo)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~yo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ee.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(q.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Lh,this}get scrolledIntoView(){return(this.updated&Lh)>0}}function zh(t,e){return!e||!t?t:t.bind(e)}class ti{constructor(e,n,r){this.name=e,this.init=zh(n.init,r),this.apply=zh(n.apply,r)}}const PS=[new ti("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ti("selection",{init(t,e){return t.selection||q.atStart(e.doc)},apply(t){return t.selection}}),new ti("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ti("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ha{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=PS.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ti(r.key,r.spec.state,r))})}}class ts{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=s?s[o].n:0,u=s?s[o].state:this,d=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let c=0;c<this.config.plugins.length;c++)s.push(c<o?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ts(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new DS(this)}static create(e){let n=new Ha(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ts(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Ha(this.schema,e.plugins),r=n.fields,s=new ts(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Ha(e.schema,e.plugins),i=new ts(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Sr.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=q.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=u.fromJSON.call(a,e,n[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function Ly(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=Ly(s,e,{})),n[r]=s}return n}class jt{constructor(e){this.spec=e,this.props={},e.props&&Ly(e.props,this,this.props),this.key=e.key?e.key.key:zy("plugin")}getState(e){return e[this.key]}}const Ua=Object.create(null);function zy(t){return t in Ua?t+"$"+ ++Ua[t]:(Ua[t]=0,t+"$")}class nr{constructor(e="key"){this.key=zy(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ht=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ii=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Fh=null;const ln=function(t,e,n){let r=Fh||(Fh=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},jr=function(t,e,n,r){return n&&(Bh(t,e,n,r,-1)||Bh(t,e,n,r,1))},RS=/^(img|br|input|textarea|hr)$/i;function Bh(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Gt(t))){let i=t.parentNode;if(!i||i.nodeType!=1||LS(t)||RS.test(t.nodeName)||t.contentEditable=="false")return!1;e=ht(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?Gt(t):0}else return!1}}function Gt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function IS(t,e,n){for(let r=e==0,s=e==Gt(t);r||s;){if(t==n)return!0;let i=ht(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Gt(t)}}function LS(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Wl=function(t){return t.focusNode&&jr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ar(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function zS(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function FS(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const nn=typeof navigator<"u"?navigator:null,_h=typeof document<"u"?document:null,rr=nn&&nn.userAgent||"",ld=/Edge\/(\d+)/.exec(rr),Fy=/MSIE \d/.exec(rr),ad=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(rr),ut=!!(Fy||ad||ld),Wn=Fy?document.documentMode:ad?+ad[1]:ld?+ld[1]:0,Ht=!ut&&/gecko\/(\d+)/i.test(rr);Ht&&+(/Firefox\/(\d+)/.exec(rr)||[0,0])[1];const ud=!ut&&/Chrome\/(\d+)/.exec(rr),Ke=!!ud,BS=ud?+ud[1]:0,Xe=!ut&&!!nn&&/Apple Computer/.test(nn.vendor),bs=Xe&&(/Mobile\/\w+/.test(rr)||!!nn&&nn.maxTouchPoints>2),xt=bs||(nn?/Mac/.test(nn.platform):!1),_S=nn?/Win/.test(nn.platform):!1,Lt=/Android \d/.test(rr),Kl=!!_h&&"webkitFontSmoothing"in _h.documentElement.style,VS=Kl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $S(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function xn(t,e){return typeof t=="number"?t:t[e]}function HS(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Vh(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Ii(o)){if(o.nodeType!=1)continue;let l=o,a=l==i.body,u=a?$S(i):HS(l),d=0,c=0;if(e.top<u.top+xn(r,"top")?c=-(u.top-e.top+xn(s,"top")):e.bottom>u.bottom-xn(r,"bottom")&&(c=e.bottom-u.bottom+xn(s,"bottom")),e.left<u.left+xn(r,"left")?d=-(u.left-e.left+xn(s,"left")):e.right>u.right-xn(r,"right")&&(d=e.right-u.right+xn(s,"right")),d||c)if(a)i.defaultView.scrollBy(d,c);else{let f=l.scrollLeft,h=l.scrollTop;c&&(l.scrollTop+=c),d&&(l.scrollLeft+=d);let p=l.scrollLeft-f,y=l.scrollTop-h;e={left:e.left-p,top:e.top-y,right:e.right-p,bottom:e.bottom-y}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function US(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,s=a.top;break}}return{refDOM:r,refTop:s,stack:By(t.dom)}}function By(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Ii(r));return e}function WS({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;_y(n,r==0?0:r-e)}function _y(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Br=null;function KS(t){if(t.setActive)return t.setActive();if(Br)return t.focus(Br);let e=By(t);t.focus(Br==null?{get preventScroll(){return Br={preventScroll:!0},!0}}:void 0),Br||(Br=!1,_y(e,0))}function Vy(t,e){let n,r=2e8,s,i=0,o=e.top,l=e.top,a,u;for(let d=t.firstChild,c=0;d;d=d.nextSibling,c++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=ln(d).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=l){o=Math.max(p.bottom,o),l=Math.min(p.top,l);let y=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(y<r){n=d,r=y,s=y&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,d.nodeType==1&&y&&(i=c+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=d,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=c+1)}}return!n&&a&&(n=a,s=u,r=0),n&&n.nodeType==3?JS(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:Vy(n,s)}function JS(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=wn(r,1);if(i.top!=i.bottom&&Oc(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Oc(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function qS(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function QS(t,e,n){let{node:r,offset:s}=Vy(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function GS(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!o||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!o&&(o=!0,a.left>r.left||a.top>r.top?s=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(s=l.posAfter)),!l.contentDOM&&s<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function $y(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Oc(e,u))return $y(o,e,u)}}if((i=(i+1)%r)==s)break}return t}function YS(t,e){let n=t.dom.ownerDocument,r,s=0,i=FS(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!Oc(e,u)||(o=$y(t.dom,e,u),!o))return null}if(Xe)for(let u=o;r&&u;u=Ii(u))u.draggable&&(r=void 0);if(o=qS(o,e),r){if(Ht&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=GS(t,r,s,e))}l==null&&(l=QS(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function $h(t){return t.top<t.bottom||t.left<t.right}function wn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if($h(r))return r}return Array.prototype.find.call(n,$h)||t.getBoundingClientRect()}const XS=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Hy(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=Kl||Ht;if(r.nodeType==3)if(o&&(XS.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let a=wn(ln(r,s,s),n);if(Ht&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=wn(ln(r,s-1,s-1),-1);if(u.top==a.top){let d=wn(ln(r,s,s+1),-1);if(d.top!=a.top)return Js(d,d.left<u.left)}}return a}else{let a=s,u=s,d=n<0?1:-1;return n<0&&!s?(u++,d=-1):n>=0&&s==r.nodeValue.length?(a--,d=1):n<0?a--:u++,Js(wn(ln(r,a,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Gt(r))){let a=r.childNodes[s-1];if(a.nodeType==1)return Wa(a.getBoundingClientRect(),!1)}if(i==null&&s<Gt(r)){let a=r.childNodes[s];if(a.nodeType==1)return Wa(a.getBoundingClientRect(),!0)}return Wa(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Gt(r))){let a=r.childNodes[s-1],u=a.nodeType==3?ln(a,Gt(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Js(wn(u,1),!1)}if(i==null&&s<Gt(r)){let a=r.childNodes[s];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?ln(a,0,o?0:1):a.nodeType==1?a:null:null;if(u)return Js(wn(u,-1),!0)}return Js(wn(r.nodeType==3?ln(r):r,-n),n>=0)}function Js(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Wa(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Uy(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function ZS(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return Uy(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=Hy(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=ln(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let d=a[u];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const ew=/[\u0590-\u08ac]/;function tw(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,l=t.domSelection();return!ew.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:Uy(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:d,anchorOffset:c}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:y}=t.domSelectionRange(),x=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&u==y;try{l.collapse(d,c),a&&(a!=d||u!=c)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),x})}let Hh=null,Uh=null,Wh=!1;function nw(t,e,n){return Hh==e&&Uh==n?Wh:(Hh=e,Uh=n,Wh=n=="up"||n=="down"?ZS(t,e,n):tw(t,e,n))}const Nt=0,Kh=1,pr=2,rn=3;class Qi{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Nt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>ht(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],l=i+o.size;if(l>e||o instanceof Ky){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof Wy&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?ht(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?ht(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,l=0;;l++){let a=this.children[l],u=o+a.size;if(s==-1&&e<=u){let d=o+a.border;if(e>=d&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,d);e=o;for(let c=l;c>0;c--){let f=this.children[c-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=ht(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let c=this.children[d];if(c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(-1)){i=ht(c.dom);break}n+=c.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],y=h+p.size;if(i>h&&o<y)return p.setSelection(e-h-p.border,n-h-p.border,r,s);h=y}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),d=!1;if((Ht||Xe)&&e==n){let{node:f,offset:h}=l;if(f.nodeType==3){if(d=!!(h&&f.nodeValue[h-1]==`
`),d&&h==f.nodeValue.length)for(let p=f,y;p;p=p.parentNode){if(y=p.nextSibling){y.nodeName=="BR"&&(l=a={node:y.parentNode,offset:ht(y)+1});break}let x=p.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let p=f.childNodes[h-1];d=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Ht&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(s=!0)}if(!(s||d&&Xe)&&jr(l.node,l.offset,u.anchorNode,u.anchorOffset)&&jr(a.node,a.offset,u.focusNode,u.focusOffset))return;let c=!1;if((u.extend||e==n)&&!d){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),c=!0}catch{}}if(!c){if(e>n){let h=l;l=a,a=h}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+i.border,a=o-i.border;if(e>=l&&n<=a){this.dirty=e==r||n==o?pr:Kh,e==l&&n==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=rn:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?pr:rn}r=o}this.dirty=pr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?pr:Kh;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Wy extends Qi{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Nt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class rw extends Qi{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ar extends Qi{constructor(e,n,r,s){super(e,[],r,s),this.mark=n}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=Xt.renderSpec(document,n.type.spec.toDOM(n,r))),new Ar(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&rn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=rn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Nt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Nt}}slice(e,n,r){let s=Ar.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=fd(i,n,o,r)),e>0&&(i=fd(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}}class Kn extends Qi{constructor(e,n,r,s,i,o,l,a,u){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,o){let l=i.nodeViews[n.type.name],a,u=l&&l(n,i,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,s),d=u&&u.dom,c=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:c}=Xt.renderSpec(document,n.type.spec.toDOM(n)));!c&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let f=d;return d=Qy(d,r,n),u?a=new sw(e,n,r,s,d,c||null,f,u,i,o+1):n.isText?new Jl(e,n,r,s,d,f,i):new Kn(e,n,r,s,d,c||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>N.empty)}return e}matchesNode(e,n,r){return this.dirty==Nt&&e.eq(this.node)&&cd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new ow(this,o&&o.node,e);uw(this.node,this.innerDeco,(u,d,c)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!c&&a.syncToMarks(d==this.node.childCount?ee.none:this.node.child(d).marks,r,e),a.placeWidget(u,e,s)},(u,d,c,f)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,d,c,f)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(h=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(u,d,c,h,e)||a.updateNextNode(u,d,c,e,f,s)||a.addNode(u,d,c,e,s),s+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==pr)&&(o&&this.protectLocalComposition(e,o),Jy(this.contentDOM,this.children,e),bs&&dw(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Q)||r<n||s>n+this.node.content.size)return null;let i=e.domSelectionRange(),o=cw(i.focusNode,i.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,a=fw(this.node.content,l,r-n,s-n);return a<0?null:{node:o,pos:a,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new rw(this,i,n,s);e.input.compositionNodes.push(o),this.children=fd(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==rn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Nt}updateOuterDeco(e){if(cd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=qy(this.dom,this.nodeDOM,dd(this.outerDeco,this.node,n),dd(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Jh(t,e,n,r,s){Qy(r,e,t);let i=new Kn(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Jl extends Kn{constructor(e,n,r,s,i,o,l){super(e,n,r,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==rn||this.dirty!=Nt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Nt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Nt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new Jl(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=rn)}get domAtom(){return!1}}class Ky extends Qi{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Nt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class sw extends Kn{constructor(e,n,r,s,i,o,l,a,u,d){super(e,n,r,s,i,o,l,u,d),this.spec=a}update(e,n,r,s){if(this.dirty==rn)return!1;if(this.spec.update){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Jy(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=qh(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(o instanceof Ar){let a=r?r.previousSibling:t.lastChild;Jy(o.contentDOM,o.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=qh(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const hi=function(t){t&&(this.nodeName=t)};hi.prototype=Object.create(null);const mr=[new hi];function dd(t,e,n){if(t.length==0)return mr;let r=n?mr[0]:new hi,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new hi(o.nodeName));for(let l in o){let a=o[l];a!=null&&(n&&s.length==1&&s.push(r=new hi(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return s}function qy(t,e,n,r){if(n==mr&&r==mr)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],l=n[i];if(i){let a;l&&l.nodeName==o.nodeName&&s!=t&&(a=s.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(s),l=mr[0]),s=a}iw(s,l||mr[0],o)}return s}function iw(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function Qy(t,e,n){return qy(t,t,mr,dd(e,n,t.nodeType!=1))}function cd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function qh(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ow{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=lw(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Nt,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Ar.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==rn&&o.dom==o.contentDOM&&(o.dirty=pr),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Kn){let u=this.preMatch.matched.get(a);if(u!=null&&u!=i)return!1;let d=a.dom,c,f=this.isLocked(d)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=rn&&cd(n,a.outerDeco));if(!f&&a.update(e,n,r,s))return this.destroyBetween(this.index,l),a.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(c=this.recreateWrapper(a,e,n,r,s,o)))return this.top.children[this.index]=c,c.dirty=pr,c.updateChildren(s,o+1),c.dirty=Nt,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Kn.create(this.top,n,r,s,i,o);if(!l.contentDOM)return null;l.children=e.children,e.children=[],e.destroy();for(let a of l.children)a.parent=l;return l}addNode(e,n,r,s,i){let o=Kn.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new Wy(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ar;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Jl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Xe||Ke)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new Ky(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function lw(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Ar)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function aw(t,e){return t.type.side-e.type.side}function uw(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,s,e.forChild(i,d),u),i+=d.nodeSize}return}let o=0,l=[],a=null;for(let u=0;;){if(o<s.length&&s[o].to==i){let p=s[o++],y;for(;o<s.length&&s[o].to==i;)(y||(y=[p])).push(s[o++]);if(y){y.sort(aw);for(let x=0;x<y.length;x++)n(y[x],u,!!a)}else n(p,u,!!a)}let d,c;if(a)c=-1,d=a,a=null;else if(u<t.childCount)c=u,d=t.child(u++);else break;for(let p=0;p<l.length;p++)l[p].to<=i&&l.splice(p--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let f=i+d.nodeSize;if(d.isText){let p=f;o<s.length&&s[o].from<p&&(p=s[o].from);for(let y=0;y<l.length;y++)l[y].to<p&&(p=l[y].to);p<f&&(a=d.cut(p-i),d=d.cut(0,p-i),f=p,c=-1)}let h=d.isInline&&!d.isLeaf?l.filter(p=>!p.inline):l.slice();r(d,h,e.forChild(i,d),c),i=f}}function dw(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function cw(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Gt(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function fw(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let a=o.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;a+=u.text}if(i>=n){let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function fd(t,e,n,r,s){let i=[];for(let o=0,l=0;o<t.length;o++){let a=t[o],u=l,d=l+=a.size;u>=n||d<=e?i.push(a):(u<e&&i.push(a.slice(0,e-u,r)),s&&(i.push(s),s=void 0),d>n&&i.push(a.slice(n-u,a.size,r)))}return i}function jc(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,u;if(Wl(n)){for(a=l;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&V.isSelectable(d)&&s.parent&&!(d.isInline&&IS(n.focusNode,n.focusOffset,s.dom))){let c=s.posBefore;u=new V(o==c?l:r.resolve(c))}}else{let d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;a=r.resolve(d)}if(!u){let d=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;u=Ac(t,a,l,d)}return u}function Gy(t){return t.editable?t.hasFocus():Xy(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function fn(t,e=!1){let n=t.state.selection;if(Yy(t,n),!!Gy(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ke){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&jr(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)pw(t);else{let{anchor:r,head:s}=n,i,o;Qh&&!(n instanceof Q)&&(n.$from.parent.inlineContent||(i=Gh(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Gh(t,n.to))),t.docView.setSelection(r,s,t.root,e),Qh&&(i&&Yh(i),o&&Yh(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&hw(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Qh=Xe||Ke&&BS<63;function Gh(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Xe&&s&&s.contentEditable=="false")return Ka(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Ka(s);if(i)return Ka(i)}}function Ka(t){return t.contentEditable="true",Xe&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Yh(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function hw(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Gy(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function pw(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,ht(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&ut&&Wn<=11&&(r.disabled=!0,r.disabled=!1)}function Yy(t,e){if(e instanceof V){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Xh(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Xh(t)}function Xh(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Ac(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Q.between(e,n,r)}function Zh(t){return t.editable&&!t.hasFocus()?!1:Xy(t)}function Xy(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function mw(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return jr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function hd(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&q.findFrom(i,e)}function ur(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ep(t,e,n){let r=t.state.selection;if(r instanceof Q){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let s=hd(t.state,e);return s&&s instanceof V?ur(t,s):!1}else if(!(xt&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?V.isSelectable(i)?ur(t,new V(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Kl?ur(t,new Q(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else{if(r instanceof V&&r.node.isInline)return ur(t,new Q(e>0?r.$to:r.$from));{let s=hd(t.state,e);return s?ur(t,s):!1}}}function kl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function pi(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function qs(t,e){return e<0?gw(t):Zy(t)}function gw(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(Ht&&n.nodeType==1&&r<kl(n)&&pi(n.childNodes[r])&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(pi(l))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(e0(n))break;{let l=n.previousSibling;for(;l&&pi(l);)s=n.parentNode,i=ht(l),l=l.previousSibling;if(l)n=l,r=kl(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?pd(t,n,r):s&&pd(t,s,i)}function Zy(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=kl(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(pi(l))i=n,o=++r;else break}else{if(e0(n))break;{let l=n.nextSibling;for(;l&&pi(l);)i=l.parentNode,o=ht(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=kl(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&pd(t,i,o)}function e0(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function pd(t,e,n){let r=t.domSelection();if(Wl(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&fn(t)},50)}function tp(t,e){let n=t.state.doc.resolve(e);if(!(Ke||_S)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function np(t,e,n){let r=t.state.selection;if(r instanceof Q&&!r.empty||n.indexOf("s")>-1||xt&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=hd(t.state,e);if(o&&o instanceof V)return ur(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=r instanceof Vt?q.near(o,e):q.findFrom(o,e);return l?ur(t,l):!1}return!1}function rp(t,e){if(!(t.state.selection instanceof Q))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function sp(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function yw(t){if(!Xe||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;sp(t,r,"true"),setTimeout(()=>sp(t,r,"false"),20)}return!1}function kw(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function vw(t,e){let n=e.keyCode,r=kw(e);if(n==8||xt&&n==72&&r=="c")return rp(t,-1)||qs(t,-1);if(n==46&&!e.shiftKey||xt&&n==68&&r=="c")return rp(t,1)||qs(t,1);if(n==13||n==27)return!0;if(n==37||xt&&n==66&&r=="c"){let s=n==37?tp(t,t.state.selection.from)=="ltr"?-1:1:-1;return ep(t,s,r)||qs(t,s)}else if(n==39||xt&&n==70&&r=="c"){let s=n==39?tp(t,t.state.selection.from)=="ltr"?1:-1:1;return ep(t,s,r)||qs(t,s)}else{if(n==38||xt&&n==80&&r=="c")return np(t,-1,r)||qs(t,-1);if(n==40||xt&&n==78&&r=="c")return yw(t)||np(t,1,r)||Zy(t);if(r==(xt?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function t0(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||Xt.fromSchema(t.state.schema),l=l0(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let u=a.firstChild,d,c=0;for(;u&&u.nodeType==1&&(d=o0[u.nodeName.toLowerCase()]);){for(let h=d.length-1;h>=0;h--){let p=l.createElement(d[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),c++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${c?` -${c}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f}}function n0(t,e,n,r,s){let i=s.parent.type.spec.code,o,l;if(!n&&!e)return null;let a=e&&(r||i||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,i||r,t)}),i)return e?new I(N.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):I.empty;let c=t.someProp("clipboardTextParser",f=>f(e,s,r,t));if(c)l=c;else{let f=s.marks(),{schema:h}=t.state,p=Xt.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(p.serializeNode(h.text(y,f)))})}}else t.someProp("transformPastedHTML",c=>{n=c(n,t)}),o=ww(n),Kl&&Cw(o);let u=o&&o.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let c=+d[3];c>0;c--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Cs.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||d),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!xw.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)l=Mw(ip(l,+d[1],+d[2]),d[4]);else if(l=I.maxOpen(Sw(l.content,s),!0),l.openStart||l.openEnd){let c=0,f=0;for(let h=l.content.firstChild;c<l.openStart&&!h.type.spec.isolating;c++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=ip(l,c,f)}return t.someProp("transformPasted",c=>{l=c(l,t)}),l}const xw=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Sw(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(l=>{if(!o)return;let a=s.findWrapping(l.type),u;if(!a)return o=null;if(u=o.length&&i.length&&s0(a,i,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=i0(o[o.length-1],i.length));let d=r0(l,a);o.push(d),s=s.matchType(d.type),i=a}}),o)return N.from(o)}return t}function r0(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,N.from(t));return t}function s0(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=s0(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(N.from(r0(n,t,s+1))))}}function i0(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,i0(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(N.empty,!0);return t.copy(n.append(r))}function md(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),s<r-1&&(l=md(l,e,n,r,s+1,i)),s>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(N.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function ip(t,e,n){return e<t.openStart&&(t=new I(md(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new I(md(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const o0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let op=null;function l0(){return op||(op=document.implementation.createHTMLDocument("title"))}function ww(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=l0().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&o0[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=t,s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function Cw(t){let e=t.querySelectorAll(Ke?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Mw(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;s=N.from(a.create(r[l+1],s)),i++,o++}return new I(s,i,o)}const Ze={},et={},Ew={touchstart:!0,touchmove:!0};class bw{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Nw(t){for(let e in Ze){let n=Ze[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Ow(t,r)&&!Dc(t,r)&&(t.editable||!(r.type in et))&&n(t,r)},Ew[e]?{passive:!0}:void 0)}Xe&&t.dom.addEventListener("input",()=>null),gd(t)}function In(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Tw(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function gd(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Dc(t,r))})}function Dc(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Ow(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function jw(t,e){!Dc(t,e)&&Ze[e.type]&&(t.editable||!(e.type in et))&&Ze[e.type](t,e)}et.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!u0(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Lt&&Ke&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),bs&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,ar(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||vw(t,n)?n.preventDefault():In(t,"key")};et.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};et.keypress=(t,e)=>{let n=e;if(u0(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||xt&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Q)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function ql(t){return{left:t.clientX,top:t.clientY}}function Aw(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Pc(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,n,i.nodeAfter,i.before(o),s,!0):l(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function ms(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function Dw(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&V.isSelectable(r)?(ms(t,new V(n),"pointer"),!0):!1}function Pw(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof V&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(V.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(ms(t,V.create(t.state.doc,s),"pointer"),!0):!1}function Rw(t,e,n,r,s){return Pc(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?Pw(t,n):Dw(t,n))}function Iw(t,e,n,r){return Pc(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function Lw(t,e,n,r){return Pc(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||zw(t,n,r)}function zw(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ms(t,Q.create(r,0,r.content.size),"pointer"),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)ms(t,Q.create(r,l+1,l+1+o.content.size),"pointer");else if(V.isSelectable(o))ms(t,V.create(r,l),"pointer");else continue;return!0}}function Rc(t){return vl(t)}const a0=xt?"metaKey":"ctrlKey";Ze.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Rc(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&Aw(n,t.input.lastClick)&&!n[a0]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let o=t.posAtCoords(ql(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Fw(t,o,n,!!r)):(i=="doubleClick"?Iw:Lw)(t,o.pos,o.inside,n)?n.preventDefault():In(t,"pointer"))};class Fw{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[a0],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,o=d.depth?d.before():0}const l=s?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof V&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ht&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),In(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ql(e))),this.updateAllowDefault(e),this.allowDefault||!n?In(this.view,"pointer"):Rw(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Xe&&this.mightDrag&&!this.mightDrag.node.isAtom||Ke&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ms(this.view,q.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):In(this.view,"pointer")}move(e){this.updateAllowDefault(e),In(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ze.touchstart=t=>{t.input.lastTouch=Date.now(),Rc(t),In(t,"pointer")};Ze.touchmove=t=>{t.input.lastTouch=Date.now(),In(t,"pointer")};Ze.contextmenu=t=>Rc(t);function u0(t,e){return t.composing?!0:Xe&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Bw=Lt?5e3:-1;et.compositionstart=et.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),vl(t,!0),t.markCursor=null;else if(vl(t),Ht&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){t.domSelection().collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}d0(t,Bw)};et.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionID++,d0(t,20))};function d0(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>vl(t),e))}function c0(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=_w());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function _w(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function vl(t,e=!1){if(!(Lt&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),c0(t),e||t.docView&&t.docView.dirty){let n=jc(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Vw(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ns=ut&&Wn<15||bs&&VS<604;Ze.copy=et.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Ns?null:n.clipboardData,o=r.content(),{dom:l,text:a}=t0(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):Vw(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function $w(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Hw(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Li(t,r.value,null,s,e):Li(t,r.textContent,r.innerHTML,s,e)},50)}function Li(t,e,n,r,s){let i=n0(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,s,i||I.empty)))return!0;if(!i)return!1;let o=$w(i),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}et.paste=(t,e)=>{let n=e;if(t.composing&&!Lt)return;let r=Ns?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Li(t,r.getData("text/plain"),r.getData("text/html"),s,n)?n.preventDefault():Hw(t,n)};class Uw{constructor(e,n){this.slice=e,this.move=n}}const f0=xt?"altKey":"ctrlKey";Ze.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(ql(n));if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof V?s.to-1:s.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(V.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(V.create(t.state.doc,u.posBefore)))}}let o=t.state.selection.content(),{dom:l,text:a}=t0(t,o);n.dataTransfer.clearData(),n.dataTransfer.setData(Ns?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ns||n.dataTransfer.setData("text/plain",a),t.dragging=new Uw(o,!n[f0])};Ze.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};et.dragover=et.dragenter=(t,e)=>e.preventDefault();et.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(ql(n));if(!s)return;let i=t.state.doc.resolve(s.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=n0(t,n.dataTransfer.getData(Ns?"Text":"text/plain"),Ns?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&!n[f0]);if(t.someProp("handleDrop",p=>p(t,n,o||I.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let a=o?Ay(t.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let u=t.state.tr;l&&u.deleteSelection();let d=u.mapping.map(a),c=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(c?u.replaceRangeWith(d,d,o.content.firstChild):u.replaceRange(d,d,o),u.doc.eq(f))return;let h=u.doc.resolve(d);if(c&&V.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new V(h));else{let p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((y,x,g,m)=>p=m),u.setSelection(Ac(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Ze.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&fn(t)},20))};Ze.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ze.beforeinput=(t,e)=>{if(Ke&&Lt&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,ar(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in et)Ze[t]=et[t];function zi(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ic{constructor(e,n){this.toDOM=e,this.spec=n||wr,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new Et(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ic&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&zi(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Jn{constructor(e,n){this.attrs=e,this.spec=n||wr}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Et(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Jn&&zi(this.attrs,e.attrs)&&zi(this.spec,e.spec)}static is(e){return e.type instanceof Jn}destroy(){}}class Lc{constructor(e,n){this.attrs=e,this.spec=n||wr}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Et(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof Lc&&zi(this.attrs,e.attrs)&&zi(this.spec,e.spec)}destroy(){}}class Et{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Et(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Et(e,e,new Ic(n,r))}static inline(e,n,r,s){return new Et(e,n,new Jn(r,s))}static node(e,n,r,s){return new Et(e,n,new Lc(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jn}}const Vr=[],wr={};class Me{constructor(e,n){this.local=e.length?e:Vr,this.children=n.length?n:Vr}static create(e,n){return n.length?xl(n,e,0,wr):He}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==He||e.maps.length==0?this:this.mapInner(e,n,0,0,r||wr)}mapInner(e,n,r,s,i){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,s);a&&a.type.valid(n,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?Ww(this.children,o||[],e,n,r,s,i):o?new Me(o.sort(Cr),Vr):He}add(e,n){return n.length?this==He?Me.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,a)=>{let u=a+r,d;if(d=p0(n,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<a;)i+=3;s[i]==a?s[i+2]=s[i+2].addInner(l,d,u+1):s.splice(i,0,a,a+l.nodeSize,xl(d,l,u+1,wr)),i+=3}});let o=h0(i?m0(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Me(o.length?this.local.concat(o).sort(Cr):this.local,s||this.children)}remove(e){return e.length==0||this==He?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,l=r[i]+n,a=r[i+1]+n;for(let d=0,c;d<e.length;d++)(c=e[d])&&c.from>l&&c.to<a&&(e[d]=null,(o||(o=[])).push(c));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(o,l+1);u!=He?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Me(s,r):He}forChild(e,n){if(this==He)return this;if(n.isLeaf)return Me.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>i&&a.type instanceof Jn){let u=Math.max(i,a.from)-i,d=Math.min(o,a.to)-i;u<d&&(s||(s=[])).push(a.copy(u,d))}}if(s){let l=new Me(s.sort(Cr),Vr);return r?new Tn([l,r]):l}return r||He}eq(e){if(this==e)return!0;if(!(e instanceof Me)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return zc(this.localsInner(e))}localsInner(e){if(this==He)return Vr;if(e.inlineContent||!this.local.some(Jn.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Jn||n.push(this.local[r]);return n}}Me.empty=new Me([],[]);Me.removeOverlap=zc;const He=Me.empty;class Tn{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,wr));return Tn.from(r)}forChild(e,n){if(n.isLeaf)return Me.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=He&&(i instanceof Tn?r=r.concat(i.members):r.push(i))}return Tn.from(r)}eq(e){if(!(e instanceof Tn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?zc(r?n:n.sort(Cr)):Vr}static from(e){switch(e.length){case 0:return He;case 1:return e[0];default:return new Tn(e.every(n=>n instanceof Me)?e:e.reduce((n,r)=>n.concat(r instanceof Me?r:r.members),[]))}}}function Ww(t,e,n,r,s,i,o){let l=t.slice();for(let u=0,d=i;u<n.maps.length;u++){let c=0;n.maps[u].forEach((f,h,p,y)=>{let x=y-p-(h-f);for(let g=0;g<l.length;g+=3){let m=l[g+1];if(m<0||f>m+d-c)continue;let k=l[g]+d-c;h>=k?l[g+1]=f<=k?-2:-1:p>=s&&x&&(l[g]+=x,l[g+1]+=x)}c+=x}),d=n.maps[u].map(d,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let d=n.map(t[u]+i),c=d-s;if(c<0||c>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+i,-1),h=f-s,{index:p,offset:y}=r.content.findIndex(c),x=r.maybeChild(p);if(x&&y==c&&y+x.nodeSize==h){let g=l[u+2].mapInner(n,x,d+1,t[u]+i+1,o);g!=He?(l[u]=c,l[u+1]=h,l[u+2]=g):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=Kw(l,t,e,n,s,i,o),d=xl(u,r,0,o);e=d.local;for(let c=0;c<l.length;c+=3)l[c+1]<0&&(l.splice(c,3),c-=3);for(let c=0,f=0;c<d.children.length;c+=3){let h=d.children[c];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,d.children[c],d.children[c+1],d.children[c+2])}}return new Me(e.sort(Cr),l)}function h0(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Et(s.from+e,s.to+e,s.type))}return n}function Kw(t,e,n,r,s,i,o){function l(a,u){for(let d=0;d<a.local.length;d++){let c=a.local[d].map(r,s,u);c?n.push(c):o.onRemove&&o.onRemove(a.local[d].spec)}for(let d=0;d<a.children.length;d+=3)l(a.children[d+2],a.children[d]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+i+1);return n}function p0(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function m0(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function xl(t,e,n,r){let s=[],i=!1;e.forEach((l,a)=>{let u=p0(t,l,a+n);if(u){i=!0;let d=xl(u,l,n+a+1,r);d!=He&&s.push(a,a+l.nodeSize,d)}});let o=h0(i?m0(t):t,-n).sort(Cr);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new Me(o,s):He}function Cr(t,e){return t.from-e.from||t.to-e.to}function zc(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),lp(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),lp(e,s,r.copy(i.from,r.to)));break}}}return e}function lp(t,e,n){for(;e<t.length&&Cr(n,t[e])>0;)e++;t.splice(e,0,n)}function Ja(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=He&&e.push(r)}),t.cursorWrapper&&e.push(Me.create(t.state.doc,[t.cursorWrapper.deco])),Tn.from(e)}const Jw={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qw=ut&&Wn<=11;class Qw{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Gw{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Qw,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);ut&&Wn<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),qw&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Jw)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Zh(this.view)){if(this.suppressingSelectionUpdates)return fn(this.view);if(ut&&Wn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&jr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Ii(i))n.add(i);for(let i=e.anchorNode;i;i=Ii(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Zh(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,l=!1,a=[];if(e.editable)for(let d=0;d<n.length;d++){let c=this.registerMutation(n[d],a);c&&(i=i<0?c.from:Math.min(c.from,i),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(l=!0))}if(Ht&&a.length>1){let d=a.filter(c=>c.nodeName=="BR");if(d.length==2){let c=d[0],f=d[1];c.parentNode&&c.parentNode.parentNode==f.parentNode?f.remove():c.remove()}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Wl(r)&&(u=jc(e))&&u.eq(q.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,fn(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),Yw(e)),this.handleDOMChange(i,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||fn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++)n.push(e.addedNodes[d]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(ut&&Wn<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:c,nextSibling:f}=e.addedNodes[d];(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(s=c),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==e.target?ht(s)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=i&&i.parentNode==e.target?ht(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let ap=new WeakMap,up=!1;function Yw(t){if(!ap.has(t)&&(ap.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ht,up)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),up=!0}}function Xw(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,s=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return jr(l.node,l.offset,i,o)&&([r,s,i,o]=[i,o,r,s]),{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:o}}function Zw(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,d=a.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:a.anchorOffset}],Wl(a)||u.push({node:a.focusNode,offset:a.focusOffset})),Ke&&t.input.lastKeyCode===8)for(let x=i;x>s;x--){let g=r.childNodes[x-1],m=g.pmViewDesc;if(g.nodeName=="BR"&&!m){i=x;break}if(!m||m.size)break}let c=t.state.doc,f=t.someProp("domParser")||Cs.fromSchema(t.state.schema),h=c.resolve(o),p=null,y=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:eC,context:h});if(u&&u[0].pos!=null){let x=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=x),p={anchor:x+o,head:g+o}}return{doc:y,sel:p,from:o,to:l}}function eC(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Xe&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Xe&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const tC=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function nC(t,e,n,r,s){if(e<0){let b=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,W=jc(t,b);if(W&&!t.state.selection.eq(W)){if(Ke&&Lt&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ae=>ae(t,ar(13,"Enter"))))return;let $=t.state.tr.setSelection(W);b=="pointer"?$.setMeta("pointer",!0):b=="key"&&$.scrollIntoView(),t.composing&&$.setMeta("composition",t.input.compositionID),t.dispatch($)}return}let i=t.state.doc.resolve(e),o=i.sharedDepth(n);e=i.before(o+1),n=t.state.doc.resolve(n).after(o+1);let l=t.state.selection,a=Zw(t,e,n),u=t.state.doc,d=u.slice(a.from,a.to),c,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(c=t.state.selection.to,f="end"):(c=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let h=iC(d.content,a.doc.content,a.from,c,f);if((bs&&t.input.lastIOSEnter>Date.now()-225||Lt)&&s.some(b=>b.nodeType==1&&!tC.test(b.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",b=>b(t,ar(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof Q&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(a.sel&&a.sel.anchor!=a.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(a.sel){let b=dp(t,t.state.doc,a.sel);if(b&&!b.eq(t.state.selection)){let W=t.state.tr.setSelection(b);t.composing&&W.setMeta("composition",t.input.compositionID),t.dispatch(W)}}return}if(Ke&&t.cursorWrapper&&a.sel&&a.sel.anchor==t.cursorWrapper.deco.from&&a.sel.head==a.sel.anchor){let b=h.endB-h.start;a.sel={anchor:a.sel.anchor+b,head:a.sel.anchor+b}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof Q&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=a.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=a.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),ut&&Wn<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>a.from&&a.doc.textBetween(h.start-a.from-1,h.start-a.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let p=a.doc.resolveNoCache(h.start-a.from),y=a.doc.resolveNoCache(h.endB-a.from),x=u.resolve(h.start),g=p.sameParent(y)&&p.parent.inlineContent&&x.end()>=h.endA,m;if((bs&&t.input.lastIOSEnter>Date.now()-225&&(!g||s.some(b=>b.nodeName=="DIV"||b.nodeName=="P"))||!g&&p.pos<a.doc.content.size&&!p.sameParent(y)&&(m=q.findFrom(a.doc.resolve(p.pos+1),1,!0))&&m.head==y.pos)&&t.someProp("handleKeyDown",b=>b(t,ar(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&sC(u,h.start,h.endA,p,y)&&t.someProp("handleKeyDown",b=>b(t,ar(8,"Backspace")))){Lt&&Ke&&t.domObserver.suppressSelectionUpdates();return}Ke&&Lt&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),Lt&&!g&&p.start()!=y.start()&&y.parentOffset==0&&p.depth==y.depth&&a.sel&&a.sel.anchor==a.sel.head&&a.sel.head==h.endA&&(h.endB-=2,y=a.doc.resolveNoCache(h.endB-a.from),setTimeout(()=>{t.someProp("handleKeyDown",function(b){return b(t,ar(13,"Enter"))})},20));let k=h.start,w=h.endA,M,A,D;if(g){if(p.pos==y.pos)ut&&Wn<=11&&p.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>fn(t),20)),M=t.state.tr.delete(k,w),A=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(D=rC(p.parent.content.cut(p.parentOffset,y.parentOffset),x.parent.content.cut(x.parentOffset,h.endA-x.start()))))M=t.state.tr,D.type=="add"?M.addMark(k,w,D.mark):M.removeMark(k,w,D.mark);else if(p.parent.child(p.index()).isText&&p.index()==y.index()-(y.textOffset?0:1)){let b=p.parent.textBetween(p.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",W=>W(t,k,w,b)))return;M=t.state.tr.insertText(b,k,w)}}if(M||(M=t.state.tr.replace(k,w,a.doc.slice(h.start-a.from,h.endB-a.from))),a.sel){let b=dp(t,M.doc,a.sel);b&&!(Ke&&Lt&&t.composing&&b.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(b.head==k||b.head==M.mapping.map(w)-1)||ut&&b.empty&&b.head==k)&&M.setSelection(b)}A&&M.ensureMarks(A),t.composing&&M.setMeta("composition",t.input.compositionID),t.dispatch(M.scrollIntoView())}function dp(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Ac(t,e.resolve(n.anchor),e.resolve(n.head))}function rC(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,l,a;for(let d=0;d<r.length;d++)s=r[d].removeFromSet(s);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",a=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",a=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(a(e.child(d)));if(N.from(u).eq(t))return{mark:l,type:o}}function sC(t,e,n,r,s){if(!r.parent.isTextblock||n-e<=s.pos-r.pos||qa(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(qa(i,!0,!0));return!o.parent.isTextblock||o.pos>n||qa(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function qa(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function iC(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let a=Math.max(0,i-Math.min(o,l));r-=o+a-i}if(o<i&&t.size<e.size){let a=r<=i&&r>=o?i-r:0;i-=a,l=i+(l-o),o=i}else if(l<i){let a=r<=i&&r>=l?i-r:0;i-=a,o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}class oC{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new bw,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(mp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=hp(this),fp(this),this.nodeViews=pp(this),this.docView=Jh(this.state.doc,cp(this),Ja(this),this.dom,this),this.domObserver=new Gw(this,(r,s,i,o)=>nC(this,r,s,i,o)),this.domObserver.start(),Nw(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&gd(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(mp),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&(c0(this),i=!0),this.state=e;let o=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=pp(this);aC(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&gd(this),this.editable=hp(this),fp(this);let l=Ja(this),a=cp(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,a,l);(d||!e.selection.eq(r.selection))&&(i=!0);let c=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&US(this);if(i){this.domObserver.stop();let f=d&&(ut||Ke)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&lC(r.selection,e.selection);if(d){let h=Ke?this.trackWrites=this.domSelectionRange().focusNode:null;(s||!this.docView.update(e.doc,a,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Jh(e.doc,a,l,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&mw(this))?fn(this,f):(Yy(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():c&&WS(c)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof V){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Vh(this,n.getBoundingClientRect(),e)}else Vh(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(ut){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&KS(this.dom),fn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return YS(this,e)}coordsAtPos(e,n=1){return Hy(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return nw(this,n||this.state,e)}pasteHTML(e,n){return Li(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Li(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Tw(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ja(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return jw(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Xe&&this.root.nodeType===11&&zS(this.dom.ownerDocument)==this.dom?Xw(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function cp(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Et.node(0,t.state.doc.content.size,e)]}function fp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Et.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function hp(t){return!t.someProp("editable",e=>e(t.state)===!1)}function lC(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function pp(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function aC(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function mp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},uC=typeof navigator<"u"&&/Mac/.test(navigator.platform),dC=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Le=0;Le<10;Le++)Yn[48+Le]=Yn[96+Le]=String(Le);for(var Le=1;Le<=24;Le++)Yn[Le+111]="F"+Le;for(var Le=65;Le<=90;Le++)Yn[Le]=String.fromCharCode(Le+32),Sl[Le]=String.fromCharCode(Le);for(var Qa in Yn)Sl.hasOwnProperty(Qa)||(Sl[Qa]=Yn[Qa]);function cC(t){var e=uC&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||dC&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Sl:Yn)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const fC=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function hC(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))fC?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function pC(t){let e=Object.create(null);for(let n in t)e[hC(n)]=t[n];return e}function Ga(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function mC(t){return new jt({props:{handleKeyDown:g0(t)}})}function g0(t){let e=pC(t);return function(n,r){let s=cC(r),i,o=e[Ga(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[Ga(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=Yn[r.keyCode])&&i!=s){let l=e[Ga(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const gC=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function yC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const kC=(t,e,n)=>{let r=yC(t,n);if(!r)return!1;let s=y0(r);if(!s){let o=r.blockRange(),l=o&&Ls(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&x0(t,s,e))return!0;if(r.parent.content.size==0&&(Ts(i,"end")||V.isSelectable(i))){let o=Nc(t.doc,r.before(),r.after(),I.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Ts(i,"end")?q.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):V.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1};function Ts(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const vC=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=y0(r)}let o=i&&i.nodeBefore;return!o||!V.isSelectable(o)?!1:(e&&e(t.tr.setSelection(V.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function y0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function xC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const SC=(t,e,n)=>{let r=xC(t,n);if(!r)return!1;let s=k0(r);if(!s)return!1;let i=s.nodeAfter;if(x0(t,s,e))return!0;if(r.parent.content.size==0&&(Ts(i,"start")||V.isSelectable(i))){let o=Nc(t.doc,r.before(),r.after(),I.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Ts(i,"start")?q.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):V.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},wC=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=k0(r)}let o=i&&i.nodeAfter;return!o||!V.isSelectable(o)?!1:(e&&e(t.tr.setSelection(V.create(t.doc,i.pos)).scrollIntoView()),!0)};function k0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const CC=(t,e)=>{let n=t.selection,r=n instanceof V,s;if(r){if(n.node.isTextblock||!tr(t.doc,n.from))return!1;s=n.from}else if(s=jy(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(V.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},MC=(t,e)=>{let n=t.selection,r;if(n instanceof V){if(n.node.isTextblock||!tr(t.doc,n.to))return!1;r=n.to}else if(r=jy(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},EC=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Ls(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},bC=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function v0(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const NC=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=v0(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,o.createAndFill());a.setSelection(q.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},TC=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Vt||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=v0(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(Q.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},OC=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(hs(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Ls(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},jC=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(V.create(t.doc,s))),!0)};function AC(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||tr(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function x0(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i,o;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(AC(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(i=(o=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&o.matchType(i[0]||s.type).validEnd){if(n){let c=e.pos+s.nodeSize,f=N.empty;for(let y=i.length-1;y>=0;y--)f=N.from(i[y].create(null,f));f=N.from(r.copy(f));let h=t.tr.step(new je(e.pos-1,c,e.pos,c,new I(f,1,0),i.length,!0)),p=c+2*i.length;tr(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let a=q.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),d=u&&Ls(u);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(u,d).scrollIntoView()),!0;if(l&&Ts(s,"start",!0)&&Ts(r,"end")){let c=r,f=[];for(;f.push(c),!c.isTextblock;)c=c.lastChild;let h=s,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(c.canReplace(c.childCount,c.childCount,h.content)){if(n){let y=N.empty;for(let g=f.length-1;g>=0;g--)y=N.from(f[g].copy(y));let x=t.tr.step(new je(e.pos-f.length,e.pos+s.nodeSize,e.pos+p,e.pos+s.nodeSize-p,new I(y,f.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function S0(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Q.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const DC=S0(-1),PC=S0(1);function RC(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),l=o&&bc(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function gp(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(a,u)=>{if(s)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)s=!0;else{let d=n.doc.resolve(u),c=d.index();s=d.parent.canReplaceWith(c,c+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[o];i.setBlockType(l,a,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function IC(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),l=!1,a=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let d=n.doc.resolve(o.start-2);a=new pl(d,d,o.depth),o.endIndex<o.parent.childCount&&(o=new pl(s,n.doc.resolve(i.end(o.depth)),o.depth)),l=!0}let u=bc(a,t,e,o);return u?(r&&r(LC(n.tr,o,u,l,t).scrollIntoView()),!0):!1}}function LC(t,e,n,r,s){let i=N.empty;for(let d=n.length-1;d>=0;d--)i=N.from(n[d].type.create(n[d].attrs,i));t.step(new je(e.start-(r?2:0),e.end,e.start,e.end,new I(i,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==s&&(o=d+1);let l=n.length-o,a=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,c=e.endIndex,f=!0;d<c;d++,f=!1)!f&&hs(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(d).nodeSize;return t}function zC(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?FC(e,n,t,i):BC(e,n,i):!0:!1}}function FC(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new je(i-1,o,i,o,new I(N.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new pl(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const l=Ls(r);if(l==null)return!1;s.lift(r,l);let a=s.mapping.map(i,-1)-1;return tr(s.doc,a)&&s.join(a),e(s.scrollIntoView()),!0}function BC(t,e,n){let r=t.tr,s=n.parent;for(let h=n.end,p=n.endIndex-1,y=n.startIndex;p>y;p--)h-=s.child(p).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(l?0:1),d+1,o.content.append(a?N.empty:N.from(s))))return!1;let c=i.pos,f=c+o.nodeSize;return r.step(new je(c-(l?1:0),f+(a?1:0),c+1,f-1,new I((l?N.empty:N.from(s.copy(N.empty))).append(a?N.empty:N.from(s.copy(N.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function _C(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,a=l.child(o-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,d=N.from(u?t.create():null),c=new I(N.from(t.create(null,N.from(l.type.create(null,d)))),u?3:1,0),f=i.start,h=i.end;n(e.tr.step(new je(f-(u?3:1),h,f,h,c,1,!0)).scrollIntoView())}return!0}}function Ql(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class Gl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...d)=>{const c=a(...d)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,l=[],a=!!e,u=e||i.tr,d=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),l.every(f=>f===!0)),c={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...y)=>{const x=this.buildProps(u,n),g=h(...y)(x);return l.push(g),c}])),run:d};return c}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...d)=>u(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s;i.storedMarks&&e.setStoredMarks(i.storedMarks);const l={tr:e,editor:s,view:o,state:Ql({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...d)=>u(...d)(l)]))}};return l}}class VC{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function z(t,e,n){return t.config[e]===void 0&&t.parent?z(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?z(t.parent,e,n):null}):t.config[e]}function Yl(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function w0(t){const e=[],{nodeExtensions:n,markExtensions:r}=Yl(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=z(o,"addGlobalAttributes",l);if(!a)return;a().forEach(d=>{d.types.forEach(c=>{Object.entries(d.attributes).forEach(([f,h])=>{e.push({type:c,name:f,attribute:{...i,...h}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=z(o,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([d,c])=>{const f={...i,...c};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:d,attribute:f})})}),e}function De(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function we(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}s==="class"?r[s]=[r[s],i].join(" "):s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function yd(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>we(n,r),{})}function C0(t){return typeof t=="function"}function J(t,e=void 0,...n){return C0(t)?e?t.bind(e)(...n):t(...n):t}function $C(t={}){return Object.keys(t).length===0&&t.constructor===Object}function HC(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function yp(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):HC(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...r,...s}}}}function kp(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&$C(n)?!1:n!=null))}function UC(t,e){var n;const r=w0(t),{nodeExtensions:s,markExtensions:i}=Yl(t),o=(n=s.find(u=>z(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(s.map(u=>{const d=r.filter(g=>g.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((g,m)=>{const k=z(m,"extendNodeSchema",c);return{...g,...k?k(u):{}}},{}),h=kp({...f,content:J(z(u,"content",c)),marks:J(z(u,"marks",c)),group:J(z(u,"group",c)),inline:J(z(u,"inline",c)),atom:J(z(u,"atom",c)),selectable:J(z(u,"selectable",c)),draggable:J(z(u,"draggable",c)),code:J(z(u,"code",c)),defining:J(z(u,"defining",c)),isolating:J(z(u,"isolating",c)),attrs:Object.fromEntries(d.map(g=>{var m;return[g.name,{default:(m=g==null?void 0:g.attribute)===null||m===void 0?void 0:m.default}]}))}),p=J(z(u,"parseHTML",c));p&&(h.parseDOM=p.map(g=>yp(g,d)));const y=z(u,"renderHTML",c);y&&(h.toDOM=g=>y({node:g,HTMLAttributes:yd(g,d)}));const x=z(u,"renderText",c);return x&&(h.toText=x),[u.name,h]})),a=Object.fromEntries(i.map(u=>{const d=r.filter(x=>x.type===u.name),c={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((x,g)=>{const m=z(g,"extendMarkSchema",c);return{...x,...m?m(u):{}}},{}),h=kp({...f,inclusive:J(z(u,"inclusive",c)),excludes:J(z(u,"excludes",c)),group:J(z(u,"group",c)),spanning:J(z(u,"spanning",c)),code:J(z(u,"code",c)),attrs:Object.fromEntries(d.map(x=>{var g;return[x.name,{default:(g=x==null?void 0:x.attribute)===null||g===void 0?void 0:g.default}]}))}),p=J(z(u,"parseHTML",c));p&&(h.parseDOM=p.map(x=>yp(x,d)));const y=z(u,"renderHTML",c);return y&&(h.toDOM=x=>y({mark:x,HTMLAttributes:yd(x,d)})),[u.name,h]}));return new eS({topNode:o,nodes:l,marks:a})}function Ya(t,e){return e.nodes[t]||e.marks[t]||null}function vp(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const WC=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,l)=>{var a,u;const d=((u=(a=s.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";n+=d.slice(0,Math.max(0,r-i))}),n};function Fc(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Xl{constructor(e){this.find=e.find,this.handler=e.handler}}const KC=(t,e)=>{if(Fc(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Xa(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let d=!1;const c=WC(u)+i;return o.forEach(f=>{if(d)return;const h=KC(c,f.find);if(!h)return;const p=a.state.tr,y=Ql({state:a.state,transaction:p}),x={from:r-(h[0].length-i.length),to:s},{commands:g,chain:m,can:k}=new Gl({editor:n,state:y});f.handler({state:y,range:x,match:h,commands:g,chain:m,can:k})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:r,to:s,text:i}),a.dispatch(p),d=!0)}),d}function JC(t){const{editor:e,rules:n}=t,r=new jt({state:{init(){return null},apply(s,i){const o=s.getMeta(r);return o||(s.selectionSet||s.docChanged?null:i)}},props:{handleTextInput(s,i,o,l){return Xa({editor:e,from:i,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Xa({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Xa({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function qC(t){return typeof t=="number"}class QC{constructor(e){this.find=e.find,this.handler=e.handler}}const GC=(t,e)=>{if(Fc(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function YC(t){const{editor:e,state:n,from:r,to:s,rule:i}=t,{commands:o,chain:l,can:a}=new Gl({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,s,(c,f)=>{if(!c.isTextblock||c.type.spec.code)return;const h=Math.max(r,f),p=Math.min(s,f+c.content.size),y=c.textBetween(h-f,p-f,void 0,"￼");GC(y,i.find).forEach(g=>{if(g.index===void 0)return;const m=h+g.index+1,k=m+g[0].length,w={from:n.tr.mapping.map(m),to:n.tr.mapping.map(k)},M=i.handler({state:n,range:w,match:g,commands:o,chain:l,can:a});u.push(M)})}),u.every(c=>c!==null)}function XC(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1;return n.map(l=>new jt({view(a){const u=d=>{var c;r=!((c=a.dom.parentElement)===null||c===void 0)&&c.contains(d.target)?a.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:a=>(i=r===a.dom.parentElement,!1),paste:(a,u)=>{var d;const c=(d=u.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return s=!!(c!=null&&c.includes("data-pm-slice")),!1}}},appendTransaction:(a,u,d)=>{const c=a[0],f=c.getMeta("uiEvent")==="paste"&&!s,h=c.getMeta("uiEvent")==="drop"&&!i;if(!f&&!h)return;const p=u.doc.content.findDiffStart(d.doc.content),y=u.doc.content.findDiffEnd(d.doc.content);if(!qC(p)||!y||p===y.b)return;const x=d.tr,g=Ql({state:d,transaction:x});if(!(!YC({editor:e,state:g,from:Math.max(p-1,0),to:y.b-1,rule:l})||!x.steps.length))return x}}))}function ZC(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class ns{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ns.resolve(e),this.schema=UC(this.extensions,n),this.extensions.forEach(r=>{var s;this.editor.extensionStorage[r.name]=r.storage;const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Ya(r.name,this.schema)};r.type==="mark"&&(!((s=J(z(r,"keepOnSplit",i)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(r.name);const o=z(r,"onBeforeCreate",i);o&&this.editor.on("beforeCreate",o);const l=z(r,"onCreate",i);l&&this.editor.on("create",l);const a=z(r,"onUpdate",i);a&&this.editor.on("update",a);const u=z(r,"onSelectionUpdate",i);u&&this.editor.on("selectionUpdate",u);const d=z(r,"onTransaction",i);d&&this.editor.on("transaction",d);const c=z(r,"onFocus",i);c&&this.editor.on("focus",c);const f=z(r,"onBlur",i);f&&this.editor.on("blur",f);const h=z(r,"onDestroy",i);h&&this.editor.on("destroy",h)})}static resolve(e){const n=ns.sort(ns.flatten(e)),r=ZC(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=z(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=z(r,"priority")||100,o=z(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ya(n.name,this.schema)},s=z(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=ns.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:Ya(o.name,this.schema)},a=[],u=z(o,"addKeyboardShortcuts",l);let d={};if(o.type==="mark"&&o.config.exitable&&(d.ArrowRight=()=>Ut.handleExit({editor:e,mark:o})),u){const y=Object.fromEntries(Object.entries(u()).map(([x,g])=>[x,()=>g({editor:e})]));d={...d,...y}}const c=mC(d);a.push(c);const f=z(o,"addInputRules",l);vp(o,e.options.enableInputRules)&&f&&r.push(...f());const h=z(o,"addPasteRules",l);vp(o,e.options.enablePasteRules)&&h&&s.push(...h());const p=z(o,"addProseMirrorPlugins",l);if(p){const y=p();a.push(...y)}return a}).flat();return[JC({editor:e,rules:r}),...XC({editor:e,rules:s}),...i]}get attributes(){return w0(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Yl(this.extensions);return Object.fromEntries(n.filter(r=>!!z(r,"addNodeView")).map(r=>{const s=this.attributes.filter(a=>a.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:De(r.name,this.schema)},o=z(r,"addNodeView",i);if(!o)return[];const l=(a,u,d,c)=>{const f=yd(a,s);return o()({editor:e,node:a,getPos:d,decorations:c,HTMLAttributes:f,extension:r})};return[r.name,l]}))}}function e2(t){return Object.prototype.toString.call(t).slice(8,-1)}function Za(t){return e2(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Zl(t,e){const n={...t};return Za(t)&&Za(e)&&Object.keys(e).forEach(r=>{Za(e[r])?r in t?n[r]=Zl(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class dt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(z(this,"addOptions",{name:this.name}))),this.storage=J(z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new dt(e)}configure(e={}){const n=this.extend();return n.options=Zl(this.options,e),n.storage=J(z(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new dt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(z(n,"addOptions",{name:n.name})),n.storage=J(z(n,"addStorage",{name:n.name,options:n.options})),n}}function M0(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="",a=!0;return t.nodesBetween(r,s,(u,d,c,f)=>{var h;const p=o==null?void 0:o[u.type.name];p?(u.isBlock&&!a&&(l+=i,a=!0),c&&(l+=p({node:u,pos:d,parent:c,index:f,range:e}))):u.isText?(l+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,d)-d,s-d),a=!1):u.isBlock&&!a&&(l+=i,a=!0)}),l}function E0(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const t2=dt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new jt({key:new nr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),a=E0(n);return M0(r,{from:o,to:l},{textSerializers:a})}}})]}}),n2=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),r2=(t=!1)=>({commands:e})=>e.setContent("",t),s2=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,c=u.resolve(d.map(a)),f=u.resolve(d.map(a+l.nodeSize)),h=c.blockRange(f);if(!h)return;const p=Ls(h);if(l.type.isTextblock){const{defaultType:y}=c.parent.contentMatchAt(c.index());e.setNodeMarkup(h.start,y)}(p||p===0)&&e.lift(h,p)})}),!0},i2=t=>e=>t(e),o2=()=>({state:t,dispatch:e})=>TC(t,e),l2=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),a=s.after(i);t.delete(l,a).scrollIntoView()}return!0}return!1},a2=t=>({tr:e,state:n,dispatch:r})=>{const s=De(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const a=i.before(o),u=i.after(o);e.delete(a,u).scrollIntoView()}return!0}return!1},u2=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},d2=()=>({state:t,dispatch:e})=>gC(t,e),c2=()=>({commands:t})=>t.keyboardShortcut("Enter"),f2=()=>({state:t,dispatch:e})=>NC(t,e);function wl(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:Fc(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function kd(t,e,n={}){return t.find(r=>r.type===e&&wl(r.attrs,n))}function h2(t,e,n={}){return!!kd(t,e,n)}function Bc(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=kd([...r.node.marks],e,n);if(!s)return;let i=r.index,o=t.start()+r.offset,l=i+1,a=o+r.node.nodeSize;for(kd([...r.node.marks],e,n);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&h2([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:a}}function sr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const p2=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=sr(t,r.schema),{doc:o,selection:l}=n,{$from:a,from:u,to:d}=l;if(s){const c=Bc(a,i,e);if(c&&c.from<=u&&c.to>=d){const f=Q.create(o,c.from,c.to);n.setSelection(f)}}return!0},m2=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function b0(t){return t instanceof Q}function gr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function N0(t,e=null){if(!e)return null;const n=q.atStart(t),r=q.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Q.create(t,gr(0,s,i),gr(t.content.size,s,i)):Q.create(t,gr(e,s,i),gr(e,s,i))}function _c(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const g2=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{_c()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!b0(n.state.selection))return o(),!0;const l=N0(s.doc,t)||n.state.selection,a=n.state.selection.eq(l);return i&&(a||s.setSelection(l),a&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},y2=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),k2=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function xp(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Cl(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?N.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Cl("",e,n)}if(typeof t=="string"){const r=Cs.fromSchema(e);return n.slice?r.parseSlice(xp(t),n.parseOptions).content:r.parse(xp(t),n.parseOptions)}return Cl("",e,n)}function v2(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof We||s instanceof je))return;const i=t.mapping.maps[r];let o=0;i.forEach((l,a,u,d)=>{o===0&&(o=d)}),t.setSelection(q.near(t.doc.resolve(o),n))}const x2=t=>t.toString().startsWith("<"),S2=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{if(s){n={parseOptions:{},updateSelection:!0,...n};const o=Cl(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:t,u=!0,d=!0;if((x2(o)?o:[o]).forEach(f=>{f.check(),u=u?f.isText&&f.marks.length===0:!1,d=d?f.isBlock:!1}),l===a&&d){const{parent:f}=r.doc.resolve(l);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(l-=1,a+=1)}u?Array.isArray(e)?r.insertText(e.map(f=>f.text||"").join(""),l,a):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,a):r.insertText(e,l,a):r.replaceWith(l,a,o),n.updateSelection&&v2(r,r.steps.length-1,-1)}return!0},w2=()=>({state:t,dispatch:e})=>CC(t,e),C2=()=>({state:t,dispatch:e})=>MC(t,e),M2=()=>({state:t,dispatch:e})=>kC(t,e),E2=()=>({state:t,dispatch:e})=>SC(t,e);function T0(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function b2(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))s=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))_c()||T0()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const N2=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=b2(t).split(/-(?!$)/),o=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const d=u.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function Fi(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?De(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(c,f)=>{if(c.isText)return;const h=Math.max(r,f),p=Math.min(s,f+c.nodeSize);l.push({node:c,from:h,to:p})});const a=s-r,u=l.filter(c=>o?o.name===c.node.type.name:!0).filter(c=>wl(c.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((c,f)=>c+f.to-f.from,0)>=a}const T2=(t,e={})=>({state:n,dispatch:r})=>{const s=De(t,n.schema);return Fi(n,s,e)?EC(n,r):!1},O2=()=>({state:t,dispatch:e})=>OC(t,e),j2=t=>({state:e,dispatch:n})=>{const r=De(t,e.schema);return zC(r)(e,n)},A2=()=>({state:t,dispatch:e})=>bC(t,e);function ea(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Sp(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const D2=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=ea(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=De(t,r.schema)),l==="mark"&&(o=sr(t,r.schema)),s&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,d)=>{i&&i===u.type&&n.setNodeMarkup(d,void 0,Sp(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(c=>{o===c.type&&n.addMark(d,d+u.nodeSize,o.create(Sp(c.attrs,e)))})})}),!0):!1},P2=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),R2=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),I2=()=>({state:t,dispatch:e})=>vC(t,e),L2=()=>({state:t,dispatch:e})=>wC(t,e),z2=()=>({state:t,dispatch:e})=>jC(t,e),F2=()=>({state:t,dispatch:e})=>PC(t,e),B2=()=>({state:t,dispatch:e})=>DC(t,e);function O0(t,e,n={}){return Cl(t,e,{slice:!1,parseOptions:n})}const _2=(t,e=!1,n={})=>({tr:r,editor:s,dispatch:i})=>{const{doc:o}=r,l=O0(t,s.schema,n);return i&&r.replaceWith(0,o.content.size,l).setMeta("preventUpdate",!e),!0};function V2(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function $2(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Vc(t){return e=>$2(e.$from,t)}function H2(t,e){const n=Xt.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function U2(t,e){const n={from:0,to:t.content.size};return M0(t,n,e)}function Gi(t,e){const n=sr(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function W2(t,e){const n=De(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function K2(t,e){const n=ea(typeof e=="string"?e:e.name,t.schema);return n==="node"?W2(t,e):n==="mark"?Gi(t,e):{}}function j0(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t-1),o=Bc(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function Po(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function vd(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?sr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(c=>i?i.name===c.type.name:!0).find(c=>wl(c.attrs,n,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:c,$to:f})=>{const h=c.pos,p=f.pos;t.doc.nodesBetween(h,p,(y,x)=>{if(!y.isText&&!y.marks.length)return;const g=Math.max(h,x),m=Math.min(p,x+y.nodeSize),k=m-g;o+=k,l.push(...y.marks.map(w=>({mark:w,from:g,to:m})))})}),o===0)return!1;const a=l.filter(c=>i?i.name===c.mark.type.name:!0).filter(c=>wl(c.mark.attrs,n,{strict:!1})).reduce((c,f)=>c+f.to-f.from,0),u=l.filter(c=>i?c.mark.type!==i&&c.mark.type.excludes(i):!0).reduce((c,f)=>c+f.to-f.from,0);return(a>0?a+u:a)>=o}function J2(t,e,n={}){if(!e)return Fi(t,null,n)||vd(t,null,n);const r=ea(e,t.schema);return r==="node"?Fi(t,e,n):r==="mark"?vd(t,e,n):!1}function wp(t,e){const{nodeExtensions:n}=Yl(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=J(z(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function q2(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function Q2(t,e,n){var r;const{selection:s}=e;let i=null;if(b0(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:o}=s;return o.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(d,c,f)=>{if(u)return!1;if(d.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(d.marks)||!d.marks.some(y=>y.type.excludes(n));u=h&&p}return!u}),u})}const G2=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:l}=i,a=sr(t,r.schema);if(s)if(o){const u=Gi(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,c=u.$to.pos;r.doc.nodesBetween(d,c,(f,h)=>{const p=Math.max(h,d),y=Math.min(h+f.nodeSize,c);f.marks.find(g=>g.type===a)?f.marks.forEach(g=>{a===g.type&&n.addMark(p,y,a.create({...g.attrs,...e}))}):n.addMark(p,y,a.create(e))})});return Q2(r,n,a)},Y2=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),X2=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=De(t,n.schema);return i.isTextblock?s().command(({commands:o})=>gp(i,e)(n)?!0:o.clearNodes()).command(({state:o})=>gp(i,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Z2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=gr(t,0,r.content.size),i=V.create(r,s);e.setSelection(i)}return!0},eM=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=Q.atStart(r).from,l=Q.atEnd(r).to,a=gr(s,o,l),u=gr(i,o,l),d=Q.create(r,a,u);e.setSelection(d)}return!0},tM=t=>({state:e,dispatch:n})=>{const r=De(t,e.schema);return _C(r)(e,n)};function Cp(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const nM=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:a}=i,u=s.extensionManager.attributes,d=Po(u,l.node().type.name,l.node().attrs);if(i instanceof V&&i.node.isBlock)return!l.parentOffset||!hs(o,l.pos)?!1:(r&&(t&&Cp(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const c=a.parentOffset===a.parent.content.size;i instanceof Q&&e.deleteSelection();const f=l.depth===0?void 0:V2(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=c&&f?[{type:f,attrs:d}]:void 0,p=hs(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&hs(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:d}]:void 0),p&&(e.split(e.mapping.map(l.pos),1,h),f&&!c&&!l.parentOffset&&l.parent.type!==f)){const y=e.mapping.map(l.before()),x=e.doc.resolve(y);l.node(-1).canReplaceWith(x.index(),x.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&Cp(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},rM=t=>({tr:e,state:n,dispatch:r,editor:s})=>{var i;const o=De(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const d=l.node(-1);if(d.type!==o)return!1;const c=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let x=N.empty;const g=l.index(-1)?1:l.index(-2)?2:3;for(let D=l.depth-g;D>=l.depth-3;D-=1)x=N.from(l.node(D).copy(x));const m=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k=Po(c,l.node().type.name,l.node().attrs),w=((i=o.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(k))||void 0;x=x.append(N.from(o.createAndFill(null,w)||void 0));const M=l.before(l.depth-(g-1));e.replace(M,l.after(-m),new I(x,4-g,0));let A=-1;e.doc.nodesBetween(M,e.doc.content.size,(D,b)=>{if(A>-1)return!1;D.isTextblock&&D.content.size===0&&(A=b+1)}),A>-1&&e.setSelection(Q.near(e.doc.resolve(A))),e.scrollIntoView()}return!0}const f=a.pos===l.end()?d.contentMatchAt(0).defaultType:null,h=Po(c,d.type.name,d.attrs),p=Po(c,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const y=f?[{type:o,attrs:h},{type:f,attrs:p}]:[{type:o,attrs:h}];if(!hs(e.doc,l.pos,2))return!1;if(r){const{selection:x,storedMarks:g}=n,{splittableMarks:m}=s.extensionManager,k=g||x.$to.parentOffset&&x.$from.marks();if(e.split(l.pos,2,y).scrollIntoView(),!k||!r)return!0;const w=k.filter(M=>m.includes(M.type.name));e.ensureMarks(w)}return!0},eu=(t,e)=>{const n=Vc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&tr(t.doc,n.pos)&&t.join(n.pos),!0},tu=(t,e)=>{const n=Vc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&tr(t.doc,r)&&t.join(r),!0},sM=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:l,chain:a,commands:u,can:d})=>{const{extensions:c,splittableMarks:f}=s.extensionManager,h=De(t,o.schema),p=De(e,o.schema),{selection:y,storedMarks:x}=o,{$from:g,$to:m}=y,k=g.blockRange(m),w=x||y.$to.parentOffset&&y.$from.marks();if(!k)return!1;const M=Vc(A=>wp(A.type.name,c))(y);if(k.depth>=1&&M&&k.depth-M.depth<=1){if(M.node.type===h)return u.liftListItem(p);if(wp(M.node.type.name,c)&&h.validContent(M.node.content)&&l)return a().command(()=>(i.setNodeMarkup(M.pos,h),!0)).command(()=>eu(i,h)).command(()=>tu(i,h)).run()}return!n||!w||!l?a().command(()=>d().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>eu(i,h)).command(()=>tu(i,h)).run():a().command(()=>{const A=d().wrapInList(h,r),D=w.filter(b=>f.includes(b.type.name));return i.ensureMarks(D),A?!0:u.clearNodes()}).wrapInList(h,r).command(()=>eu(i,h)).command(()=>tu(i,h)).run()},iM=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=sr(t,r.schema);return vd(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},oM=(t,e,n={})=>({state:r,commands:s})=>{const i=De(t,r.schema),o=De(e,r.schema);return Fi(r,i,n)?s.setNode(o):s.setNode(i,n)},lM=(t,e={})=>({state:n,commands:r})=>{const s=De(t,n.schema);return Fi(n,s,e)?r.lift(s):r.wrapIn(s,e)},aM=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,a))}else o.delete(i.from,i.to)}return!0}}return!1},uM=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},dM=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,a=sr(t,r.schema),{$from:u,empty:d,ranges:c}=l;if(!s)return!0;if(d&&o){let{from:f,to:h}=l;const p=(i=u.marks().find(x=>x.type===a))===null||i===void 0?void 0:i.attrs,y=Bc(u,a,p);y&&(f=y.from,h=y.to),n.removeMark(f,h,a)}else c.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},cM=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=ea(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=De(t,r.schema)),l==="mark"&&(o=sr(t,r.schema)),s&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,d=a.$to.pos;r.doc.nodesBetween(u,d,(c,f)=>{i&&i===c.type&&n.setNodeMarkup(f,void 0,{...c.attrs,...e}),o&&c.marks.length&&c.marks.forEach(h=>{if(o===h.type){const p=Math.max(f,u),y=Math.min(f+c.nodeSize,d);n.addMark(p,y,o.create({...h.attrs,...e}))}})})}),!0):!1},fM=(t,e={})=>({state:n,dispatch:r})=>{const s=De(t,n.schema);return RC(s,e)(n,r)},hM=(t,e={})=>({state:n,dispatch:r})=>{const s=De(t,n.schema);return IC(s,e)(n,r)};var pM=Object.freeze({__proto__:null,blur:n2,clearContent:r2,clearNodes:s2,command:i2,createParagraphNear:o2,deleteCurrentNode:l2,deleteNode:a2,deleteRange:u2,deleteSelection:d2,enter:c2,exitCode:f2,extendMarkRange:p2,first:m2,focus:g2,forEach:y2,insertContent:k2,insertContentAt:S2,joinUp:w2,joinDown:C2,joinBackward:M2,joinForward:E2,keyboardShortcut:N2,lift:T2,liftEmptyBlock:O2,liftListItem:j2,newlineInCode:A2,resetAttributes:D2,scrollIntoView:P2,selectAll:R2,selectNodeBackward:I2,selectNodeForward:L2,selectParentNode:z2,selectTextblockEnd:F2,selectTextblockStart:B2,setContent:_2,setMark:G2,setMeta:Y2,setNode:X2,setNodeSelection:Z2,setTextSelection:eM,sinkListItem:tM,splitBlock:nM,splitListItem:rM,toggleList:sM,toggleMark:iM,toggleNode:oM,toggleWrap:lM,undoInputRule:aM,unsetAllMarks:uM,unsetMark:dM,updateAttributes:cM,wrapIn:fM,wrapInList:hM});const mM=dt.create({name:"commands",addCommands(){return{...pM}}}),gM=dt.create({name:"editable",addProseMirrorPlugins(){return[new jt({key:new nr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),yM=dt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new jt({key:new nr("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),kM=dt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:d,$anchor:c}=a,{pos:f,parent:h}=c,p=q.atStart(u).from===f;return!d||!p||!h.type.isTextblock||h.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _c()||T0()?i:s},addProseMirrorPlugins(){return[new jt({key:new nr("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:s,from:i,to:o}=e.selection,l=q.atStart(e.doc).from,a=q.atEnd(e.doc).to;if(s||!(i===l&&o===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const c=n.tr,f=Ql({state:n,transaction:c}),{commands:h}=new Gl({editor:this.editor,state:f});if(h.clearNodes(),!!c.steps.length)return c}})]}}),vM=dt.create({name:"tabindex",addProseMirrorPlugins(){return[new jt({key:new nr("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var xM=Object.freeze({__proto__:null,ClipboardTextSerializer:t2,Commands:mM,Editable:gM,FocusEvents:yM,Keymap:kM,Tabindex:vM});const SM=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function wM(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let CM=class extends VC{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=wM(SM,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=C0(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(xM):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new ns(n,this)}createCommandManager(){this.commandManager=new Gl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=O0(this.options.content,this.schema,this.options.parseOptions),n=N0(e,this.options.autofocus);this.view=new oC(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ts.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return K2(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return J2(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return H2(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return U2(this.state.doc,{blockSeparator:n,textSerializers:{...E0(this.schema),...r}})}get isEmpty(){return q2(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Os(t){return new Xl({find:t.find,handler:({state:e,range:n,match:r})=>{const s=J(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],l=r[0];let a=n.to;if(o){const u=l.search(/\S/),d=n.from+l.indexOf(o),c=d+o.length;if(j0(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>d).length)return null;c<n.to&&i.delete(c,n.to),d>n.from&&i.delete(n.from+u,d),a=n.from+u+o.length,i.addMark(n.from+u,a,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function MM(t){return new Xl({find:t.find,handler:({state:e,range:n,match:r})=>{const s=J(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let l=n.to;if(r[1]){const a=r[0].lastIndexOf(r[1]);let u=o+a;u>l?u=l:l=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,o+r[0].length-1),i.replaceWith(u,l,t.type.create(s))}else r[0]&&i.replaceWith(o,l,t.type.create(s))}})}function xd(t){return new Xl({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=J(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function Bi(t){return new Xl({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=J(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),u=a&&bc(a,t.type,i);if(!u)return null;if(o.wrap(a,u),t.keepMarks&&t.editor){const{selection:c,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||c.$to.parentOffset&&c.$from.marks();if(p){const y=p.filter(x=>h.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const c=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(c,i).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&tr(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&o.join(n.from-1)}})}class Ut{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(z(this,"addOptions",{name:this.name}))),this.storage=J(z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ut(e)}configure(e={}){const n=this.extend();return n.options=Zl(this.options,e),n.storage=J(z(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ut(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(z(n,"addOptions",{name:n.name})),n.storage=J(z(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=o.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}class qe{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(z(this,"addOptions",{name:this.name}))),this.storage=J(z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new qe(e)}configure(e={}){const n=this.extend();return n.options=Zl(this.options,e),n.storage=J(z(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new qe(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(z(n,"addOptions",{name:n.name})),n.storage=J(z(n,"addStorage",{name:n.name,options:n.options})),n}}function js(t){return new QC({find:t.find,handler:({state:e,range:n,match:r})=>{const s=J(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],l=r[0];let a=n.to;if(o){const u=l.search(/\S/),d=n.from+l.indexOf(o),c=d+o.length;if(j0(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>d).length)return null;c<n.to&&i.delete(c,n.to),d>n.from&&i.delete(n.from+u,d),a=n.from+u+o.length,i.addMark(n.from+u,a,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}class EM extends CM{constructor(){super(...arguments),this.contentComponent=null}}const bM=({renderers:t})=>ke.createElement(ke.Fragment,null,Object.entries(t).map(([e,n])=>fv.createPortal(n.reactElement,n.element,e)));class NM extends ke.Component{constructor(e){super(e),this.editorContentRef=ke.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?mc.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return ke.createElement(ke.Fragment,null,ke.createElement("div",{ref:this.editorContentRef,...n}),ke.createElement(bM,{renderers:this.state.renderers}))}}const TM=ke.memo(NM),OM=j.createContext({onDragStart:void 0}),jM=()=>j.useContext(OM);ke.forwardRef((t,e)=>{const{onDragStart:n}=jM(),r=t.as||"div";return ke.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function AM(){const[,t]=j.useState(0);return()=>t(e=>e+1)}const DM=(t={},e=[])=>{const[n,r]=j.useState(null),s=AM(),{onBeforeCreate:i,onBlur:o,onCreate:l,onDestroy:a,onFocus:u,onSelectionUpdate:d,onTransaction:c,onUpdate:f}=t,h=j.useRef(i),p=j.useRef(o),y=j.useRef(l),x=j.useRef(a),g=j.useRef(u),m=j.useRef(d),k=j.useRef(c),w=j.useRef(f);return j.useEffect(()=>{n&&(i&&(n.off("beforeCreate",h.current),n.on("beforeCreate",i),h.current=i),o&&(n.off("blur",p.current),n.on("blur",o),p.current=o),l&&(n.off("create",y.current),n.on("create",l),y.current=l),a&&(n.off("destroy",x.current),n.on("destroy",a),x.current=a),u&&(n.off("focus",g.current),n.on("focus",u),g.current=u),d&&(n.off("selectionUpdate",m.current),n.on("selectionUpdate",d),m.current=d),c&&(n.off("transaction",k.current),n.on("transaction",c),k.current=c),f&&(n.off("update",w.current),n.on("update",f),w.current=f))},[i,o,l,a,u,d,c,f,n]),j.useEffect(()=>{let M=!0;const A=new EM(t);return r(A),A.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{M&&s()})})}),()=>{A.destroy(),M=!1}},e),n},PM=/^\s*>\s$/,RM=qe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Bi({find:PM,type:this.type})]}}),IM=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,LM=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,zM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,FM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,BM=Ut.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Os({find:IM,type:this.type}),Os({find:zM,type:this.type})]},addPasteRules(){return[js({find:LM,type:this.type}),js({find:FM,type:this.type})]}}),_M=qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",we(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Mp=Ut.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",we(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Gi(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),Ep=/^\s*([-+*])\s$/,VM=qe.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",we(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_M.name,this.editor.getAttributes(Mp.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Bi({find:Ep,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Bi({find:Ep,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Mp.name),editor:this.editor})),[t]}}),$M=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,HM=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,UM=Ut.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Os({find:$M,type:this.type})]},addPasteRules(){return[js({find:HM,type:this.type})]}}),WM=/^```([a-z]+)?[\s\n]$/,KM=/^~~~([a-z]+)?[\s\n]$/,JM=qe.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",we(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[xd({find:WM,type:this.type,getAttributes:t=>({language:t[1]})}),xd({find:KM,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new jt({key:new nr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o}=t.state;return o.replaceSelectionWith(this.type.create({language:i})),o.setSelection(Q.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),qM=qe.create({name:"doc",topNode:!0,content:"block+"});function QM(t={}){return new jt({view(e){return new GM(e,t)}})}class GM{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let d=u.getBoundingClientRect(),c=l?d.bottom:d.top;l&&a&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:d.left,right:d.right,top:c-this.width/2,bottom:c+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let l=s.getBoundingClientRect();i=l.left-s.scrollLeft,o=l.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Ay(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const YM=dt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[QM(this.options)]}});class pe extends q{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return pe.valid(r)?new pe(r):q.near(r)}content(){return I.empty}eq(e){return e instanceof pe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new pe(e.resolve(n.pos))}getBookmark(){return new $c(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!XM(e)||!ZM(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&pe.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let a=e.doc.resolve(s);if(pe.valid(a))return a}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!V.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let l=e.doc.resolve(s);if(pe.valid(l))return l}return null}}}pe.prototype.visible=!1;pe.findFrom=pe.findGapCursorFrom;q.jsonID("gapcursor",pe);class $c{constructor(e){this.pos=e}map(e){return new $c(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return pe.valid(n)?new pe(n):q.near(n)}}function XM(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function ZM(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function eE(){return new jt({props:{decorations:sE,createSelectionBetween(t,e,n){return e.pos==n.pos&&pe.valid(n)?new pe(n):null},handleClick:nE,handleKeyDown:tE,handleDOMEvents:{beforeinput:rE}}})}const tE=g0({ArrowLeft:ko("horiz",-1),ArrowRight:ko("horiz",1),ArrowUp:ko("vert",-1),ArrowDown:ko("vert",1)});function ko(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof Q){if(!i.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=pe.findGapCursorFrom(l,e,a);return u?(s&&s(r.tr.setSelection(new pe(u))),!0):!1}}function nE(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!pe.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&V.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new pe(r))),!0)}function rE(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof pe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=N.empty;for(let o=r.length-1;o>=0;o--)s=N.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new I(s,0,0));return i.setSelection(Q.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function sE(t){if(!(t.selection instanceof pe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Me.create(t.doc,[Et.widget(t.selection.head,e,{key:"gapcursor"})])}const iE=dt.create({name:"gapCursor",addProseMirrorPlugins(){return[eE()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=J(z(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),oE=qe.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",we(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,a=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&a&&o){const c=a.filter(f=>l.includes(f.type.name));u.ensureMarks(c)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),lE=qe.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,we(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>xd({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ml=200,Ae=function(){};Ae.prototype.append=function(e){return e.length?(e=Ae.from(e),!this.length&&e||e.length<Ml&&this.leafAppend(e)||this.length<Ml&&e.leafPrepend(this)||this.appendInner(e)):this};Ae.prototype.prepend=function(e){return e.length?Ae.from(e).append(this):this};Ae.prototype.appendInner=function(e){return new aE(this,e)};Ae.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ae.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ae.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ae.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ae.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};Ae.from=function(e){return e instanceof Ae?e:e&&e.length?new A0(e):Ae.empty};var A0=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var a=i;a<o;a++)if(s(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var a=i-1;a>=o;a--)if(s(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Ml)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Ml)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ae);Ae.empty=new A0([]);var aE=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ae);const uE=500;class Ft{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,l,a,u=[],d=[];return this.items.forEach((c,f)=>{if(!c.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,d.push(c);return}if(s){d.push(new qt(c.map));let h=c.step.map(s.slice(i)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new qt(p,void 0,void 0,u.length+d.length))),i--,p&&s.appendMap(p,i)}else o.maybeStep(c.step);if(c.selection)return l=s?c.selection.map(s.slice(i)):c.selection,a=new Ft(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,n,r,s){let i=[],o=this.eventCount,l=this.items,a=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let c=e.steps[d].invert(e.docs[d]),f=new qt(e.mapping.maps[d],c,n),h;(h=a&&a.merge(f))&&(f=h,d?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(o++,n=void 0),s||(a=f)}let u=o-r.depth;return u>cE&&(l=dE(l,u),o-=u),new Ft(l.append(i),o)}remapping(e,n){let r=new fs;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ft(this.items.append(e.map(n=>new qt(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},s);let a=n;this.items.forEach(f=>{let h=i.getMirror(--a);if(h==null)return;o=Math.min(o,h);let p=i.maps[h];if(f.step){let y=e.steps[h].invert(e.docs[h]),x=f.selection&&f.selection.map(i.slice(a+1,h));x&&l++,r.push(new qt(p,y,x))}else r.push(new qt(p))},s);let u=[];for(let f=n;f<o;f++)u.push(new qt(i.maps[f]));let d=this.items.slice(0,s).append(u).append(r),c=new Ft(d,l);return c.emptyItemCount()>uE&&(c=c.compress(this.items.length-r.length)),c}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let a=o.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let d=o.selection&&o.selection.map(n.slice(r));d&&i++;let c=new qt(u.invert(),a,d),f,h=s.length-1;(f=s.length&&s[h].merge(c))?s[h]=f:s.push(c)}}else o.map&&r--},this.items.length,0),new Ft(Ae.from(s.reverse()),i)}}Ft.empty=new Ft(Ae.empty,0);function dE(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class qt{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new qt(n.getMap().invert(),n,this.selection)}}}class En{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const cE=20;function fE(t,e,n,r){let s=n.getMeta(qn),i;if(s)return s.historyState;n.getMeta(pE)&&(t=new En(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(qn))return o.getMeta(qn).redo?new En(t.done.addTransform(n,void 0,r,Ro(e)),t.undone,bp(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new En(t.done,t.undone.addTransform(n,void 0,r,Ro(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!hE(n,t.prevRanges)),u=o?nu(t.prevRanges,n.mapping):bp(n.mapping.maps[n.steps.length-1]);return new En(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Ro(e)),Ft.empty,u,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new En(t.done.rebased(n,i),t.undone.rebased(n,i),nu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new En(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),nu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function hE(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function bp(t){let e=[];return t.forEach((n,r,s,i)=>e.push(s,i)),e}function nu(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function D0(t,e,n,r){let s=Ro(e),i=qn.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,s);if(!o)return;let l=o.selection.resolve(o.transform.doc),a=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,s),u=new En(r?a:o.remaining,r?o.remaining:a,null,0,-1);n(o.transform.setSelection(l).setMeta(qn,{redo:r,historyState:u}).scrollIntoView())}let ru=!1,Np=null;function Ro(t){let e=t.plugins;if(Np!=e){ru=!1,Np=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ru=!0;break}}return ru}const qn=new nr("history"),pE=new nr("closeHistory");function mE(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new jt({key:qn,state:{init(){return new En(Ft.empty,Ft.empty,null,0,-1)},apply(e,n,r){return fE(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?P0:r=="historyRedo"?R0:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}const P0=(t,e)=>{let n=qn.getState(t);return!n||n.done.eventCount==0?!1:(e&&D0(n,t,e,!1),!0)},R0=(t,e)=>{let n=qn.getState(t);return!n||n.undone.eventCount==0?!1:(e&&D0(n,t,e,!0),!0)},gE=dt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>P0(t,e),redo:()=>({state:t,dispatch:e})=>R0(t,e)}},addProseMirrorPlugins(){return[mE(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),yE=qe.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",we(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:s}=e.selection,i=s.end();if(s.nodeAfter)e.setSelection(Q.create(e.doc,s.pos));else{const o=(r=s.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();o&&(e.insert(i,o),e.setSelection(Q.create(e.doc,i)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[MM({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),kE=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,vE=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,xE=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,SE=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,wE=Ut.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Os({find:kE,type:this.type}),Os({find:xE,type:this.type})]},addPasteRules(){return[js({find:vE,type:this.type}),js({find:SE,type:this.type})]}}),I0=qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",we(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),CE=qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",we(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Tp=Ut.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",we(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Gi(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),Op=/^(\d+)\.\s$/,ME=qe.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",we(this.options.HTMLAttributes,n),0]:["ol",we(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(CE.name,this.editor.getAttributes(Tp.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Bi({find:Op,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Bi({find:Op,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Tp.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),EE=qe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),bE=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,NE=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,TE=Ut.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Os({find:bE,type:this.type})]},addPasteRules(){return[js({find:NE,type:this.type})]}}),OE=qe.create({name:"text",group:"inline"}),jE=dt.create({name:"starterKit",addExtensions(){var t,e,n,r,s,i,o,l,a,u,d,c,f,h,p,y,x,g;const m=[];return this.options.blockquote!==!1&&m.push(RM.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&m.push(BM.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&m.push(VM.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&m.push(UM.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&m.push(JM.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&m.push(qM.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&m.push(YM.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&m.push(iE.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&m.push(oE.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&m.push(lE.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&m.push(gE.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&m.push(yE.configure((c=this.options)===null||c===void 0?void 0:c.horizontalRule)),this.options.italic!==!1&&m.push(wE.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&m.push(I0.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&m.push(ME.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&m.push(EE.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&m.push(TE.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&m.push(OE.configure((g=this.options)===null||g===void 0?void 0:g.text)),m}}),AE=Ut.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",we(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Gi(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),DE=dt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});function PE(){const t=DM({editorProps:{attributes:{class:"outline-none px-10 py-5 bg-white h-full overflow-y-scroll"}},extensions:[DE.configure({types:[AE.name,I0.name]}),jE.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],content:"hello world"});return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"w-screen h-screen bg-zinc-100 flex flex-col",children:[S.jsx(Mc,{name:"user"}),S.jsx("div",{className:"w-full h-[48px] flex-none",children:"header space"}),S.jsx("input",{type:"text",placeholder:"title",className:"flex-none w-full font-bold text-4xl px-10 outline-none leading-3"}),S.jsx("div",{className:"flex gap-1 flex-wrap text-zinc-400 flex-none",children:S.jsx(RE,{editor:t})}),S.jsx(TM,{editor:t,className:"flex-grow outline-none w-full h-full text-zinc-500 overflow-clip"}),S.jsx("div",{className:"w-full h-24 bg-slate-300 flex-none flex flex-col justify-center text-center text-white text-2xl",children:"작성완료"})]})})}const RE=({editor:t})=>{if(!t)return null;const e="border-2 border-zinc-500 px-1 rounded-md bg-zinc-500 text-white",n="border-2 border-zinc-300 px-1 rounded-md ";return S.jsxs(S.Fragment,{children:[S.jsx("button",{className:n,onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:"undo"}),S.jsx("button",{className:n,onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:"redo"}),"mark |",S.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?e:n,children:S.jsx("strong",{children:"b"})}),S.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?e:n,children:S.jsx("em",{children:"italic"})}),S.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:t.isActive("strike")?e+"line-through":n+"line-through",children:"strike"}),S.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!t.can().chain().focus().toggleCode().run(),className:t.isActive("code")?e:n,children:"``"}),S.jsx("button",{className:n,onClick:()=>t.chain().focus().unsetAllMarks().run(),children:"clear"}),"node |",S.jsx("button",{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?e:n,children:"p"}),S.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?e:n,children:"#"}),S.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?e:n,children:"##"}),S.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?e:n,children:"###"}),S.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?e:n,children:"-"}),S.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?e:n,children:"1."}),S.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:t.isActive("codeBlock")?e:n,children:"```"}),S.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?e:n,children:">"}),S.jsx("button",{className:n,onClick:()=>t.chain().focus().clearNodes().run(),children:"clear"}),"etc |",S.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),className:n,children:"---"}),S.jsx("button",{className:n,onClick:()=>t.chain().focus().setHardBreak().run(),children:"br"}),"color |",S.jsx("button",{onClick:()=>t.chain().focus().setColor("#958DF1").run(),className:t.isActive("textStyle",{color:"#958DF1"})?e:n+"text-[#958DF1]",children:"purple"})]})};function IE(){return S.jsxs("footer",{className:"absolute bottom-0 w-full h-[180px] bg-zinc-100",children:[S.jsxs("div",{className:"fixed bottom-[60px] right-0 w-full h-[120px] px-6 text-center items-center flex flex-col gap-2 ",children:[S.jsx("button",{className:"w-full h-[60px] bg-zinc-300 rounded-full",children:"로그아웃"}),S.jsx("div",{className:"w-full h-[60px] flex justify-center",children:S.jsx("button",{className:"w-fit h-fit right-0 text-zinc-400 border-b-2 border-zinc-400 m-auto",children:"회원탈퇴"})})]}),S.jsx(vc,{})]})}const LE=t=>(console.log(t),"테스트-유져");function zE(){const t=Ki().pathname.replace("/mypage/",""),e=LE(t);return S.jsxs("div",{className:"w-screen h-screen relative overflow-hidden bg-zinc-100",children:[S.jsx(Mc,{name:e}),S.jsxs("section",{className:"translate-y-12 w-full h-full px-6 overflow-y-scroll scrollbar-hide",children:[FE.map((n,r)=>S.jsx("div",{className:"mt-4 px-5 pt-3 pb-5 w-full h-fit border rounded-[20px] bg-white ",children:S.jsxs("div",{className:"w-full max-h-[80vh] flex flex-col gap-1 overflow-hidden",children:[S.jsxs("div",{className:"flex font-bold text-base justify-between ",children:[S.jsx("div",{className:"",children:n.title}),S.jsxs("div",{className:"",children:["작성일 ",n.date]})]}),S.jsx("div",{className:"h-full text-xs overflow-hidden ",children:n.content})]})},n.title+r)),S.jsx("div",{className:"w-full h-[280px] "})]}),S.jsx(IE,{})]})}const FE=[{title:"wrote",date:"8/1/2122",content:`eaYbVeHsXREnonRLgkCQ Lorem lasdsad
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		a;sdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdsad asdasdasdasd asd asd sad asd lasdaskd jkas jk sa
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		asdasdnasldnkasdnlasndnlasdnlnasdnasndnsad a nskl nklas klalsdn
		asdkajsd ba jks djaksd asjkjkasbd kkas dbkb k
		`,tag:""},{title:"bright",date:"1/22/2116",content:"EgcjPpuoZCRRw",tag:""},{title:"paragraph",date:"2/3/2034",content:"sJTXRHXOCoEzyIH",tag:""},{title:"arrow",date:"8/17/2023",content:"jGsMOuBAMumTE",tag:""},{title:"claws",date:"5/5/2069",content:"jjojRF",tag:""},{title:"upward",date:"7/20/2047",content:"ZzvjXHZXeJJadfi",tag:""},{title:"detail",date:"2/13/2087",content:"fyBMOejdsnWyKzBctVh",tag:""},{title:"especially",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""},{title:"especially",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""},{title:"especially",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""},{title:"end post",date:"4/20/2117",content:"KkvYGPvYgupq",tag:""}],BE="/ilsang-0gam";function _E(){return S.jsx(ox,{basename:BE,children:S.jsxs(ex,{children:[S.jsx(lr,{path:"/",element:S.jsx(cx,{})}),S.jsx(lr,{path:"/signup",element:S.jsx(hx,{})}),S.jsx(lr,{path:"/main",element:S.jsx(zx,{})}),S.jsx(lr,{path:"/watch/:id",element:S.jsx(Bx,{})}),S.jsx(lr,{path:"/write",element:S.jsx(PE,{})}),S.jsx(lr,{path:"/mypage/:id",element:S.jsx(zE,{})})]})})}function VE(){return S.jsx(_E,{})}su.createRoot(document.getElementById("root")).render(S.jsx(ke.StrictMode,{children:S.jsx(VE,{})}));
